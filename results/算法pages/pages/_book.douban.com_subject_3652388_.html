

<!DOCTYPE html>
<html lang="zh-cmn-Hans" class="ua-windows ua-ie6 book-new-nav">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>程序员的自我修养 (豆瓣)</title>
  
<script>!function(e){var o=function(o,n,t){var c,i,r=new Date;n=n||30,t=t||"/",r.setTime(r.getTime()+24*n*60*60*1e3),c="; expires="+r.toGMTString();for(i in o)e.cookie=i+"="+o[i]+c+"; path="+t},n=function(o){var n,t,c,i=o+"=",r=e.cookie.split(";");for(t=0,c=r.length;t<c;t++)if(n=r[t].replace(/^\s+|\s+$/g,""),0==n.indexOf(i))return n.substring(i.length,n.length).replace(/\"/g,"");return null},t=e.write,c={"douban.com":1,"douban.fm":1,"google.com":1,"google.cn":1,"googleapis.com":1,"gmaptiles.co.kr":1,"gstatic.com":1,"gstatic.cn":1,"google-analytics.com":1,"googleadservices.com":1},i=function(e,o){var n=new Image;n.onload=function(){},n.src="https://www.douban.com/j/except_report?kind=ra022&reason="+encodeURIComponent(e)+"&environment="+encodeURIComponent(o)},r=function(o){try{t.call(e,o)}catch(e){t(o)}},a=/<script.*?src\=["']?([^"'\s>]+)/gi,g=/http:\/\/(.+?)\.([^\/]+).+/i;e.writeln=e.write=function(e){var t,l=a.exec(e);return l&&(t=g.exec(l[1]))?c[t[2]]?void r(e):void("tqs"!==n("hj")&&(i(l[1],location.href),o({hj:"tqs"},1),setTimeout(function(){location.replace(location.href)},50))):void r(e)}}(document);
</script>

  
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="Sun, 6 Mar 2005 01:00:00 GMT">
  
<meta http-equiv="mobile-agent" content="format=html5; url=https://m.douban.com/book/subject/3652388/">
<meta name="keywords" content="程序员的自我修养,俞甲子,石凡,潘爱民,电子工业出版社,2009-4,简介,作者,书评,论坛,推荐,二手">
<meta name="description" content="图书程序员的自我修养 介绍、书评、论坛及推荐 ">

  <script>var _head_start = new Date();</script>
  
  <link href="https://img3.doubanio.com/f/book/c562010083631a8b5625ac07bc2a6e7e4466b6f6/css/book/master.css" rel="stylesheet" type="text/css">

  <link href="https://img3.doubanio.com/f/book/8a9d097c416aabac4f7e45f5d2ce9c6834b3fc7a/css/book/base/init.css" rel="stylesheet">
  <style type="text/css"></style>
  <script src="https://img3.doubanio.com/f/book/0495cb173e298c28593766009c7b0a953246c5b5/js/book/lib/jquery/jquery.js"></script>
  <script src="https://img3.doubanio.com/f/book/0f1957d4c436280f238b0295e4d0ba6855510555/js/book/master.js"></script>
  

  
  <link rel="stylesheet" href="https://img3.doubanio.com/f/book/15aa82bcdf414e007dee7483304105800fc59e54/css/book/subject.css">
  <link href="https://img3.doubanio.com/f/book/5d301503fbbd8e09f3114583859789884e942f47/css/book/annotation/like.css" rel="stylesheet">
  <script src="https://img3.doubanio.com/f/shire/3c6f2946669cfb2fc9ee4a4d1dcc41fc181cad92/js/lib/jquery.snippet.js"></script>
  <script src="https://img3.doubanio.com/f/shire/77323ae72a612bba8b65f845491513ff3329b1bb/js/do.js" data-cfg-autoload="false"></script>
  <script src="https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js"></script>
  <script src="https://img3.doubanio.com/f/book/2e421e5ec8f2869d31535206c0ac0322532be1f8/js/book/mod/hide.js"></script>
  <script src="https://img3.doubanio.com/f/book/7196bdec780f03785f55b06fda34999595057f65/js/book/subject/unfold.js"></script>
    <link rel="alternate" href="https://book.douban.com/feed/subject/3652388/reviews" type="application/rss+xml" title="RSS">
  <style type="text/css"> h2 {color: #007722;} </style>
  <script type='text/javascript'>
    var _vds = _vds || [];
    (function(){ _vds.push(['setAccountId', '22c937bbd8ebd703f2d8e9445f7dfd03']);
        _vds.push(['setCS1','user_id','0']);
            (function() {var vds = document.createElement('script');
                vds.type='text/javascript';
                vds.async = true;
                vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(vds, s);
            })();
    })();
</script>

  
  <script type='text/javascript'>
    var _vwo_code=(function(){
      var account_id=249272,
          settings_tolerance=2000,
          library_tolerance=2500,
          use_existing_jquery=false,
          // DO NOT EDIT BELOW THIS LINE
          f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
  </script>


  <script>  </script>
  <style type="text/css">
.tag,.tag:link,.tag:visited{width:auto;word-break:keep-all;white-space:nowrap;background-color:#f5f5f5;color:#37A;font-size:13px;padding:2px 11px 0;display:inline-block;margin:0 3px 5px 0;line-height:20px}.tag:hover,.tag:active{background-color:#e8e8e8;color:#37A}


#db-discussion-section .olt { margin-bottom: 7px; }
</style>

  <link rel="shortcut icon" href="https://img3.doubanio.com/favicon.ico" type="image/x-icon">
</head>
<body>
  
    <script>var _body_start = new Date();</script>
    
  



    <link href="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.css" rel="stylesheet" type="text/css">



<div id="db-global-nav" class="global-nav">
  <div class="bd">
    
<div class="top-nav-info">
  <a href="https://www.douban.com/accounts/login?source=book" class="nav-login" rel="nofollow">登录</a>
  <a href="https://www.douban.com/accounts/register?source=book" class="nav-register" rel="nofollow">注册</a>
</div>


    
<div class="top-nav-doubanapp">
  <a href="https://www.douban.com/doubanapp/app?channel=top-nav" class="lnk-doubanapp">下载豆瓣客户端</a>
  <div id="top-nav-appintro" class="more-items">
    <p class="appintro-title">豆瓣</p>
    <p class="slogan">我们的精神角落</p>
    <p class="qrcode">扫码直接下载</p>
    <div class="download">
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=iOS">iPhone</a>
      <span>·</span>
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=Android" class="download-android">Android</a>
    </div>
    <div id="doubanapp-tip">
      <a href="https://www.douban.com/doubanapp/app?channel=qipao" class="tip-link">豆瓣 5.0 全新发布</a>
      <a href="javascript: void 0;" class="tip-close">×</a>
    </div>
  </div>
</div>

    


<div class="global-nav-items">
  <ul>
    <li class="">
      <a href="https://www.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-main&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣</a>
    </li>
    <li class="on">
      <a href="https://book.douban.com"  data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-book&quot;,&quot;uid&quot;:&quot;0&quot;}">读书</a>
    </li>
    <li class="">
      <a href="https://movie.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-movie&quot;,&quot;uid&quot;:&quot;0&quot;}">电影</a>
    </li>
    <li class="">
      <a href="https://music.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-music&quot;,&quot;uid&quot;:&quot;0&quot;}">音乐</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/location" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-location&quot;,&quot;uid&quot;:&quot;0&quot;}">同城</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/group" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-group&quot;,&quot;uid&quot;:&quot;0&quot;}">小组</a>
    </li>
    <li class="">
      <a href="https://read.douban.com&#47;?dcs=top-nav&amp;dcm=douban" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-read&quot;,&quot;uid&quot;:&quot;0&quot;}">阅读</a>
    </li>
    <li class="">
      <a href="https://douban.fm&#47;?from_=shire_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-fm&quot;,&quot;uid&quot;:&quot;0&quot;}">FM</a>
    </li>
    <li class="">
      <a href="https://time.douban.com&#47;?dt_time_source=douban-web_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-time&quot;,&quot;uid&quot;:&quot;0&quot;}">时间</a>
    </li>
    <li class="">
      <a href="https://market.douban.com&#47;?utm_campaign=douban_top_nav&amp;utm_source=douban&amp;utm_medium=pc_web" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-market&quot;,&quot;uid&quot;:&quot;0&quot;}">市集</a>
    </li>
    <li>
      <a href="#more" class="bn-more"><span>更多</span></a>
      <div class="more-items">
        <table cellpadding="0" cellspacing="0">
          <tbody>
            <tr>
              <td>
                <a href="https://ypy.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-ypy&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣摄影</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </li>
  </ul>
</div>

  </div>
</div>
<script>
  ;window._GLOBAL_NAV = {
    DOUBAN_URL: "https://www.douban.com",
    N_NEW_NOTIS: 0,
    N_NEW_DOUMAIL: 0
  };
</script>



    <script src="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.js" defer="defer"></script>




  



    <link href="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.css" rel="stylesheet" type="text/css">




<div id="db-nav-book" class="nav">
  <div class="nav-wrap">
  <div class="nav-primary">
    <div class="nav-logo">
      <a href="https:&#47;&#47;book.douban.com">豆瓣读书</a>
    </div>
    <div class="nav-search">
      <form action="https:&#47;&#47;book.douban.com/subject_search" method="get">
        <fieldset>
          <legend>搜索：</legend>
          <label for="inp-query">
          </label>
          <div class="inp"><input id="inp-query" name="search_text" size="22" maxlength="60" placeholder="书名、作者、ISBN" value=""></div>
          <div class="inp-btn"><input type="submit" value="搜索"></div>
          <input type="hidden" name="cat" value="1001" />
        </fieldset>
      </form>
    </div>
  </div>
  </div>
  <div class="nav-secondary">
    

<div class="nav-items">
  <ul>
    <li    ><a href="https://book.douban.com/cart/"
     >购书单</a>
    </li>
    <li    ><a href="https://read.douban.com/ebooks/?dcs=book-nav&dcm=douban"
            target="_blank"
     >电子图书</a>
    </li>
    <li    ><a href="https://market.douban.com/book?utm_campaign=book_nav_freyr&utm_source=douban&utm_medium=pc_web"
     >豆瓣书店</a>
    </li>
    <li    ><a href="https://book.douban.com/annual/2017?source=navigation"
            target="_blank"
     >2017年度榜单</a>
    </li>
    <li    ><a href="https://book.douban.com/standbyme/2016?source=navigation"
            target="_blank"
     >2016读书报告</a>
    </li>
    <li          class=" book-cart"
    ><a href="https://market.douban.com/cart/?utm_campaign=book_nav_cart&utm_source=douban&utm_medium=pc_web"
            target="_blank"
     >购物车</a>
    </li>
  </ul>
</div>

  </div>
    <a href="https://book.douban.com/annual/2017?source=patch" class="bookannual2017"></a>
</div>

<script id="suggResult" type="text/x-jquery-tmpl">
  <li data-link="{{= url}}">
            <a href="{{= url}}" onclick="moreurl(this, {from:'book_search_sugg', query:'{{= keyword }}', subject_id:'{{= id}}', i: '{{= index}}', type: '{{= type}}'})">
            <img src="{{= pic}}" width="40" />
            <div>
                <em>{{= title}}</em>
                {{if year}}
                    <span>{{= year}}</span>
                {{/if}}
                <p>
                {{if type == "b"}}
                    {{= author_name}}
                {{else type == "a" }}
                    {{if en_name}}
                        {{= en_name}}
                    {{/if}}
                {{/if}}
                 </p>
            </div>
        </a>
        </li>
  </script>




    <script src="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.js" defer="defer"></script>





    <div id="wrapper">
        
    <div id="dale_book_subject_top_icon"></div>
<h1>
    <span property="v:itemreviewed">程序员的自我修养</span>
    <div class="clear"></div>
</h1>

        
  <div id="content">
    
    <div class="grid-16-8 clearfix">
      
      <div class="article">



<div class="indent">
  <div class="subjectwrap clearfix">
    



<div class="subject clearfix">
<div id="mainpic" class="">

  

  <a class="nbg"
      href="https://img1.doubanio.com/lpic/s25136218.jpg" title="程序员的自我修养">
    <img src="https://img1.doubanio.com/lpic/s25136218.jpg" title="点击看大图" alt="程序员的自我修养"
         rel="v:photo" style="width: 135px">
  </a>



</div>





<div id="info" class="">


    
    
  
    <span>
      <span class="pl"> 作者</span>:
        
        
        <a class="" href="/search/%E4%BF%9E%E7%94%B2%E5%AD%90">俞甲子</a>
        
           /
        
        <a class="" href="/search/%E7%9F%B3%E5%87%A1">石凡</a>
        
           /
        
        <a class="" href="/search/%E6%BD%98%E7%88%B1%E6%B0%91">潘爱民</a>
    </span><br/>

    
    
  
    <span class="pl">出版社:</span> 电子工业出版社<br/>

    
    
  

    
    
  
    <span class="pl">副标题:</span> 链接、装载与库<br/>

    
    
  

    
    
  

    
    
  
    <span class="pl">出版年:</span> 2009-4<br/>

    
    
  
    <span class="pl">页数:</span> 459<br/>

    
    
  
    <span class="pl">定价:</span> 65.00<br/>

    
    
  
    <span class="pl">装帧:</span> 平装16开<br/>

    
    
  

    
    
  
    
      
      <span class="pl">ISBN:</span> 9787121085116<br/>


</div>

</div>





















    





<div id="interest_sectl" class="">
  <div class="rating_wrap clearbox" rel="v:rating">
    <div class="rating_logo">豆瓣评分</div>
    <div class="rating_self clearfix" typeof="v:Rating">
      <strong class="ll rating_num " property="v:average"> 8.8 </strong>
      <span property="v:best" content="10.0"></span>
      <div class="rating_right ">
          <div class="ll bigstar45"></div>
            <div class="rating_sum">
                <span class="">
                    <a href="collections" class="rating_people"><span property="v:votes">1891</span>人评价</a>
                </span>
            </div>


      </div>
    </div>
          
            
            
<span class="stars5 starstop" title="力荐">
    5星
</span>

            
<div class="power" style="width:64px"></div>

            <span class="rating_per">50.0%</span>
            <br>
            
            
<span class="stars4 starstop" title="推荐">
    4星
</span>

            
<div class="power" style="width:52px"></div>

            <span class="rating_per">41.4%</span>
            <br>
            
            
<span class="stars3 starstop" title="还行">
    3星
</span>

            
<div class="power" style="width:10px"></div>

            <span class="rating_per">8.2%</span>
            <br>
            
            
<span class="stars2 starstop" title="较差">
    2星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.2%</span>
            <br>
            
            
<span class="stars1 starstop" title="很差">
    1星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.3%</span>
            <br>
    </div>
</div>

  </div>
  





  
    
    <div id="interest_sect_level" class="clearfix">
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-3652388-wish">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectwish" class="miniform">
    <input type="submit" class="minisubmit j " value="想读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-3652388-do">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectdo" class="miniform">
    <input type="submit" class="minisubmit j " value="在读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-3652388-collect">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectcollect" class="miniform">
    <input type="submit" class="minisubmit j " value="读过" title="" />
</form>

          </span>
        </a>
      <div class="ll j a_stars">
        
    
    评价:
    <span id="rating"> <span id="stars" data-solid="https://img3.doubanio.com/f/shire/5a2327c04c0c231bced131ddf3f4467eb80c1c86/pics/rating_icons/star_onmouseover.png" data-hollow="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" data-solid-2x="https://img3.doubanio.com/f/shire/7258904022439076d57303c3b06ad195bf1dc41a/pics/rating_icons/star_onmouseover@2x.png" data-hollow-2x="https://img3.doubanio.com/f/shire/95cc2fa733221bb8edd28ad56a7145a5ad33383e/pics/rating_icons/star_hollow_hover@2x.png">

            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-3652388-1">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star1" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-3652388-2">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star2" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-3652388-3">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star3" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-3652388-4">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star4" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-3652388-5">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star5" width="16" height="16"/></a>
    </span><span id="rateword" class="pl"></span>
    <input id="n_rating" type="hidden" value=""  />
    </span>

      </div>
      

    </div>



  
  <div class="gtleft">
    <ul class="ul_subject_menu bicelink color_gray pt6 clearfix">
        <li>
          <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a href="https://www.douban.com/register?reason=annotate" class="j a_show_login" rel="nofollow">写笔记</a>
        </li>

          <li>
            <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a class="j a_show_login" href="https://www.douban.com/register?reason=review" rel="nofollow">写书评</a>
          </li>

      <li>

  <span class="rr">
  

    <img src="https://img3.doubanio.com/pics/add-cart.gif"/>
      <a class="j a_show_login" href="http://http://www.douban.com/register?reason=addbook2cart" rel="nofollow">加入购书单</a>
  <span class="hidden">已在<a href="https://book.douban.com/cart">购书单</a></span>
</span><br class="clearfix" />
</li>


        
        
    
    <li class="rec" id="C-3652388">
        <a href="#" data-url="https://book.douban.com/subject/3652388/" data-desc="" data-title="书籍《程序员的自我修养》 (来自豆瓣) " data-pic="https://img1.doubanio.com/lpic/s25136218.jpg" class="bn-sharing ">分享到</a> &nbsp;&nbsp;
    </li>
    <script>
    var __cache_url = __cache_url || {};
    (function(u){
        if(__cache_url[u]) return;
        __cache_url[u] = true;
        window.DoubanShareIcons = 'https://img3.doubanio.com/f/shire/d15ffd71f3f10a7210448fec5a68eaec66e7f7d0/pics/ic_shares.png';
        var initShareButton = function() {
          $.ajax({url:u,dataType:'script',cache:true});
        };
        if (typeof Do == 'function' && 'ready' in Do) {
          Do('https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js',
            initShareButton);
        } else if(typeof Douban == 'object' && 'loader' in Douban) {
          Douban.loader.batch(
            'https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js'
          ).done(initShareButton);
        }
    })('https://img3.doubanio.com/f/shire/6e6a5f21daeec19bbb41bf48c07fccaa4dad4d98/js/lib/sharebutton.js');
    </script>

    </ul>
  </div>


    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>


<script>
  //bind events for collection button.
  $('.collect_btn', '#interest_sect_level').each(function(){
      Douban.init_collect_btn(this);
  });
</script>








</div>

<br clear="all">
<div id="collect_form_3652388"></div>
<div class="related_info">
  






  

  <h2>
    <span class="">内容简介</span>
      ······

  </h2>



<div class="indent" id="link-report">
    
      <div class="">
        <style type="text/css" media="screen">
.intro p{text-indent:2em;word-break:normal;}
</style>
<div class="intro">
    <p>这本书主要介绍系统软件的运行机制和原理，涉及在Windows和Linux两个系统平台上，一个应用程序在编译、链接和运行时刻所发生的各种事项，包括：代码指令是如何保存的，库文件如何与应用程序代码静态链接，应用程序如何被装载到内存中并开始运行，动态链接如何实现，C/C++运行库的工作原理，以及操作系统提供的系统服务是如何被调用的。每个技术专题都配备了大量图、表和代码实例，力求将复杂的机制以简洁的形式表达出来。本书最后还提供了一个小巧且跨平台的C/C++运行库MiniCRT，综合展示了与运行库相关的各种技术。</p>    <p>对装载、链接和库进行了深入浅出的剖析，并且辅以大量的例子和图表，可以作为计算机软件专业和其他相关专业大学本科高年级学生深入学习系统软件的参考书。同时，还可作为各行业从事软件开发的工程师、研究人员以及其他对系统软件实现机制和技术感兴趣者的自学教材。</p></div>

      </div>
    
<style>
    #link-report .report { text-align: right; font-size: 12px; visibility: hidden; }
    #link-report .report a { color: #BBB; }
    #link-report .report a:hover { color: #FFF; background-color: #BBB; }
</style>
<script>
    Do = (typeof Do === 'undefined')? $ : Do;
    Do(function(){
    $("body").delegate("#link-report", 'mouseenter mouseleave', function(e){
      switch (e.type) {
        case "mouseenter":
          $(this).find(".report").css('visibility', 'visible');
          break;
        case "mouseleave":
          $(this).find(".report").css('visibility', 'hidden');
          break;
      }
    });
    $("#link-report").delegate(".report a", 'click', function(e){
        e.preventDefault();
        var auditUrl = "https://www.douban.com/misc/audit_report?url=",
        opt = "";
        var obj = $(e.target).closest('#link-report');
        var id = obj.length != 0 ? obj.data("id") : undefined;
        var params = (opt&&id) ? '?'.concat(opt, '=', id) : '';
        var url = auditUrl.concat("https://book.douban.com/subject/3652388/", params);
        window.location.href = url;
    });

    $("#link-report").append('<div class="report"><a rel="nofollow" href="#">举报</a></div>');
  });
</script>

</div>

  



































































  

  
    




  

  <h2>
    <span class="">目录</span>
      ······

  </h2>



<div class="indent" id="dir_3652388_short">
        第1部分 简介<br/>
        第1章 温故而知新<br/>
        1.1 从HELLO WORLD 说起<br/>
        1.2 万变不离其宗<br/>
        1.3 站得高，望得远<br/>
        1.4 操作系统做什么<br/>
    · · · · · ·
    (<a href="javascript:$('#dir_3652388_short').hide();$('#dir_3652388_full').show();$.get('/j/subject/j_dir_count',{id:3652388});void(0);">更多</a>)
</div>

<div class="indent" id="dir_3652388_full" style="display:none">
        第1部分 简介<br/>
        第1章 温故而知新<br/>
        1.1 从HELLO WORLD 说起<br/>
        1.2 万变不离其宗<br/>
        1.3 站得高，望得远<br/>
        1.4 操作系统做什么<br/>
        1.5 内存不够怎么办<br/>
        1.6 众人拾柴火焰高<br/>
        1.7 本章小结<br/>
        第2部分 静态链接<br/>
        第2章 编译和链接<br/>
        2.1 被隐藏了的过程<br/>
        2.2 编译器做了什么<br/>
        2.3 链接器年龄比编译器长<br/>
        2.4 模块拼装——静态链接<br/>
        2.5 本章小结<br/>
        第3章 目标文件里有什么<br/>
        3.1 目标文件的格式<br/>
        3.2 目标文件是什么样的<br/>
        3.3 挖掘SIMPLESECTION.O<br/>
        3.4 ELF 文件结构描述<br/>
        3.5 链接的接口——符号<br/>
        3.6 调试信息<br/>
        3.7 本章小结<br/>
        第4章 静态链接<br/>
        4.1 空间与地址分配<br/>
        4.2 符号解析与重定位<br/>
        4.3 COMMON 块<br/>
        4.4 C++相关问题<br/>
        4.5 静态库链接<br/>
        4.6 链接过程控制<br/>
        4.7 BFD 库<br/>
        4.8 本章小结<br/>
        第5章 WINDOWS PE/COFF<br/>
        5.1 WINDOWS 的二进制文件格式PE/COFF 134<br/>
        5.2 PE 的前身——COFF<br/>
        5.3 链接指示信息<br/>
        5.4 调试信息<br/>
        5.5 大家都有符号表<br/>
        5.6 WINDOWS 下的ELF——PE<br/>
        5.7 本章小结<br/>
        第3部分 装载与动态链接<br/>
        第6章 可执行文件的装载与进程<br/>
        6.1 进程虚拟地址空间<br/>
        6.2 装载的方式<br/>
        6.3 从操作系统角度看可执行文件的装载<br/>
        6.4 进程虚存空间分布<br/>
        6.5 LINUX 内核装载ELF 过程简介<br/>
        6.6 WINDOWS PE 的装载<br/>
        6.7 本章小结<br/>
        第7章 动态链接<br/>
        7.1 为什么要动态链接<br/>
        7.2 简单的动态链接例子<br/>
        7.3 地址无关代码<br/>
        7.4 延迟绑定（PLT）<br/>
        7.5 动态链接相关结构<br/>
        7.6 动态链接的步骤和实现<br/>
        7.7 显式运行时链接<br/>
        7.8 本章小结<br/>
        第8章 LINUX 共享库的组织<br/>
        8.1 共享库版本<br/>
        8.2 符号版本<br/>
        8.3 共享库系统路径<br/>
        8.4 共享库查找过程<br/>
        8.5 环境变量<br/>
        8.6 共享库的创建和安装<br/>
        8.7 本章小结<br/>
        第9章 WINDOWS 下的动态链接<br/>
        9.1 DLL 简介<br/>
        9.2 符号导出导入表<br/>
        9.3 DLL 优化<br/>
        9.4 C++与动态链接<br/>
        9.5 DLL HELL<br/>
        9.6 本章小结<br/>
        第4部分 库与运行库<br/>
        第10章 内存<br/>
        10.1 程序的内存布局<br/>
        10.2 栈与调用惯例<br/>
        10.3 堆与内存管理<br/>
        10.4 本章小结<br/>
        第11章 运行库<br/>
        11.1 入口函数和程序初始化<br/>
        11.2 C/C++运行库<br/>
        11.3 运行库与多线程<br/>
        11.4 C++全局构造与析构<br/>
        11.5 FREAD 实现<br/>
        11.6 本章小结<br/>
        第12章 系统调用与API<br/>
        12.1 系统调用介绍<br/>
        12.2 系统调用原理<br/>
        12.3 WINDOWS API<br/>
        12.4 本章小结<br/>
        第13章 运行库实现<br/>
        13.1 C 语言运行库<br/>
        13.2 如何使用MINI CRT<br/>
        13.3 C++运行库实现<br/>
        13.4 如何使用MINI CRT++<br/>
        13.5 本章小结<br/>
        附录A<br/>
        A.1 字节序（BYTE ORDER）<br/>
        A.2 ELF 常见段<br/>
        A.3 常用开发工具命令行参考<br/>
        索引<br/>
     · · · · · ·     (<a href="javascript:$('#dir_3652388_full').hide();$('#dir_3652388_short').show();void(0);">收起</a>)
</div>



  



<div id="author-wrapper" class="author-wrapper">
  <div class="loading"></div>
</div>
<link rel="stylesheet" href="https://img3.doubanio.com/f/fanta/ba954f353fb7e2f830059e78c8e9e4791a96a4f6/components/dist/css/answer_entry.css" />

<script type="text/javascript">
  var answerObj = {
    TYPE: 'book',
    SUBJECT_ID: '3652388',
    ISALL: 'False' || false,
    USER_ID: 'None'
  }
</script>
<script src="https://img3.doubanio.com/f/book/61252f2f9b35f08b37f69d17dfe48310dd295347/js/book/lib/react/bundle.js"></script>
<script src="https://img3.doubanio.com/f/fanta/f86ac0ee5349a9eeff2e7a3741853e8fc76d3042/components/dist/answer_entry.js"></script>

  






<div id="db-tags-section" class="blank20">
  
  

  <h2>
    <span class="">豆瓣成员常用的标签(共477个)</span>
      ······

  </h2>


  <div class="indent">    <span class="">
        <a class="  tag" href="/tag/编程">编程</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/计算机">计算机</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/程序员">程序员</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/计算机科学">计算机科学</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/程序设计">程序设计</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/Programming">Programming</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/内功心法">内功心法</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/系统结构">系统结构</a> &nbsp;    </span>
  </div>
</div>


  


  












<div id="rec-ebook-section" class="block5 subject_show">
  

  
  

  <h2>
    <span class="">喜欢读&#34;程序员的自我修养&#34;的人也喜欢的电子书</span>
      ······

  </h2>


  <div class="tips-mod">
    支持 Web、iPhone、iPad、Android 阅读器
  </div>
  <div class="content clearfix">
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/1523295/?dcs=subject-rec&amp;dcm=douban&amp;dct=3652388" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/1523295.jpg?v=1395394148.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/1523295/" target="_blank">编程之美</a>
          </div>
          <div class="price">
              6.60元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/1499455/?dcs=subject-rec&amp;dcm=douban&amp;dct=3652388" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/1499455.jpg?v=1395393904.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/1499455/" target="_blank">Python源码剖析</a>
          </div>
          <div class="price">
              38.39元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/198648/?dcs=subject-rec&amp;dcm=douban&amp;dct=3652388" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/198648.jpg?v=1395393782.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/198648/" target="_blank">CoffeeScript小书</a>
          </div>
          <div class="price">
              1.99元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/1531222/?dcs=subject-rec&amp;dcm=douban&amp;dct=3652388" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/1531222.jpg?v=1395394360.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/1531222/" target="_blank">MacTalk·人生元编程</a>
          </div>
          <div class="price">
              2.99元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/237278/?dcs=subject-rec&amp;dcm=douban&amp;dct=3652388" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/237278.jpg?v=1395395954.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/237278/" target="_blank">思考的乐趣</a>
          </div>
          <div class="price">
              18.00元
          </div>
        </dd>
      </dl>
  </div>
</div>

<div id="db-rec-section" class="block5 subject_show knnlike">
  
  
  

  <h2>
    <span class="">喜欢读&#34;程序员的自我修养&#34;的人也喜欢</span>
      ······

  </h2>


  <div class="content clearfix">
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1110934/" onclick="moreurl(this, {'total': 10, 'clicked': '1110934', 'pos': 0, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1092076.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1110934/" onclick="moreurl(this, {'total': 10, 'clicked': '1110934', 'pos': 0, 'identifier': 'book-rec-books'})" class="">
            STL源码剖析
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1788421/" onclick="moreurl(this, {'total': 10, 'clicked': '1788421', 'pos': 1, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s4436543.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1788421/" onclick="moreurl(this, {'total': 10, 'clicked': '1788421', 'pos': 1, 'identifier': 'book-rec-books'})" class="">
            UNIX环境高级编程
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/20471211/" onclick="moreurl(this, {'total': 10, 'clicked': '20471211', 'pos': 2, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s24522799.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/20471211/" onclick="moreurl(this, {'total': 10, 'clicked': '20471211', 'pos': 2, 'identifier': 'book-rec-books'})" class="">
            Linux多线程服务端编程
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/3227098/" onclick="moreurl(this, {'total': 10, 'clicked': '3227098', 'pos': 3, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s4687321.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/3227098/" onclick="moreurl(this, {'total': 10, 'clicked': '3227098', 'pos': 3, 'identifier': 'book-rec-books'})" class="">
            编程珠玑
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/2377310/" onclick="moreurl(this, {'total': 10, 'clicked': '2377310', 'pos': 4, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s5886086.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/2377310/" onclick="moreurl(this, {'total': 10, 'clicked': '2377310', 'pos': 4, 'identifier': 'book-rec-books'})" class="">
            C专家编程
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1230413/" onclick="moreurl(this, {'total': 10, 'clicked': '1230413', 'pos': 5, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1470003.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1230413/" onclick="moreurl(this, {'total': 10, 'clicked': '1230413', 'pos': 5, 'identifier': 'book-rec-books'})" class="">
            深入理解计算机系统
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1091086/" onclick="moreurl(this, {'total': 10, 'clicked': '1091086', 'pos': 6, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s3301634.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1091086/" onclick="moreurl(this, {'total': 10, 'clicked': '1091086', 'pos': 6, 'identifier': 'book-rec-books'})" class="">
            深度探索C++对象模型
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1467587/" onclick="moreurl(this, {'total': 10, 'clicked': '1467587', 'pos': 7, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1631790.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1467587/" onclick="moreurl(this, {'total': 10, 'clicked': '1467587', 'pos': 7, 'identifier': 'book-rec-books'})" class="">
            UNIX编程艺术
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/5333562/" onclick="moreurl(this, {'total': 10, 'clicked': '5333562', 'pos': 8, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s4510534.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/5333562/" onclick="moreurl(this, {'total': 10, 'clicked': '5333562', 'pos': 8, 'identifier': 'book-rec-books'})" class="">
            深入理解计算机系统（原书第2版）
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1148282/" onclick="moreurl(this, {'total': 10, 'clicked': '1148282', 'pos': 9, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1113106.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1148282/" onclick="moreurl(this, {'total': 10, 'clicked': '1148282', 'pos': 9, 'identifier': 'book-rec-books'})" class="">
            计算机程序的构造和解释
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
  </div>
</div>

  






    <link rel="stylesheet" href="https://img3.doubanio.com/f/book/8f539f4edfa7786707fc6f654e1f373c62a70128/css/book/subject/comment.css"/>
    <div class="mod-hd">
        

        <a class="redbutt j a_show_login rr" href="https://www.douban.com/register?reason=review" rel="nofollow">
            <span> 我来说两句 </span>
        </a>

            
  

  <h2>
    <span class="">短评</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/3652388/comments/">全部 536 条</a>
        ) </span>

  </h2>


    </div>
    <div class="nav-tab">
        
    <div class="tabs-wrapper  line">
        <a class="short-comment-tabs on-tab" href="hot" data-tab="hot">热门</a>
        <span>/</span>
        <a class="short-comment-tabs " href="new" data-tab="new">最新</a>
        <span>/</span>
        <a class="j a_show_login " href="follows" data-tab="follows">好友</a>
    </div>

    </div>
    <div id="comment-list-wrapper" class="indent">
        

<div id="comments" class="comment-list hot show">
        <ul>
                
    <li class="comment-item" data-cid="590175766">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-590175766" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-590175766" class="j a_show_login" data-cid="590175766">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/halfelf_ronin/">halfelf</a>
                        <span class="user-stars allstar30 rating" title="还行"></span>
                    <span>2012-10-11</span>
                </span>
            </h3>
            <p class="comment-content">啰嗦得很</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="729403207">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-729403207" class="vote-count">1</span>
                        <a href="javascript:;" id="btn-729403207" class="j a_show_login" data-cid="729403207">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/Thomas.Xie/">蝉</a>
                    <span>2013-12-25</span>
                </span>
            </h3>
            <p class="comment-content">: 	
TP31/8261</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="126700604">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-126700604" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-126700604" class="j a_show_login" data-cid="126700604">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/FadingAir/">空气</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2010-02-04</span>
                </span>
            </h3>
            <p class="comment-content">通读了一遍，没有想象中的晦涩，作者的功底可见一斑。书名还是有些大。
“这本书一步步的剖析了一个程序的前世今生，从代码的编译，到链接，到运行时虚拟空间物理空间的映射，到内存的分配，无不一一展开，还原一个程序本来的面目。 ”</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="297922007">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-297922007" class="vote-count">20</span>
                        <a href="javascript:;" id="btn-297922007" class="j a_show_login" data-cid="297922007">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/knoppix/">第五象限</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2010-09-27</span>
                </span>
            </h3>
            <p class="comment-content">解释多核CPU的局限时提到“就比如一个女人可以花10个月生出一个孩子，但是10个女人并不能在一个月就生出一个孩子一样。”</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="405826918">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-405826918" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-405826918" class="j a_show_login" data-cid="405826918">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/wargrey/">一寸行者</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2011-06-21</span>
                </span>
            </h3>
            <p class="comment-content">悲催的暴龙，刚好买了一本有缺页和重页的书。</p>
        </div>
    </li>


        </ul>
</div>

        

<div id="comments" class="comment-list new noshow">
        <ul>
                
    <li class="comment-item" data-cid="1303550125">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1303550125" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1303550125" class="j a_show_login" data-cid="1303550125">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/124123310/">accfcx</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2018-01-10</span>
                </span>
            </h3>
            <p class="comment-content">在操作系统课本，和csapp中都提到了链接和装载的内容，可惜并没有系统性的结合起来，自己始终迷糊，这本书填补了空白，作为内功，直接开发不一定用到，但背后隐藏的东西还是需要了解一下的</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1299504872">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1299504872" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1299504872" class="j a_show_login" data-cid="1299504872">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/170413142/">三才归元</a>
                        <span class="user-stars allstar30 rating" title="还行"></span>
                    <span>2018-01-04</span>
                </span>
            </h3>
            <p class="comment-content">适合有C基础的同学，我C渣渣看着很蛋疼。只能是了解下代码编译，装载可执行文件， 链接依赖库等核心流程。至于源码分析，我也是一知半解了,....</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1293447442">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1293447442" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1293447442" class="j a_show_login" data-cid="1293447442">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/137785965/">罂粟花开*尘般染</a>
                    <span>2017-12-26</span>
                </span>
            </h3>
            <p class="comment-content">貌似，关于虚拟空间这一块，讲的有些含糊不清，不如操作系统书籍讲的有条理</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1290667118">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1290667118" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1290667118" class="j a_show_login" data-cid="1290667118">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/jokertron/">开萌</a>
                    <span>2017-12-26</span>
                </span>
            </h3>
            <p class="comment-content">时下流行的高级语言有哪个没自己重新造轮子，设计自己的动态链接库的？</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1289972286">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1289972286" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1289972286" class="j a_show_login" data-cid="1289972286">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/141107909/">tang</a>
                        <span class="user-stars allstar30 rating" title="还行"></span>
                    <span>2017-12-21</span>
                </span>
            </h3>
            <p class="comment-content">名字起的好。编译原理，操作系统</p>
        </div>
    </li>


        </ul>
</div>

    </div>
        <p>&gt; <a href="https://book.douban.com/subject/3652388/comments/">更多短评 536 条</a></p>
    <script src="https://img3.doubanio.com/f/book/1d9c8cf5e04fc6d9cae8f10e358c6a6cd458f9b8/js/book/subject/short_comment_vote.js"></script>
    <script src="https://img3.doubanio.com/f/book/39eace58cab8aaeec45a44e878bf0ed06f2ed0a4/js/book/subject/short_comment_nav.js"></script>
    <script>
        (function(){
            $('.comment-list').delegate('.vote-comment', 'click', function(e) {
                vote_comment(e);
            }).delegate('.delete-comment', 'click', function(e) {
                if (confirm('确定删除吗？')) {
                    delete_comment(e);
                }
            });
        })();
    </script>

  

<link rel="stylesheet" href="https://img3.doubanio.com/misc/mixed_static/7f54ef457c36133a.css">

<section class="topics mod">
    <header>
        <h2>
            程序员的自我修养的话题 · · · · · ·
            <span class="pl">( <span class="gallery_topics">全部 <span id="topic-count"></span> 条</span> )</span>
        </h2>
    </header>

    




<section class="subject-topics">
    <div class="topic-guide" id="topic-guide">
        <img class="ic_question" src="//img3.doubanio.com/f/ithildin/b1a3edea3d04805f899e9d77c0bfc0d158df10d5/pics/export/icon_question.png">
        <div class="tip_content">
            <div class="tip_title">什么是话题</div>
            <div class="tip_desc">
                <div>无论是一部作品、一个人，还是一件事，都往往可以衍生出许多不同的话题。将这些话题细分出来，分别进行讨论，会有更多收获。</div>
            </div>
        </div>
        <img class="ic_guide" src="//img3.doubanio.com/f/ithildin/529f46d86bc08f55cd0b1843d0492242ebbd22de/pics/export/icon_guide_arrow.png">
        <img class="ic_close" id="topic-guide-close" src="//img3.doubanio.com/f/ithildin/2eb4ad488cb0854644b23f20b6fa312404429589/pics/export/close@3x.png">
    </div>

    <div id="topic-items"></div>

    <script>
        window.subject_id = 3652388;
        window.join_label_text = '写书评参与';

        window.topic_display_count = 4;
        window.topic_item_display_count = 1;
        window.no_content_fun_call_name = "no_topic";

        window.guideNode = document.getElementById('topic-guide');
        window.guideNodeClose = document.getElementById('topic-guide-close');
    </script>
    
        <link rel="stylesheet" href="https://img3.doubanio.com/f/ithildin/f731c9ea474da58c516290b3a6b1dd1237c07c5e/css/export/subject_topics.css">
        <script src="https://img3.doubanio.com/f/ithildin/d3590fc6ac47b33c804037a1aa7eec49075428c8/js/export/moment-with-locales-only-zh.js"></script>
        <script src="https://img3.doubanio.com/f/ithildin/936839eb18719d63bdab8637feaa21b4e6d72d8e/js/export/subject_topics.es6"></script>

</section>

    <script>
        function no_topic(){
            $('#content .topics').remove();
        }
    </script>
</section>

<section class="reviews mod book-content">
    <header>
        <a href="new_review" rel="nofollow" class="create-review redbutt rr" 
            data-isverify="False"
            data-verify-url="https://www.douban.com/accounts/phone/verify?redir=https://book.douban.com/subject/3652388/new_review">
            <span>我要写书评</span>
        </a>
        <h2>
            程序员的自我修养的书评 · · · · · ·
            <span class="pl">( <a href="reviews">全部 75 条</a> )</span>
        </h2>
    </header>

    

<style>
#gallery-topics-selection {
  display: none;
  position: fixed;
  width: 595px;
  padding: 40px 40px 33px 40px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 16px 0 rgba(0, 0, 0, 0.2);
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  z-index: 9999;
}
#gallery-topics-selection h1 {
  font-size: 18px;
  color: #007722;
  margin-bottom: 36px;
  padding: 0;
  line-height: 28px;
  font-weight: normal;
}
#gallery-topics-selection .gl_topics {
  border-bottom: 1px solid #dfdfdf;
  max-height: 298px;
  overflow-y: scroll;
}
#gallery-topics-selection .topic {
  margin-bottom: 24px;
}
#gallery-topics-selection .topic_name {
  font-size: 15px;
  color: #333;
  margin: 0;
  line-height: inherit;
}
#gallery-topics-selection .topic_meta {
  font-size: 13px;
  color: #999;
}
#gallery-topics-selection .topics_skip {
  display: block;
  cursor: pointer;
  font-size: 16px;
  color: #3377AA;
  text-align: center;
  margin-top: 33px;
}
#gallery-topics-selection .topics_skip:hover {
  background: transparent;
}
#gallery-topics-selection .close_selection {
  position: absolute;
  width: 30px;
  height: 20px;
  top: 46px;
  right: 40px;
  background: #fff;
  color: #999;
  text-align: right;
}
#gallery-topics-selection .close_selection:hover{
  background: #fff;
  color: #999;
}
</style>

<div id="gallery-topics-selection"></div>




        <div class="review_filter">
            <a href="javascript:;;" class="cur" data-sort="">热门</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="time">最新</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="follow">好友</a href="javascript:;;">
            
        </div>


        



<div class="review-list  ">
        
    
    
        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2097271">
        <div class="main review-item" id="2097271">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/yinhongquan/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u4385002-6.jpg">
        </a>

        <a href="https://www.douban.com/people/yinhongquan/" property="v:reviewer" class="name">Stanley</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2009-06-27" class="main-meta">2009-06-27 11:16:53</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2097271/">平中见奇：程序员提升自己的参考方法</a></h2>

                <div id="review_2097271_short" class="review-short" data-rid="2097271">
                    <div class="short-content">

                        老实说，在2002年还在上大学的时候，我把技术类书籍分成了三六九等，从值得看到最不值得看到顺序如下： 1. 在美国工作的中国人使用中文编写的书籍：因为作者的眼界相比国内更加宽广，而字里行间流淌着中国人的思维方式，没有理解文化表达方面的障碍，行文相对活泼 2. 在美国工...

                        &nbsp;(<a href="javascript:;" id="toggle-2097271-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2097271_full" class="hidden">
                    <div id="review_2097271_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2097271" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2097271">
                                85
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2097271" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2097271">
                                3
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2097271/#comments" class="reply">20回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2799663">
        <div class="main review-item" id="2799663">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/zuohenwank/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2458503-3.jpg">
        </a>

        <a href="https://www.douban.com/people/zuohenwank/" property="v:reviewer" class="name">你们都是坏人</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2009-11-28" class="main-meta">2009-11-28 11:21:46</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2799663/">给每个新手的修养之道</a></h2>

                <div id="review_2799663_short" class="review-short" data-rid="2799663">
                    <div class="short-content">

                        如果你是高手，Linux Hacker或者geek，请绕行 但如果你是新手 如果你曾好奇过windows系统目录下和软件目录下大堆大堆的dll文件是什么 如果你曾疑惑过我写下的代码经历的怎样的历程最后怎样到达了内存，编译器每天用，它到底做了什么 如果你已经学习或接触了C，汇编，计算机结构...

                        &nbsp;(<a href="javascript:;" id="toggle-2799663-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2799663_full" class="hidden">
                    <div id="review_2799663_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2799663" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2799663">
                                74
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2799663" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2799663">
                                7
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2799663/#comments" class="reply">22回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2032438">
        <div class="main review-item" id="2032438">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/zoufeiyy/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/zoufeiyy/" property="v:reviewer" class="name">zoufeiyy</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2009-05-20" class="main-meta">2009-05-20 14:10:40</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2032438/">推荐linux c/c++程序员一读</a></h2>

                <div id="review_2032438_short" class="review-short" data-rid="2032438">
                    <div class="short-content">

                        关于《程序员的自我修养》这本书，最初是在和博文的周筠老师MSN上谈起，当时听周老师提及这本书是一本关于链接和装载等系统软件知识的书籍，当时就很感兴趣，因为这方面的书在国内真的见得很少，一方面这种书似乎跟做应用开发的有距离，毕竟如果只是用用C#、Java，似乎没什么必...

                        &nbsp;(<a href="javascript:;" id="toggle-2032438-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2032438_full" class="hidden">
                    <div id="review_2032438_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2032438" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2032438">
                                63
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2032438" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2032438">
                                1
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2032438/#comments" class="reply">20回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2050930">
        <div class="main review-item" id="2050930">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/cloudwu/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u1188636-3.jpg">
        </a>

        <a href="https://www.douban.com/people/cloudwu/" property="v:reviewer" class="name">云风</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2009-06-01" class="main-meta">2009-06-01 21:10:00</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2050930/">莫等用时再读书</a></h2>

                <div id="review_2050930_short" class="review-short" data-rid="2050930">
                    <div class="short-content">

                        今年二月份拿到这本书的电子稿时，还不是现在这个名字。  《程序员的自我修养》这个名字听起来比原来的那个名字感觉好一些，但又让人感觉有点不知所谓。还是副标题直接：《链接、装载与库》。我更愿意接受这样的一个名字，有如那本多年前读过的英文经典：《Linkers &amp; Loaders》...

                        &nbsp;(<a href="javascript:;" id="toggle-2050930-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2050930_full" class="hidden">
                    <div id="review_2050930_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2050930" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2050930">
                                37
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2050930" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2050930">
                                3
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2050930/#comments" class="reply">9回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2947041">
        <div class="main review-item" id="2947041">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/1659067/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u1659067-1.jpg">
        </a>

        <a href="https://www.douban.com/people/1659067/" property="v:reviewer" class="name">xo2005</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2010-01-21" class="main-meta">2010-01-21 18:22:31</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2947041/">为装载而读</a></h2>

                <div id="review_2947041_short" class="review-short" data-rid="2947041">
                    <div class="short-content">

                               在看这本书之前，看了《深入理解计算机系统》和《汇编语言程序设计》（Richard Blum）。其中的《深入理解计算机系统》关于动态加载的部分不够深入，出于要搞清动态加载的细节而翻开此书。首先，书的排版行距让阅读很是享受。书中关于动态链接、加载部分非常精彩，在阅读...

                        &nbsp;(<a href="javascript:;" id="toggle-2947041-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2947041_full" class="hidden">
                    <div id="review_2947041_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2947041" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2947041">
                                6
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2947041" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2947041">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2947041/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2049256">
        <div class="main review-item" id="2049256">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/acel/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2273651-5.jpg">
        </a>

        <a href="https://www.douban.com/people/acel/" property="v:reviewer" class="name">acel</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2009-05-31" class="main-meta">2009-05-31 21:54:17</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2049256/">有时间,还是值得一看的.</a></h2>

                <div id="review_2049256_short" class="review-short" data-rid="2049256">
                    <div class="short-content">

                        花了近1个月的时候,总算是看了一遍.  作为一本技术介绍书籍,有时间的话,也还是值得一看的.书中的很多的内容,在其它地方也是可以找到的,当然,也有不少的地方,我也是第一次在这本书里面看到.  总的说来,看这本书来算是很流畅的,书中的很多问题,自己以前也有思考过,不过没有思考到...

                        &nbsp;(<a href="javascript:;" id="toggle-2049256-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2049256_full" class="hidden">
                    <div id="review_2049256_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2049256" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2049256">
                                4
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2049256" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2049256">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2049256/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2032386">
        <div class="main review-item" id="2032386">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/3848202/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/3848202/" property="v:reviewer" class="name">keni</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2009-05-20" class="main-meta">2009-05-20 13:16:19</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2032386/">真正的程序员都应该看看</a></h2>

                <div id="review_2032386_short" class="review-short" data-rid="2032386">
                    <div class="short-content">

                        很久之前在读linkers and loaders 和分析linux内核代码时，就有冲动总结一下这方面的东西，也就是总结心得，还没有能力形成这么系统的书籍。总得看了一下还真得不错，很值得一读，推荐。

                        &nbsp;(<a href="javascript:;" id="toggle-2032386-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2032386_full" class="hidden">
                    <div id="review_2032386_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2032386" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2032386">
                                4
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2032386" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2032386">
                                1
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2032386/#comments" class="reply">15回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2039559">
        <div class="main review-item" id="2039559">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/gussing/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u1243123-1.jpg">
        </a>

        <a href="https://www.douban.com/people/gussing/" property="v:reviewer" class="name">五仁波切糕</a>

            <span property="v:rating" class="allstar30 main-title-rating" title="还行"></span>

        <span property="v:dtreviewed" content="2009-05-26" class="main-meta">2009-05-26 10:11:46</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2039559/">厕所书籍</a></h2>

                <div id="review_2039559_short" class="review-short" data-rid="2039559">
                    <div class="short-content">

                        厕所书籍，不是说这本书很烂，而是说这本书适合在大解的时候看。 一来内容较浅，不需要调度太多血液到脑部，大肠有足够能量工作 二来书中内容在其他技术书籍中多有出现，漏过也不必遗憾，倒是里面的贫嘴部分颇有意思 我已经用这本书代替《梦断代码》了 以上

                        &nbsp;(<a href="javascript:;" id="toggle-2039559-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2039559_full" class="hidden">
                    <div id="review_2039559_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2039559" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2039559">
                                3
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2039559" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2039559">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2039559/#comments" class="reply">6回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="3142567">
        <div class="main review-item" id="3142567">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/qinjian623/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u36862947-3.jpg">
        </a>

        <a href="https://www.douban.com/people/qinjian623/" property="v:reviewer" class="name">LuckyKu</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2010-04-05" class="main-meta">2010-04-05 23:17:24</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/3142567/">很不错，介绍的比较底层。</a></h2>

                <div id="review_3142567_short" class="review-short" data-rid="3142567">
                    <div class="short-content">

                        书里面写了不少比较底层的知识，而且介绍的还比较具体。另外还有一个简单的运行时库的实现。 适合常翻常看。难得的不错的国内的计算机书。

                        &nbsp;(<a href="javascript:;" id="toggle-3142567-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_3142567_full" class="hidden">
                    <div id="review_3142567_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="3142567" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-3142567">
                                3
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="3142567" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-3142567">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/3142567/#comments" class="reply">5回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2925933">
        <div class="main review-item" id="2925933">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/4480427/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u4480427-2.jpg">
        </a>

        <a href="https://www.douban.com/people/4480427/" property="v:reviewer" class="name">加肥猫gxf</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2010-01-11" class="main-meta">2010-01-11 03:22:01</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2925933/">为什么说是好书</a></h2>

                <div id="review_2925933_short" class="review-short" data-rid="2925933">
                    <div class="short-content">

                        这本书出版半年多来，也差不过翻看一遍有余。趁2012还没有到，赶快简要地总结下书的特点：  1. 工具介绍很多； 2. 主要章节行文流畅，不冗余，逻辑也很清晰； 3. 部分表格(ELF-32)很实用，可以当做手册查找。 4. 适合任何尚未了解，却又对链接尤其是对动态链接感兴趣的读者；  ...

                        &nbsp;(<a href="javascript:;" id="toggle-2925933-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2925933_full" class="hidden">
                    <div id="review_2925933_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2925933" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2925933">
                                4
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2925933" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2925933">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2925933/#comments" class="reply">5回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>




    

    

    <script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/5ab03222eea914f1.js"></script>
    <!-- COLLECTED CSS -->
</div>







            <p class="pl">
                &gt;
                <a href="reviews">
                    更多书评75篇
                </a>
            </p>
</section>
    
<!-- COLLECTED JS -->

  









<div class="ugc-mod reading-notes">
  <div class="hd">
    <h2>
      读书笔记&nbsp;&nbsp;· · · · · ·&nbsp;
          <span class="pl">(<a href="https://book.douban.com/subject/3652388/annotation">共<span property="v:count">281</span>篇</a>)</span>

    </h2>

      <a class="redbutt rr j a_show_login" href="https://www.douban.com/register?reason=annotate" rel="nofollow"><span>我来写笔记</span></a>
  </div>
  

    <div class="bd">
      <ul class="inline-tabs">
        <li class="on"><a href="#rank" id="by_rank" >按有用程度</a></li>
        <li><a href="#page" id="by_page" >按页码先后</a></li>
        <li><a href="#time" id="by_time" >最新笔记</a></li>
      </ul>
      
  <ul class="comments by_rank" >
      
      <li class="ctsh clearfix" data-cid="23288815">
        <div class="ilst">
          <a href="https://www.douban.com/people/ziyoudefeng/"><img src="https://img1.doubanio.com/icon/u15627373-7.jpg" alt="ziyoudefeng" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/23288815/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/23288815/" class="">第319页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/ziyoudefeng/" class=" " title="ziyoudefeng">ziyoudefeng</a>
                (娜娜，有你生活真幸福~~)
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="23288815">
              <div class="short">
                
                  <span class="">本篇笔记全文摘自后面参考文献列出的地址，不过原文中有一些错别字，我这里把错别字改了改，然后也是按照自己机器上代码的结果来进行演示。再结合本书前面第6章“6.5 Linux内核装载ELF过程简介”来进行说明。
1、开始
        The question is simple: how does linux execute my main()? Through this document, I'll use the following simple C program to illustrate how it works. It's called &quot;execute_main.c&quot;...</span>
                <p class="pl">
                  <span class="">2012-12-19 20:41</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                本篇笔记全文摘自后面参考文献列出的地址，不过原文中有一些错别字，我这里把错别字改了改，然后也是按照自己机器上代码的结果来进行演示。再结合本书前面第6章“6.5 Linux内核装载ELF过程简介”来进行说明。<div style="padding-bottom:1em;"></div>1、开始<div style="padding-bottom:1em;"></div>        The question is simple: how does linux execute my main()? Through this document, I'll use the following simple C program to illustrate how it works. It's called &quot;execute_main.c&quot;
<pre class="source true c">
int main()
{
   return 0;
}
</pre>
2、编译<div style="padding-bottom:1em;"></div>        gcc -o execute_main execute_main.c<div style="padding-bottom:1em;"></div>3、What's in the executable?<pre class="source true c">i4@i4:~/文档/tempfile$ objdump -f execute_main

execute_main:     file format elf32-i386
architecture: i386, flags 0x00000112:
EXEC_P, HAS_SYMS, D_PAGED
start address 0x08048300
</pre>
4、What's at address &quot;0x08048300&quot;, that is, starting address?<pre class="source true c">i4@i4:~/文档/tempfile$ objdump -d execute_main
</pre>
        The output is a little bit long so I'll not paste all the output from objdump. Our intention is see what's at address 0x08048300. Here is the output.
<pre class="source true c">
Disassembly of section .text:

08048300 &lt;_start&gt;:
 8048300:	31 ed                	xor    %ebp,%ebp
 8048302:	5e                   	pop    %esi
 8048303:	89 e1                	mov    %esp,%ecx
 8048305:	83 e4 f0             	and    $0xfffffff0,%esp
 8048308:	50                   	push   %eax
 8048309:	54                   	push   %esp
 804830a:	52                   	push   %edx
 804830b:	68 30 84 04 08       	push   $0x8048430
 8048310:	68 c0 83 04 08       	push   $0x80483c0
 8048315:	51                   	push   %ecx
 8048316:	56                   	push   %esi
 8048317:	68 b4 83 04 08       	push   $0x80483b4
 804831c:	e8 cf ff ff ff       	call   80482f0 &lt;__libc_start_main@plt&gt;
 8048321:	f4                   	hlt    
</pre>
        Looks like some kind of starting routine called &quot;_start&quot; is at the starting address. What it does is clear a register, push some values into stack and call a function. According to this instruction, the stack frame should look like this.<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %eax       <div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %esp<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %edx<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  0x8048430<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  0x80483c0<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %ecx<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %esi<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>Stack Top  0x80483b4<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>        Now, as you already wonder,we've got a few questions regarding this stack frame.<div style="padding-bottom:1em;"></div>        Q1: What are those hex values about? <div style="padding-bottom:1em;"></div>        Q2: What's at address 80482f0, which is called by _start? (PS: 即上面反汇编代码中804831c:	e8 cf ff ff ff       	call   80482f0 &lt;__libc_start_main@plt&gt;)  <div style="padding-bottom:1em;"></div>        Q3: Looks like the assembly instructions doesn't initialize any register with possibly meaningful values. Then who initializes the registers? (PS: 个人认为这个很重要，后面有较多篇幅来描述)<div style="padding-bottom:1em;"></div>        A1: The hexa values.<div style="padding-bottom:1em;"></div>        If you look at disassembled output from objdump carefully, you can answer this question easily.再把反汇编代码摘出来，然后给出答案：<pre class="source true c">
08048430 &lt;__libc_csu_fini&gt;: ......
080483c0 &lt;__libc_csu_init&gt;: ......
080483b4 &lt;main&gt;: ......
</pre>
        Right now, let's not care about these stuffs. And basically, all those hexa values are function pointers.<div style="padding-bottom:1em;"></div>        A2: What's at address 80482f0?
<pre class="source true c">
080482f0 &lt;__libc_start_main@plt&gt;:
 80482f0:	ff 25 04 a0 04 08    	jmp    *0x804a004
......
</pre>
        Here *0x804a004 is a pointer operation. It just jumps to an address stored at address 0x804a004.那么这里地址0x804a004处是什么呢？我们看下面代码(PS: 原文这里又说了说关于动态链接的内容，这些内容在书第7章已经讲了，我这里不再陈述。大家跟着看下代码就明白了。)
<pre class="source true c">
i4@i4:~/文档/tempfile$ objdump -R execute_main

execute_main:     file format elf32-i386

DYNAMIC RELOCATION RECORDS
OFFSET   TYPE              VALUE 
08049ff0 R_386_GLOB_DAT    __gmon_start__
0804a000 R_386_JUMP_SLOT   __gmon_start__
0804a004 R_386_JUMP_SLOT   __libc_start_main
</pre>
        看到没，上面0x804a004其实是__libc_start_main函数的地址，是动态链接里面动态重定位里的一种类型。即，其实我们是想调用__libc_start_main函数。<div style="padding-bottom:1em;"></div>5、What's __libc_start_main?<div style="padding-bottom:1em;"></div>        Now the ball is on libc's hand. __libc_start_main is a function in libc.so.6. If you look for __libc_start_main in glibc source code, the prototype looks like this.
<pre class="source true c">
int __libc_start_main(
                  int (*main) (int, char * *, char * *), 
                  int argc, 
                  char * * ubp_av, 
                  void (*init) (void), 
                  void (*fini) (void), 
                  void (*rtld_fini) (void), 
                  void (* stack_end)
);
</pre>总结：<div style="padding-bottom:1em;"></div>        到此我们知道：<div style="padding-bottom:1em;"></div>        all the assembly instructions do is set up argument stack and call _libc_start_main. What this function does is setup/initialize some data structures/environments and call our main(). Let's look at the stack frame with this function prototype. <div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %eax             this is 0<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %esp             stack_end<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %edx             _rtlf_fini<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  0x8048430    _libc_csu_fini<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  0x80483c0    _libc_csu_init<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %ecx             argv<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  %esi              argc<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>Stack Top  0x80483b4    main<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>        According to this stack frame, esi, ecx, edx, esp, eax registers should be filled with appropriate values before __libc_start_main() is executed. And clearly this registers are not set by the startup assembly instructions shown before. Then, who sets these registers? Now I guess the only thing left. The kernel. Now let's go back to our third question.<div style="padding-bottom:1em;"></div>        A3: What does the kernel do?<div style="padding-bottom:1em;"></div>        When we execute a program by entering a name on shell, this is what happens on Linux.(PS: 下面的描述太长，其实描述的也就是书里第6章“6.5 Linux内核装载ELF过程简介”的内容。我在这段英文后面给出大概的执行流程)<div style="padding-bottom:1em;"></div>        1: The shell calls the kernel system call &quot;execve&quot; with argc/argv. The kernel system call handler gets control and start handling the system call. In kernel code, the handler is &quot;sys_execve&quot;. On x86, the user-mode application passes all required parameters to kernel with the following registers.<div style="padding-bottom:1em;"></div>                %ebx : pointer to program name string<div style="padding-bottom:1em;"></div>                %ecx : argv array pointer<div style="padding-bottom:1em;"></div>                %edx : environment variable array pointer.<div style="padding-bottom:1em;"></div>        2: The generic execve kernel system call handler, which is do_execve, is called. What it does is set up a data structure and copy some data from user space to kernel space and finally calls search_binary_handler(). Linux can support more than one executable file format such as a.out and ELF at the same time. For this functionality, there is a data structure &quot;struct linux_binfmt&quot;, which has a function pointer for each binary format loader. And search_binary_handler() just looks up an appropriate handler and calls it. In our case, load_elf_binary() is the handler. To explain each detail of the function would be lengthy/boring work. So I'll not do that. If you are interested in it, read a book about it. As a picture tells a thousand words, a thousand lines of source code tells ten thousand words (sometimes). Here is the bottom line of the function. It first sets up kernel data structures for file operation to read the ELF executable image in. Then it sets up a kernel data structure: code size, data segment start, stack segment start, etc. And it allocates user mode pages for this process and copies the argv and environment variables to those allocated page addresses. Finally, argc, the argv pointer, and the envrioronment variable array pointer are pushed to user mode stack by create_elf_tables(), and start_thread() starts the process execution rolling. <div style="padding-bottom:1em;"></div>        这两段描述的大概流程是：shell ---&gt; execve (同时传递argc, argv) ---&gt; sys_execve (用户模式下的一些内容传递给内核模式里的一些寄存器，即%ebx, %ecx, %edx。这三个的具体内容上面1:里有) ---&gt; search_binary_handler() ---&gt; load_elf_binary()。最后这个load_elf_binary()设置了不少内容，设置完之后就是返回到用户模式下运行e_entry的入口函数。<div style="padding-bottom:1em;"></div>        在入口函数_start()执行之前，栈的内容如下：<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  env pointer <div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>                  argv pointer <div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>Stack Top  argc<div style="padding-bottom:1em;"></div>                  ----------------<div style="padding-bottom:1em;"></div>        And the assembly instructions gets all information from stack by
<pre class="source true c">
pop %esi 		&lt;--- get argc
mov %esp, %ecx		&lt;--- get argv (actually the argv address is the same as the current stack pointer.)
</pre>
        And now we are all set to start executing.<div style="padding-bottom:1em;"></div>6、What about the other registers?<div style="padding-bottom:1em;"></div>        For %esp, this is used for stack end in application program. After popping all necessary information, the _start rountine simply adjusts the stack pointer (%esp) by turning off lower 4 bits from esp register. This perfectly makes sense since actually, to our main program, that is the end of stack. For edx, which is used for rtld_fini, a kind of application destructor, the kernel just sets it to 0 with the following macro.<div style="padding-bottom:1em;"></div>#define ELF_PLAT_INIT(_r)	do { \<div style="padding-bottom:1em;"></div>	_r-&gt;ebx = 0; _r-&gt;ecx = 0; _r-&gt;edx = 0; \<div style="padding-bottom:1em;"></div>	_r-&gt;esi = 0; _r-&gt;edi = 0; _r-&gt;ebp = 0; \<div style="padding-bottom:1em;"></div>	_r-&gt;eax = 0; \<div style="padding-bottom:1em;"></div>} while (0)<div style="padding-bottom:1em;"></div>        The 0 means we don't use that functionality on x86 linux.<div style="padding-bottom:1em;"></div>7、Summing up<div style="padding-bottom:1em;"></div>        Here is what happens. <div style="padding-bottom:1em;"></div>        1: GCC build your program with crtbegin.o/crtend.o/gcrt1.o And the other default libraries are dynamically linked by default. Starting address of the executable is set to that of _start.<div style="padding-bottom:1em;"></div>        2: Kernel loads the executable and setup text/data/bss/stack, especially, kernel allocate page(s) for arguments and environment variables and pushes all necessary information on stack.<div style="padding-bottom:1em;"></div>        3: Control is pased to _start. _start gets all information from stack setup by kernel, sets up argument stack for __libc_start_main, and calls it. <div style="padding-bottom:1em;"></div>        4: __libc_start_main initializes necessary stuffs, especially C library(such as malloc) and thread environment and calls our main. <div style="padding-bottom:1em;"></div>        5: our main is called with main(argv, argv) Actually, here one interesting point is the signature of main. __libc_start_main thinks main's signature as main(int, char **, char **) If you are curious, try the following prgram.
<pre class="source true c">
main(int argc, char** argv, char** env)
{
    int i = 0;
    while(env[i] != 0)
    {
       printf(&quot;%s\n&quot;, env[i++]);
    }
    return(0);
}</pre>
8、Conclusion<div style="padding-bottom:1em;"></div>        On Linux, our C main() function is executed by the cooperative work of GCC, libc and Linux's binary loader.<div style="padding-bottom:1em;"></div>9、Reference<div style="padding-bottom:1em;"></div>        [1] <a rel="nofollow" href="http://linuxgazette.net/issue84/hawk.html" target="_blank">http://linuxgazette.net/issue84/hawk.html</a>
        [2] <a rel="nofollow" href="http://www.fsl.cs.sunysb.edu/~siddhi/ELF.pdf" target="_blank">http://www.fsl.cs.sunysb.edu/~siddhi/ELF.pdf</a>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/23288815/#comments">回应</a>&nbsp;&nbsp;
                  2012-12-19 20:41
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="23343580">
        <div class="ilst">
          <a href="https://www.douban.com/people/ziyoudefeng/"><img src="https://img1.doubanio.com/icon/u15627373-7.jpg" alt="ziyoudefeng" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/23343580/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/23343580/" class="">第29页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/ziyoudefeng/" class=" " title="ziyoudefeng">ziyoudefeng</a>
                (娜娜，有你生活真幸福~~)
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="23343580">
              <div class="short">
                
                  <span class="">过度优化的问题自然很多，这里不再描述。只说解决方法：
可以使用volatile关键字来试图阻止过度优化，volatile基本可以做到两件事情：
1、阻止编译器为了提高速度将一个变量缓存到寄存器内而不写回。
2、阻止编译器调整操作volatile变量的指令顺序。
但即使这样，还是有问题。
        因为即使volatile能够阻止编译器调整指令顺序，也无法阻止CPU动态调度换序。下面举例说明：
Singleton模式
<span class="code-holder">/..</span></span>
                  &nbsp;&nbsp;<a href="https://book.douban.com/annotation/23343580/">(<span class="">2回应</span>)</a>
                <p class="pl">
                  <span class="">2012-12-22 14:21</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                过度优化的问题自然很多，这里不再描述。只说解决方法：
<blockquote><q>可以使用volatile关键字来试图阻止过度优化，volatile基本可以做到两件事情：
1、阻止编译器为了提高速度将一个变量缓存到寄存器内而不写回。
2、阻止编译器调整操作volatile变量的指令顺序。</q></blockquote>
但即使这样，还是有问题。<div style="padding-bottom:1em;"></div>        因为即使volatile能够阻止编译器调整指令顺序，也无法阻止CPU动态调度换序。下面举例说明：<div style="padding-bottom:1em;"></div>Singleton模式
<pre class="source true c">
volatile T* pInst = 0;
T *GetInstance()
{
        if (pInst == NULL) {
                lock();
                if (pInst == NULL)
                        pInst = new T;
                unlock();
        }
        return pInst;
}
</pre>
这段代码的问题是CPU的乱序执行。因为C++里的new操作包含了两个步骤：<div style="padding-bottom:1em;"></div>1、分配内存。<div style="padding-bottom:1em;"></div>2、调用构造函数。<div style="padding-bottom:1em;"></div>所以，pInst = new T包含了三个步骤：<div style="padding-bottom:1em;"></div>        (1) 分配内存。<div style="padding-bottom:1em;"></div>        (2) 在内存的位置上调用构造函数。<div style="padding-bottom:1em;"></div>        (3) 将内存的地址赋值给pInst。<div style="padding-bottom:1em;"></div>在这三步中，(2)和(3)的顺序是可以颠倒的。也就是说，完全有可能出现这样的情况：pInst的值已经不是NULL，但对象仍然没有构造完毕。这时候如果出现另外一个对GetInstance的并发调用，此时第一个if内的表达式pInst == NULL 为false，所以这个调用会直接返回尚未构造完全的对象的地址(pInst)以提供给用户使用。那么程序这个时候会不会崩溃就取决于这个类的设计如何了。<div style="padding-bottom:1em;"></div>        解决这一问题，即多线程环境中，CPU的换序问题，可以通过barrier指令来完成。<div style="padding-bottom:1em;"></div><pre class="source true c">
#define barrier() __asm__ volatile(&quot;lwsync&quot;)
volatile T* pInst = 0;
T *GetInstance()
{
        if (pInst == NULL) {
                lock();
                if (pInst == NULL) { // 通过临时对象指针和屏障指令，就保证了上面(2)(3)的顺序执行
                        T *temp = new T;
                        barrier();
                        pInst = temp; 
                }
                unlock();
        }
        return pInst;
}
</pre><div style="padding-bottom:1em;"></div>OK，完美解决～～
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/23343580/#comments">2回应</a>&nbsp;&nbsp;
                  2012-12-22 14:21
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="23054917">
        <div class="ilst">
          <a href="https://www.douban.com/people/ziyoudefeng/"><img src="https://img1.doubanio.com/icon/u15627373-7.jpg" alt="ziyoudefeng" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/23054917/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/23054917/" class="">第166页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/ziyoudefeng/" class=" " title="ziyoudefeng">ziyoudefeng</a>
                (娜娜，有你生活真幸福~~)
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="23054917">
              <div class="short">
                
                  <span class=""><span class="code-holder">/代码内容已省略/</span>

例如：
<span class="code-holder">/代码内容已省略/</span>
其中：
第一列是VMA的地址范围
第二列是VMA的权限，r代表可读，w代表可写，x代表可执行，p代表私有，s代表共享
第三列是偏移，表示VMA对应的Segment在映像文件中的偏移
第四列是映像文件所在设备的主设备号和次设备号
第五列是映像文件的节点号
最后一列是映像文件的路径</span>
                <p class="pl">
                  <span class="">2012-12-09 21:24</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <pre class="source true c">
cat /proc/pid/maps
</pre><div style="padding-bottom:1em;"></div>例如：
<pre class="source true c">
i4@i4:~/文档/proger$ ./p162.elf &amp;
[1] 6178
i4@i4:~/文档/proger$ cat /proc/6178/maps
08048000-080ee000 r-xp 00000000 08:07 7875904    /home/i4/文档/proger/p162.elf
080ee000-080f0000 rw-p 000a5000 08:07 7875904    /home/i4/文档/proger/p162.elf
080f0000-080f2000 rw-p 00000000 00:00 0 
093ba000-093dc000 rw-p 00000000 00:00 0          [heap]
b7764000-b7765000 r-xp 00000000 00:00 0          [vdso]
bfde5000-bfe06000 rw-p 00000000 00:00 0          [stack]
</pre>
<blockquote><q>其中：
第一列是VMA的地址范围
第二列是VMA的权限，r代表可读，w代表可写，x代表可执行，p代表私有，s代表共享
第三列是偏移，表示VMA对应的Segment在映像文件中的偏移
第四列是映像文件所在设备的主设备号和次设备号
第五列是映像文件的节点号
最后一列是映像文件的路径</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/23054917/#comments">回应</a>&nbsp;&nbsp;
                  2012-12-09 21:24
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="12712965">
        <div class="ilst">
          <a href="https://www.douban.com/people/vivid_1986/"><img src="https://img3.doubanio.com/icon/u3155283-4.jpg" alt="vivi" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/12712965/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/12712965/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/vivid_1986/" class=" " title="vivi">vivi</a>
                (执子之手，将子拖走)
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="12712965">
              <div class="short">
                
                  <span class="">一、程序的编译过程，目标文件里究竟是什么

从源程序到目标文件的生成过程
最简单的编译命令是gcc helloworld.c，它包含了以下几个步骤：
预处理、编译、汇编、链接，下面分别简介。

预处理：处理#define宏定义、#if #ifdef等条件编译指令、#include预编译指令，删除注释，添加行号和文件名标识，保留所有的#pargma编译器指令，经过预编译后的文件为.i文件。预编译命令为：gcc -E hello.c -o hello.i或者cpp hello.c &gt; ...</span>
                  &nbsp;&nbsp;<a href="https://book.douban.com/annotation/12712965/">(<span class="">2回应</span>)</a>
                <p class="pl">
                  <span class="">2011-05-06 17:24</span>
                  
                    &nbsp;&nbsp;<span class="">5人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                一、程序的编译过程，目标文件里究竟是什么<div style="padding-bottom:1em;"></div>从源程序到目标文件的生成过程<div style="padding-bottom:1em;"></div>最简单的编译命令是gcc helloworld.c，它包含了以下几个步骤：<div style="padding-bottom:1em;"></div>预处理、编译、汇编、链接，下面分别简介。<div style="padding-bottom:1em;"></div>预处理：处理#define宏定义、#if #ifdef等条件编译指令、#include预编译指令，删除注释，添加行号和文件名标识，保留所有的#pargma编译器指令，经过预编译后的文件为.i文件。预编译命令为：gcc -E hello.c -o hello.i或者cpp hello.c &gt; hello.i<div style="padding-bottom:1em;"></div>编译：把预处理完得文件进行一系列的词法分析、语法分析、语意分析及优化后产生的汇编代码文件。编译命令为gcc -S hello.i -o hello.s。现在版本的gcc把预编译和编译两个步骤合并成一个步骤，使用ccl程序来完成，命令为ccl hello.c。<div style="padding-bottom:1em;"></div>也可以使用gcc -S hello.c -o hello.s直接从.c文件生成.s汇编文件。<div style="padding-bottom:1em;"></div>汇编：将汇编代码转变成机器可以执行的指令，每一条汇编语句几乎都对应一条机器指令。命令为：as hello.s -o hello.o或者gcc -c hello.s -o hello.o或者我们最熟悉的gcc -c hello.c -o hello.o<div style="padding-bottom:1em;"></div>链接：当我们的程序模块调用a另一个模块中b的函数（foo()）或变量时，在编译的阶段编译器并不知道函数foo的地址，所以暂时把调用foo的指令的目标地址搁置，等待最后链接的时候由连接器去将这些指令的目标地址修正。把目标文件和库一起链接成可执行文件。最常见的库时运行时库。<div style="padding-bottom:1em;"></div>目标文件中的格式<div style="padding-bottom:1em;"></div>目标文件就是源代码编译后但未进行链接的那些中间文件，它和可执行文件的内容和结构其实很相似，所以一般和可执行文件采用同一种格式存储，那就是ELF格式。与ELF格式相对应的是Windows平台下的PE格式，它们都是COFF格式的变种。不光是可执行文件和目标文件按照ELF格式存储，动态链接库（.so）和静态链接库（.a）都按照ELF格式存储。<div style="padding-bottom:1em;"></div>ELF格式的文件可分为以下4类：<div style="padding-bottom:1em;"></div>1 可重定位文件（Relocatable File）：这类文件包含了代码和数据，可以被用来链接成可执行文件或共享目标文件，静态链接库也可以归为这一类，代表是Linux的.o文件<div style="padding-bottom:1em;"></div>2 可执行文件（Executable File）：这类文件包含了可以直接执行的程序，它的代表就是ELF可执行文件，它们一般都没有扩展名，如/bin/bash文件<div style="padding-bottom:1em;"></div>3 共享目标文件（Shared Object File）：这种文件包含了代码和数据，可以在以下两种情况下使用。一种是链接器可以使用这种文件跟其他的可重定位文件和共享目标文件链接，产生新的目标文件。第二种是动态链接器可以将这几个共享目标文件与可执行文件结合，作为进程影响的一部分来运行。<div style="padding-bottom:1em;"></div>4 核心转储文件（Core Dump File）：当进程意外终止时，系统可以将该进程的地址空间的内容以终止时的一些其他信息转储带核心转储文件。<div style="padding-bottom:1em;"></div>上面几种文件在file命令下会显示出相应的类型。<div style="padding-bottom:1em;"></div>目标文件里有什么：<div style="padding-bottom:1em;"></div>ELF文件最重要的结构是ELF文件头（ELF Header）：ELF文件头里定义了ELF魔数、文件机器字节长度、数据存储方式、版本、运行平台、ABI版本、ELF重定位类型、硬件平台、硬件平台版本、入口地址、程序头入口和长度、段表的位置和长度及段得数量等。<div style="padding-bottom:1em;"></div>三个最重要的段：代码段(.text)、数据段(.data)和只读数据段(.rodata)、BSS段(.bss)<div style="padding-bottom:1em;"></div>可以用objdump -s -x -d hello.o来分析各个段得内容，-d表示反汇编，-s表示把各段内容用16进制打印，-x表示详细数据。<div style="padding-bottom:1em;"></div> 顾名思义，.text段主要存放可执行的代码数据；.data段保存的是已经初始化了的全局变量和静态变量；.rodata段保存只读数据，一般是程序里的只读变量（如const修饰的变量）和字符串常量；bss保存未初始化的全局变量和静态变量。<div style="padding-bottom:1em;"></div>除此之外，还有一些常见的段，如<div style="padding-bottom:1em;"></div>.comment段存放编译器版本信息，比如字符串“GCC:(GNU)4.2.0”<div style="padding-bottom:1em;"></div>.dubug段存放调试信息<div style="padding-bottom:1em;"></div>.dynamic存放动态链接信息<div style="padding-bottom:1em;"></div>.hash段存放符号哈希表<div style="padding-bottom:1em;"></div>.line段存放调试时的行号表<div style="padding-bottom:1em;"></div>.note段存放额外的编译器信息<div style="padding-bottom:1em;"></div>.strtab段存放字符串表，用于存储ELF文件中用到的各种字符串，比如符号的名字<div style="padding-bottom:1em;"></div>.shstrtab段存放段表中用到的字符串，最常见的就是段名<div style="padding-bottom:1em;"></div>.symtab段是符号表，通过符号表就能知道这个符号在哪个段，以及在这个段的具体位置，还有这个符号在字符串表中的位置<div style="padding-bottom:1em;"></div>Section Table(段表)也是其中一个段，它保存了各个段的信息，如段名、段的长度、在文件中的偏移、读写权限及段的其他属性<div style="padding-bottom:1em;"></div>.rel.text段是一个重定位表，正如前面所说的，链接器在处理目标文件时，需要对目标文件的某些部位进行重定位，即代码段和数据段中那些对绝对地址的引用的位置，这些重定位的信息都记录在ELF文件的重定位表里<div style="padding-bottom:1em;"></div>通过ELF文件头的信息可以找到段表的位置，从而找到各个段得位置和信息。<div style="padding-bottom:1em;"></div>可以用readelf -S hello.o命令详细查看ELF文件中各段的信息。<div style="padding-bottom:1em;"></div>二、可执行文件的装载<div style="padding-bottom:1em;"></div>程序执行时所需要的指令和数据必须都在内存中才能正常运行，最简单的办法就是将程序运行时所需要的指令和数据全部都装入内存，这样程序就能顺利执行，这就是最简单的静态装入的方法。但是程序所需要的内存数量可能大于物理内存，静态装入就不太现实。<div style="padding-bottom:1em;"></div>	后来研究发现，程序运行时具有局部性原理，所以我们可以将程序最常用的部分驻留在内存中，而将一些不太常用的数据存放在磁盘上，这就是动态装载的原理。<div style="padding-bottom:1em;"></div>	覆盖装入和页映射是两种典型的动态装入方法。覆盖装入就是如果两个模块不会同时运行，则可以使这两个模块共用一块内存，需要哪个模块的时候就装入。现在基本已经淘汰了。<div style="padding-bottom:1em;"></div>	页映射是虚拟存储机制的一部分，它随着虚拟存储的发明而诞生。在页映射机制中，程序装载和操作的单位都是页。最常见的Inter IA32处理器一般都使用4KB大小的页。<div style="padding-bottom:1em;"></div>	假设程序所有的指令和数据总和为32kB,那么程序总共分为8页，将其编号为P0-O7，并假设物理内存只有16kB，编号为F0-F3。如果程序刚开始执行时的入口地址为P0，这时装载管理器发现程序的P0不在内存中，于是将F0分配给P0，并将P0的内容装入F0；运行一段时间后，程序需要用到P5，于是装载管理器将P5装入F1，就这样，当程序用到P3和P6时，它们分别装入到了F2和F3。<div style="padding-bottom:1em;"></div>	很明显，如果这时程序只需要P0，P3，P5和P6这4个页，那么程序就能一直运行下去。但是如果这时候需要访问P4，那么装载管理器需要最初选择，它必须放弃目前正在使用的4个物理内存页中的一个来装载P4。至于选择哪个页，可以有多种算法选择，比如FIFO先入先出算法，LRU最近最少使用算法等。<div style="padding-bottom:1em;"></div>	其实，上面所说的装载管理器就是操作系统的存储管理器。<div style="padding-bottom:1em;"></div>从操作系统的角度看可执行文件的装载<div style="padding-bottom:1em;"></div>	从操作系统的角度看，一个进程最关键的特征就是它拥有独立的虚拟地址空间，这使得它有别于其他进程。这在<a rel="nofollow" href="http://blog.csdn.net/vividonly/archive/2011/05/04/6393516.aspx" target="_blank">http://blog.csdn.net/vividonly/archive/2011/05/04/6393516.aspx</a>一文中有详细解释。要使一个可执行程序得以执行，首先必须创建一个进程，然后装载相应的可执行文件并且执行。在有虚拟存储的情况下，上述过程最开始只要做三件事：<div style="padding-bottom:1em;"></div>	1 创建一个独立的虚拟地址空间。这时候并不设置虚拟地址页和物理地址页的映射关系，这些映射关系等到后面程序发生页错误的时候再进行设置。当发生页错误时，操作系统将从物理内存中分配一个物理页，然后将该“缺页”从磁盘中读取到内存中再设置缺页的虚拟页与物理页的映射关系。这都是通过CPU的MMU来实现的。<div style="padding-bottom:1em;"></div>	2 读取可执行文件头，并且建立虚拟空间与可执行文件的映射关系。这个映射关系在进程中叫做VMA（虚拟内存区域）。比如对于.text段，在创建进程后，会在进程相应的数据结构中设置一个.text段的VMA，记录了它在虚拟空间的地址以及它在ELF文件中的偏移。当程序执行发生页错误，通过查找VMA结构来定位错误页在可执行文件的位置，把可执行文件的那部分内容装入刚分配的物理内存中，进程从刚才页错误的位置重新开始执行。<div style="padding-bottom:1em;"></div>	3 将CPU的指令寄存器设置为可执行文件的入口地址，启动运行。操作系统通过设置CPU的指令寄存器将控制权转交给进程。这里的入口地址就是ELF文件头中的入口地址。
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/12712965/#comments">2回应</a>&nbsp;&nbsp;
                  2011-05-06 17:24
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_page"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="12712965">
        <div class="ilst">
          <a href="https://www.douban.com/people/vivid_1986/"><img src="https://img3.doubanio.com/icon/u3155283-4.jpg" alt="vivi" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/12712965/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/12712965/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/vivid_1986/" class=" " title="vivi">vivi</a>
                (执子之手，将子拖走)
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="12712965">
              <div class="short">
                
                  <span class="">一、程序的编译过程，目标文件里究竟是什么

从源程序到目标文件的生成过程
最简单的编译命令是gcc helloworld.c，它包含了以下几个步骤：
预处理、编译、汇编、链接，下面分别简介。

预处理：处理#define宏定义、#if #ifdef等条件编译指令、#include预编译指令，删除注释，添加行号和文件名标识，保留所有的#pargma编译器指令，经过预编译后的文件为.i文件。预编译命令为：gcc -E hello.c -o hello.i或者cpp hello.c &gt; ...</span>
                  &nbsp;&nbsp;<a href="https://book.douban.com/annotation/12712965/">(<span class="">2回应</span>)</a>
                <p class="pl">
                  <span class="">2011-05-06 17:24</span>
                  
                    &nbsp;&nbsp;<span class="">5人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                一、程序的编译过程，目标文件里究竟是什么<div style="padding-bottom:1em;"></div>从源程序到目标文件的生成过程<div style="padding-bottom:1em;"></div>最简单的编译命令是gcc helloworld.c，它包含了以下几个步骤：<div style="padding-bottom:1em;"></div>预处理、编译、汇编、链接，下面分别简介。<div style="padding-bottom:1em;"></div>预处理：处理#define宏定义、#if #ifdef等条件编译指令、#include预编译指令，删除注释，添加行号和文件名标识，保留所有的#pargma编译器指令，经过预编译后的文件为.i文件。预编译命令为：gcc -E hello.c -o hello.i或者cpp hello.c &gt; hello.i<div style="padding-bottom:1em;"></div>编译：把预处理完得文件进行一系列的词法分析、语法分析、语意分析及优化后产生的汇编代码文件。编译命令为gcc -S hello.i -o hello.s。现在版本的gcc把预编译和编译两个步骤合并成一个步骤，使用ccl程序来完成，命令为ccl hello.c。<div style="padding-bottom:1em;"></div>也可以使用gcc -S hello.c -o hello.s直接从.c文件生成.s汇编文件。<div style="padding-bottom:1em;"></div>汇编：将汇编代码转变成机器可以执行的指令，每一条汇编语句几乎都对应一条机器指令。命令为：as hello.s -o hello.o或者gcc -c hello.s -o hello.o或者我们最熟悉的gcc -c hello.c -o hello.o<div style="padding-bottom:1em;"></div>链接：当我们的程序模块调用a另一个模块中b的函数（foo()）或变量时，在编译的阶段编译器并不知道函数foo的地址，所以暂时把调用foo的指令的目标地址搁置，等待最后链接的时候由连接器去将这些指令的目标地址修正。把目标文件和库一起链接成可执行文件。最常见的库时运行时库。<div style="padding-bottom:1em;"></div>目标文件中的格式<div style="padding-bottom:1em;"></div>目标文件就是源代码编译后但未进行链接的那些中间文件，它和可执行文件的内容和结构其实很相似，所以一般和可执行文件采用同一种格式存储，那就是ELF格式。与ELF格式相对应的是Windows平台下的PE格式，它们都是COFF格式的变种。不光是可执行文件和目标文件按照ELF格式存储，动态链接库（.so）和静态链接库（.a）都按照ELF格式存储。<div style="padding-bottom:1em;"></div>ELF格式的文件可分为以下4类：<div style="padding-bottom:1em;"></div>1 可重定位文件（Relocatable File）：这类文件包含了代码和数据，可以被用来链接成可执行文件或共享目标文件，静态链接库也可以归为这一类，代表是Linux的.o文件<div style="padding-bottom:1em;"></div>2 可执行文件（Executable File）：这类文件包含了可以直接执行的程序，它的代表就是ELF可执行文件，它们一般都没有扩展名，如/bin/bash文件<div style="padding-bottom:1em;"></div>3 共享目标文件（Shared Object File）：这种文件包含了代码和数据，可以在以下两种情况下使用。一种是链接器可以使用这种文件跟其他的可重定位文件和共享目标文件链接，产生新的目标文件。第二种是动态链接器可以将这几个共享目标文件与可执行文件结合，作为进程影响的一部分来运行。<div style="padding-bottom:1em;"></div>4 核心转储文件（Core Dump File）：当进程意外终止时，系统可以将该进程的地址空间的内容以终止时的一些其他信息转储带核心转储文件。<div style="padding-bottom:1em;"></div>上面几种文件在file命令下会显示出相应的类型。<div style="padding-bottom:1em;"></div>目标文件里有什么：<div style="padding-bottom:1em;"></div>ELF文件最重要的结构是ELF文件头（ELF Header）：ELF文件头里定义了ELF魔数、文件机器字节长度、数据存储方式、版本、运行平台、ABI版本、ELF重定位类型、硬件平台、硬件平台版本、入口地址、程序头入口和长度、段表的位置和长度及段得数量等。<div style="padding-bottom:1em;"></div>三个最重要的段：代码段(.text)、数据段(.data)和只读数据段(.rodata)、BSS段(.bss)<div style="padding-bottom:1em;"></div>可以用objdump -s -x -d hello.o来分析各个段得内容，-d表示反汇编，-s表示把各段内容用16进制打印，-x表示详细数据。<div style="padding-bottom:1em;"></div> 顾名思义，.text段主要存放可执行的代码数据；.data段保存的是已经初始化了的全局变量和静态变量；.rodata段保存只读数据，一般是程序里的只读变量（如const修饰的变量）和字符串常量；bss保存未初始化的全局变量和静态变量。<div style="padding-bottom:1em;"></div>除此之外，还有一些常见的段，如<div style="padding-bottom:1em;"></div>.comment段存放编译器版本信息，比如字符串“GCC:(GNU)4.2.0”<div style="padding-bottom:1em;"></div>.dubug段存放调试信息<div style="padding-bottom:1em;"></div>.dynamic存放动态链接信息<div style="padding-bottom:1em;"></div>.hash段存放符号哈希表<div style="padding-bottom:1em;"></div>.line段存放调试时的行号表<div style="padding-bottom:1em;"></div>.note段存放额外的编译器信息<div style="padding-bottom:1em;"></div>.strtab段存放字符串表，用于存储ELF文件中用到的各种字符串，比如符号的名字<div style="padding-bottom:1em;"></div>.shstrtab段存放段表中用到的字符串，最常见的就是段名<div style="padding-bottom:1em;"></div>.symtab段是符号表，通过符号表就能知道这个符号在哪个段，以及在这个段的具体位置，还有这个符号在字符串表中的位置<div style="padding-bottom:1em;"></div>Section Table(段表)也是其中一个段，它保存了各个段的信息，如段名、段的长度、在文件中的偏移、读写权限及段的其他属性<div style="padding-bottom:1em;"></div>.rel.text段是一个重定位表，正如前面所说的，链接器在处理目标文件时，需要对目标文件的某些部位进行重定位，即代码段和数据段中那些对绝对地址的引用的位置，这些重定位的信息都记录在ELF文件的重定位表里<div style="padding-bottom:1em;"></div>通过ELF文件头的信息可以找到段表的位置，从而找到各个段得位置和信息。<div style="padding-bottom:1em;"></div>可以用readelf -S hello.o命令详细查看ELF文件中各段的信息。<div style="padding-bottom:1em;"></div>二、可执行文件的装载<div style="padding-bottom:1em;"></div>程序执行时所需要的指令和数据必须都在内存中才能正常运行，最简单的办法就是将程序运行时所需要的指令和数据全部都装入内存，这样程序就能顺利执行，这就是最简单的静态装入的方法。但是程序所需要的内存数量可能大于物理内存，静态装入就不太现实。<div style="padding-bottom:1em;"></div>	后来研究发现，程序运行时具有局部性原理，所以我们可以将程序最常用的部分驻留在内存中，而将一些不太常用的数据存放在磁盘上，这就是动态装载的原理。<div style="padding-bottom:1em;"></div>	覆盖装入和页映射是两种典型的动态装入方法。覆盖装入就是如果两个模块不会同时运行，则可以使这两个模块共用一块内存，需要哪个模块的时候就装入。现在基本已经淘汰了。<div style="padding-bottom:1em;"></div>	页映射是虚拟存储机制的一部分，它随着虚拟存储的发明而诞生。在页映射机制中，程序装载和操作的单位都是页。最常见的Inter IA32处理器一般都使用4KB大小的页。<div style="padding-bottom:1em;"></div>	假设程序所有的指令和数据总和为32kB,那么程序总共分为8页，将其编号为P0-O7，并假设物理内存只有16kB，编号为F0-F3。如果程序刚开始执行时的入口地址为P0，这时装载管理器发现程序的P0不在内存中，于是将F0分配给P0，并将P0的内容装入F0；运行一段时间后，程序需要用到P5，于是装载管理器将P5装入F1，就这样，当程序用到P3和P6时，它们分别装入到了F2和F3。<div style="padding-bottom:1em;"></div>	很明显，如果这时程序只需要P0，P3，P5和P6这4个页，那么程序就能一直运行下去。但是如果这时候需要访问P4，那么装载管理器需要最初选择，它必须放弃目前正在使用的4个物理内存页中的一个来装载P4。至于选择哪个页，可以有多种算法选择，比如FIFO先入先出算法，LRU最近最少使用算法等。<div style="padding-bottom:1em;"></div>	其实，上面所说的装载管理器就是操作系统的存储管理器。<div style="padding-bottom:1em;"></div>从操作系统的角度看可执行文件的装载<div style="padding-bottom:1em;"></div>	从操作系统的角度看，一个进程最关键的特征就是它拥有独立的虚拟地址空间，这使得它有别于其他进程。这在<a rel="nofollow" href="http://blog.csdn.net/vividonly/archive/2011/05/04/6393516.aspx" target="_blank">http://blog.csdn.net/vividonly/archive/2011/05/04/6393516.aspx</a>一文中有详细解释。要使一个可执行程序得以执行，首先必须创建一个进程，然后装载相应的可执行文件并且执行。在有虚拟存储的情况下，上述过程最开始只要做三件事：<div style="padding-bottom:1em;"></div>	1 创建一个独立的虚拟地址空间。这时候并不设置虚拟地址页和物理地址页的映射关系，这些映射关系等到后面程序发生页错误的时候再进行设置。当发生页错误时，操作系统将从物理内存中分配一个物理页，然后将该“缺页”从磁盘中读取到内存中再设置缺页的虚拟页与物理页的映射关系。这都是通过CPU的MMU来实现的。<div style="padding-bottom:1em;"></div>	2 读取可执行文件头，并且建立虚拟空间与可执行文件的映射关系。这个映射关系在进程中叫做VMA（虚拟内存区域）。比如对于.text段，在创建进程后，会在进程相应的数据结构中设置一个.text段的VMA，记录了它在虚拟空间的地址以及它在ELF文件中的偏移。当程序执行发生页错误，通过查找VMA结构来定位错误页在可执行文件的位置，把可执行文件的那部分内容装入刚分配的物理内存中，进程从刚才页错误的位置重新开始执行。<div style="padding-bottom:1em;"></div>	3 将CPU的指令寄存器设置为可执行文件的入口地址，启动运行。操作系统通过设置CPU的指令寄存器将控制权转交给进程。这里的入口地址就是ELF文件头中的入口地址。
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/12712965/#comments">2回应</a>&nbsp;&nbsp;
                  2011-05-06 17:24
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="13968620">
        <div class="ilst">
          <a href="https://www.douban.com/people/lich0079/"><img src="https://img3.doubanio.com/icon/u26411020-2.jpg" alt="lich0079" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/13968620/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/13968620/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/lich0079/" class=" " title="lich0079">lich0079</a>
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="13968620">
              <div class="short">
                
                  <span class="">很多以前不知道 不明白的东西，现在明白了， 比如 静态链接 和动态链接的异同，
书里面很多侧重细节的， 没有仔细去细读， 读的都是一些大体概念的东西</span>
                <p class="pl">
                  <span class="">2011-08-02 14:41</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                很多以前不知道 不明白的东西，现在明白了， 比如 静态链接 和动态链接的异同，<div style="padding-bottom:1em;"></div>书里面很多侧重细节的， 没有仔细去细读， 读的都是一些大体概念的东西
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/13968620/#comments">回应</a>&nbsp;&nbsp;
                  2011-08-02 14:41
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="15723226">
        <div class="ilst">
          <a href="https://www.douban.com/people/56826118/"><img src="https://img3.doubanio.com/icon/u56826118-2.jpg" alt="邻水风竹" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/15723226/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/15723226/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/56826118/" class=" " title="邻水风竹">邻水风竹</a>
                (惯看秋月春风)
              
            </p>
            <div class="reading-note" data-cid="15723226">
              <div class="short">
                
                  <span class="">计算机科学领域的任何问题都可以通过增加一个间接的中间层来解决，大部分的中间层都是为了封装变化点

linux三个进程创建函数的区别
fork	复制当前进程
exec	使用新的可执行映像覆盖当前可执行映像
clone	创建子进程并从指定位置开始执行

几种锁机制
互斥量：获取互斥量的线程负责释放互斥量，且对系统中任何进程可见
信号量：信号量可由某个线程获取，由另外的线程释放，且对系统中任何进程可见
临界区：可看作只限于..</span>
                <p class="pl">
                  <span class="">2011-12-08 13:25</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                计算机科学领域的任何问题都可以通过增加一个间接的中间层来解决，大部分的中间层都是为了封装变化点<div style="padding-bottom:1em;"></div>linux三个进程创建函数的区别<div style="padding-bottom:1em;"></div>fork	复制当前进程<div style="padding-bottom:1em;"></div>exec	使用新的可执行映像覆盖当前可执行映像<div style="padding-bottom:1em;"></div>clone	创建子进程并从指定位置开始执行<div style="padding-bottom:1em;"></div>几种锁机制<div style="padding-bottom:1em;"></div>互斥量：获取互斥量的线程负责释放互斥量，且对系统中任何进程可见<div style="padding-bottom:1em;"></div>信号量：信号量可由某个线程获取，由另外的线程释放，且对系统中任何进程可见<div style="padding-bottom:1em;"></div>临界区：可看作只限于进程内的互斥量<div style="padding-bottom:1em;"></div>volatile 扩展，可防止编译器过度优化后指令执行顺序改变，导致程序异常，volatile 扩展可保证的两件事情<div style="padding-bottom:1em;"></div>1、阻止编译器为了提高速度将一个变量缓存到寄存器而不写回内存<div style="padding-bottom:1em;"></div>2、阻止编译器调整操作volatile变量的指令顺序<div style="padding-bottom:1em;"></div>内存屏障barrier()可阻止CPU将barrier前后的指令执行顺序交换，以解决乱序执行所带来的问题<div style="padding-bottom:1em;"></div>readelf：查看elf文件的工具<div style="padding-bottom:1em;"></div>editbin可更改DLL基地址<div style="padding-bottom:1em;"></div>修饰后符号名称解析<div style="padding-bottom:1em;"></div>binutils中的c++filt可用来解析被gcc修饰过的符号名称<div style="padding-bottom:1em;"></div>Windows API “UnDecorateSymbolName”可解析被Visual C++编译器的名称修饰规则修饰的符号<div style="padding-bottom:1em;"></div>C++ 代码会自动定义一个宏__cplusplus，可用来解决可能在 C 或 C++ 代码中使用的C库头文件的兼容问题，C++引用C库函数，须在函数声明前加extern &quot;C&quot;<div style="padding-bottom:1em;"></div>强符号：函数和初始化了的全局变量<div style="padding-bottom:1em;"></div>弱符号：未初始化的全局变量<div style="padding-bottom:1em;"></div>__attribute__(weak)将某符号强制性的变为弱符号<div style="padding-bottom:1em;"></div>强符号不能被重定义，但允许存在多个与其同名的弱符号。<div style="padding-bottom:1em;"></div>多个同名的弱符号可以并存，引用时实际使用强符号或占用空间最大的弱符号<div style="padding-bottom:1em;"></div>强引用必须有定义<div style="padding-bottom:1em;"></div>弱引用可没有定义，为定义的弱引用默认值为0，或一个特殊值<div style="padding-bottom:1em;"></div>ABI：指与符号修饰标准、变量内存布局、函数调用方式等跟可执行代码二进制兼容性相关的内容<div style="padding-bottom:1em;"></div>VC 编译预处理指令<div style="padding-bottom:1em;"></div>#pragma data_seg(&quot;foo&quot;)<div style="padding-bottom:1em;"></div>。。。<div style="padding-bottom:1em;"></div>pragma后定义的变量将全部放入foo段中，除非用另一条pragma预处理指令进行了段切换<div style="padding-bottom:1em;"></div>装载时重定位的动态链接方式，执行速度快，但共享对象无法实现进程间共享<div style="padding-bottom:1em;"></div>地址无关代码，执行速度慢，但可实现进程间共享，地址无关代码一般通过间接跳转的.got段实现<div style="padding-bottom:1em;"></div>动态加载存在同名符号覆盖的情况，此现象称为全局符号介入，因此可能引起程序逻辑错误<div style="padding-bottom:1em;"></div>程序运行中几个比较难发现的逻辑错误<div style="padding-bottom:1em;"></div>1、由于使用了不同版本的编译器，导致ABI不兼容，如不同版本编译器堆栈结构、符号修饰规则、调用习惯、数据结构内存分布、对齐方式等存在差异<div style="padding-bottom:1em;"></div>2、动态链接时发生了未预料的同名符号覆盖<div style="padding-bottom:1em;"></div>3、在多线程程序中使用了非线程安全的函数<div style="padding-bottom:1em;"></div>4、编译器过度优化，更改指令执行顺序(使用volatile解决)<div style="padding-bottom:1em;"></div>5、CPU 乱序执行导致程序异常(使用barrier解决)<div style="padding-bottom:1em;"></div>6、共享库内分配的内存在共享库外释放，或相反的方式，<div style="padding-bottom:1em;"></div>Linux 共享库命名规则：libname.so.x.y.z<div style="padding-bottom:1em;"></div>x：主版本号，表示重大升级，存在不兼容更新<div style="padding-bottom:1em;"></div>y：次版本号，表示增量升级，如添加新的接口功能，为兼容性更新<div style="padding-bottom:1em;"></div>z：分布版本号，表示只有一些错误修正，性能改进等，为兼容性更新<div style="padding-bottom:1em;"></div>libname.so.x又称为共享库的SO-NAME<div style="padding-bottom:1em;"></div>Linux系统为每一类兼容的共享库创建一个以SO-NAME为文件名的软链接<div style="padding-bottom:1em;"></div>命令行中使用的几个可改变动态链接器行为的环境变量<div style="padding-bottom:1em;"></div>添加共享库优先搜索路径<div style="padding-bottom:1em;"></div>LD_LIBRARY_PATH=/home/user cmd<div style="padding-bottom:1em;"></div>预先加载的共享库，可引起链接时同名符号覆盖<div style="padding-bottom:1em;"></div>LD_PRELOAD<div style="padding-bottom:1em;"></div>输出动态链接过程，可以去下列值：files、bindings、libs、versions、reloc、...、all<div style="padding-bottom:1em;"></div>LD_DEBUG<div style="padding-bottom:1em;"></div>gcc编译的共享库，默认情况下没有SO-NAME，可通过-Wl，-soname，myname参数指定<div style="padding-bottom:1em;"></div>DLL导出函数可通过在传统的函数定义前加__declspec(dllexport)来导出，而不用def文件，使用导出函数时在传统声明前加__declspec(dllimport)<div style="padding-bottom:1em;"></div>MSVC中C语言的默认调用规范为_cdecl，不对函数进行符号修饰，__stdcall为windows的通用调用规范，会对符号进行修饰，如:_Sub@16<div style="padding-bottom:1em;"></div>DLL的代码并非地址无关，因此不一定能被多个进程共享，即不一定支持一份代码多进程地址空间映射<div style="padding-bottom:1em;"></div>DLL优化<div style="padding-bottom:1em;"></div>如果知道DLL被加载的位置，使用更改DLL基地址的方法可以免去重定基地址，以提高程序的加载速度<div style="padding-bottom:1em;"></div>使用序号作为导入导出符号的手段，可免去动态链接时导出符号的二分查找<div style="padding-bottom:1em;"></div>导入函数DLL绑定，可免去动态链接时的符号解析，但DLL更新后或重定基地址后可能导致绑定失败。<div style="padding-bottom:1em;"></div>C++编写动态库注意事项：<div style="padding-bottom:1em;"></div>所有接口函数应该都为抽象的<div style="padding-bottom:1em;"></div>全局函数使用extern &quot;C&quot;来防止名字修饰，导出函数使用__stdcall调用规范<div style="padding-bottom:1em;"></div>不使用STL库、异常、虚析构函数<div style="padding-bottom:1em;"></div>不在DLL中申请内存而在DLL外释放内存或相反的方式，因为不同的DLL和可执行程序使用不同的堆<div style="padding-bottom:1em;"></div>接口不使用重载方法<div style="padding-bottom:1em;"></div>COM的主要目的之一是解决C++动态库的ABI兼容性问题<div style="padding-bottom:1em;"></div>不到万不得已，不要将大尺寸的对象或结构变量直接通过函数返回值返回，对象或结构变量的返回在实际实现上是通过两次内存拷贝完成的，效率不高<div style="padding-bottom:1em;"></div>线程的私有空间：栈、寄存器、TLS（线程局部存储，一般在进程堆中分配）<div style="padding-bottom:1em;"></div>静态链接C语言标准库crt时,如果通过ExitThread退出线程，线程私有数据_tidata将不会被释放，从而导致内存泄漏，因此最后使用经过包装后的线程函数，如C语言库的__beginthread，_endthread<div style="padding-bottom:1em;"></div>Linux的每个进程都有自己的内核栈和用户栈
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/15723226/#comments">回应</a>&nbsp;&nbsp;
                  2011-12-08 13:25
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="21090522">
        <div class="ilst">
          <a href="https://www.douban.com/people/43180294/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="陈壮壮" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/21090522/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/21090522/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/43180294/" class=" " title="陈壮壮">陈壮壮</a>
                (东川路职校雄性一名)
              
            </p>
            <div class="reading-note" data-cid="21090522">
              <div class="short">
                
                  <span class="">开始看</span>
                <p class="pl">
                  <span class="">2012-09-14 12:53</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                开始看
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/21090522/#comments">回应</a>&nbsp;&nbsp;
                  2012-09-14 12:53
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_time"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="51075771">
        <div class="ilst">
          <a href="https://www.douban.com/people/cbjbill/"><img src="https://img3.doubanio.com/icon/u48395170-2.jpg" alt="头头" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/51075771/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/51075771/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/cbjbill/" class=" " title="头头">头头</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="51075771">
              <div class="short">
                
                  <span class="">书中涉及源码： https://github.com/miaoski/xiuyang</span>
                <p class="pl">
                  <span class="">2017-12-10 19:39</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>书中涉及源码： <a href="https://github.com/miaoski/xiuyang" rel="nofollow" target="_blank">https://github.com/miaoski/xiuyang</a></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/51075771/#comments">回应</a>&nbsp;&nbsp;
                  2017-12-10 19:39
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="47545982">
        <div class="ilst">
          <a href="https://www.douban.com/people/superloo/"><img src="https://img1.doubanio.com/icon/u44832240-18.jpg" alt="超级露" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/47545982/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/47545982/" class="">第429页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/superloo/" class=" " title="超级露">超级露</a>
                (Every experience matters.)
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="47545982">
              <div class="short">
                
                  <span class="">/*prinf是一个典型的变长参数函数*/ /*printf实现仅支持%d,%s,且不支持格式控制(比如%08d)*/ /*实现fprintf和cfprintf,实际上printf是fprintf的特殊形式,即目标文件为标准输出的fprintf*/ /*实现与文件字符串操作相关的几个函数,fputc和fputs*/ int fputc(int c, FILE *stream) { if (fwrite(&amp;c, 1, 1, stream) != 1) return EOF; else return c; } int fputs(const char *str, FILE *stream) { int len = strlen(str); if ...</span>
                <p class="pl">
                  <span class="">2017-09-07 18:46</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>/*prinf是一个典型的变长参数函数*/</p><p>/*printf实现仅支持%d,%s,且不支持格式控制(比如%08d)*/</p><p>/*实现fprintf和cfprintf,实际上printf是fprintf的特殊形式,即目标文件为标准输出的fprintf*/</p><p>/*实现与文件字符串操作相关的几个函数,fputc和fputs*/</p><p>int fputc(int c, FILE *stream)</p><p>{</p><p>	if (fwrite(&amp;c, 1, 1, stream) != 1)</p><p>		return EOF;</p><p>	else</p><p>		return c;</p><p>} </p><p></p><p>int fputs(const char *str, FILE *stream)</p><p>{</p><p>	int len = strlen(str);</p><p>	if (fwrite(str, 1, len, stream) != len)</p><p>		return EOF;</p><p>	else</p><p>		return len;</p><p>}</p><p></p><p>#ifndef WIN32</p><p>#define va_list char*</p><p>#define va_start(ap,arg) (ap=(va_list)&amp;arg+sizeof(arg))</p><p>#define va_arg(ap,t) (*(t*)((ap+=sizeof(t))-sizeof(t)))</p><p>#define va_end(ap) (ap=(va_list)0)</p><p>#else</p><p>#include &lt;Windows.h&gt;</p><p>#endif</p><p></p><p>int vfprintf(FILE *stream, const char *format, va_list arglist)</p><p>{</p><p>	int translating = 0;</p><p>	int ret = 0;</p><p>	const char* p = 0;</p><p>	for (p = format; *p != '\0'; ++p)</p><p>	{</p><p>		switch (*p)</p><p>		{</p><p>			case '%':</p><p>				if (!translating)</p><p>					translating = 1;</p><p>				else</p><p>				{</p><p>					if (fputc('%', stream) &lt; 0)</p><p>						return EOF;</p><p>					++ret;</p><p>					translating = 0;</p><p>				}</p><p>				break;</p><p>			case 'd':</p><p>				if (translating)        //%d</p><p>				{</p><p>					char buf[16];</p><p>					translating = 0;</p><p>					itoa(va_arg(arglist, int), buf, 10);</p><p>					if (fputs(buf, stream) &lt; 0)</p><p>						return EOF;</p><p>					ret += strlen(buf);</p><p>				}</p><p>				else if (fputc('d', stream) &lt; 0)</p><p>					return EOF;</p><p>				else</p><p>					++ret;</p><p>				break;</p><p>			case 's':</p><p>				if (translating)	//%s</p><p>				{</p><p>					const char* str = va_arg(arglist, const char*);</p><p>					translating = 0;</p><p>					if (fputs(str, stream) &lt; 0)</p><p>						return EOF;</p><p>					ret += strlen(str);</p><p>				}</p><p>				else if (fputc('s', stream) &lt; 0)</p><p>					return EOF;</p><p>				else</p><p>					++ret;</p><p>				break;</p><p>			default:</p><p>				if (translating)</p><p>					translating = 0;</p><p>				if (fputc(*p, stream) &lt; 0)</p><p>					return EOF;</p><p>				else</p><p>					++ret;</p><p>				break;</p><p>		}</p><p>		</p><p>	}</p><p>	return ret;</p><p>} </p><p></p><p>int printf(const char *format, ...)</p><p>{</p><p>	va_list(arglist);</p><p>	va_start(arglist, format);</p><p>	return vfprintf(stdout, format, arglist);</p><p>}</p><p></p><p>int fprintf(FILE *stream, const char *format, ...)</p><p>{</p><p>	va_list(arglist);</p><p>	va_start(arglist, format);</p><p>	return vfprintf(stream, format, arglist);</p><p>}</p><p></p><p>/*vfprintf是这些函数中真正实现字符串格式化的函数,实现它的主要复杂性来源于对格式化字符串的分析*/</p><p>/*1.定义模式：翻译模式/普通模式*/</p><p>/*2.循环整个格式字符串</p><p>  a. 如果遇到%</p><p>  	 普通模式：进入翻译模式</p><p>	 翻译模式：输出%,退出翻译模式</p><p>  b. 如果遇到%后面允许出现的特殊字符(如d和s)</p><p>     翻译模式：从不定参数中取出一个参数输出,退出翻译模式</p><p>	 普通模式：直接输出该字符</p><p>  c. 如果遇到其他字符：无条件退出翻译模式并输出字符</p><p>*/</p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/47545982/#comments">回应</a>&nbsp;&nbsp;
                  2017-09-07 18:46
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="47545516">
        <div class="ilst">
          <a href="https://www.douban.com/people/superloo/"><img src="https://img1.doubanio.com/icon/u44832240-18.jpg" alt="超级露" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/47545516/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/47545516/" class="">第426页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/superloo/" class=" " title="超级露">超级露</a>
                (Every experience matters.)
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="47545516">
              <div class="short">
                
                  <span class="">/*CRT字符串相关操作*/ /*这部分功能无须涉及任何与内核交互,是纯粹的用户态的计算*/ char* itoa(int n, char* str, int radix) { char digit[] = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"; char* p = str; char* head = str; if (!p || radix &lt; 2 || radix &gt; 36) return p; if (radix != 10 &amp;&amp; n &lt; 0) return p; if (n == 0) { *p++ = '0'; *p = 0; return p; } if (radix == 10 &amp;&amp; n &lt; 0) { *p++...</span>
                <p class="pl">
                  <span class="">2017-09-07 18:14</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>/*CRT字符串相关操作*/</p><p>/*这部分功能无须涉及任何与内核交互,是纯粹的用户态的计算*/</p><p>char* itoa(int n, char* str, int radix)</p><p>{</p><p>	char digit[] = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";</p><p>	char* p = str;</p><p>	char* head = str;</p><p>	if (!p || radix &lt; 2 || radix &gt; 36)</p><p>		return p;</p><p>	if (radix != 10 &amp;&amp; n &lt; 0)</p><p>		return p;</p><p>	if (n == 0)</p><p>	{</p><p>		*p++ = '0';</p><p>		*p = 0;</p><p>		return p;</p><p>	} </p><p>	if (radix == 10 &amp;&amp; n &lt; 0)</p><p>	{</p><p>		*p++ = '-';</p><p>		n = -n;</p><p>	}</p><p>	while (n)</p><p>	{</p><p>		*p++ = digit[n % radix];</p><p>		n /= radix;</p><p>	}</p><p>	*p = 0;</p><p>	for (--p; head&lt;p; ++head,--p)</p><p>	{</p><p>		char temp = *head;</p><p>		*head = *p;</p><p>		*p = temp;</p><p>	}</p><p>	return str;</p><p>} </p><p></p><p>int strcmp(const char* src, const char* dst)</p><p>{</p><p>	int ret = 0;</p><p>	unsigned char* p1 = (unsigned char*)src;</p><p>	unsigned char* p2 = (unsigned char*)dst;</p><p>	while(!(ret = *p1-*p2) &amp;&amp; *p2)</p><p>		++p1, ++p2;</p><p>	if (ret &lt; 0)</p><p>		ret = -1;</p><p>	else if (ret &gt; 0)</p><p>		ret = 1;</p><p>	return ret;	</p><p>}</p><p></p><p>char *strcpy(char *dest, const char *src)</p><p>{</p><p>	char* ret = dest;</p><p>	while (*src)</p><p>		*dest++ = *src++;</p><p>	*dest = '\0';</p><p>	return ret;</p><p>}</p><p></p><p>unsigned strlen(const char *str)</p><p>{</p><p>	int cnt = 0;</p><p>	if (!str)</p><p>		return 0;</p><p>	for (; *str!='\0'; ++str)</p><p>		++cnt;</p><p>	return cnt;</p><p>}</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/47545516/#comments">回应</a>&nbsp;&nbsp;
                  2017-09-07 18:14
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="47528532">
        <div class="ilst">
          <a href="https://www.douban.com/people/superloo/"><img src="https://img1.doubanio.com/icon/u44832240-18.jpg" alt="超级露" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/47528532/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/47528532/" class="">第418页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/superloo/" class=" " title="超级露">超级露</a>
                (Every experience matters.)
              
                <span class="allstar50" title="力荐"></span>
            </p>
            <div class="reading-note" data-cid="47528532">
              <div class="short">
                
                  <span class="">整个堆空间按照是否被占用而被分割成了若干个空闲（Free）块和占用（Used）块，它们之间由双向链表链接起来。 当用户要申请一块内存时，堆分配算法将遍历整个链表，直到找到一块足够大的空闲块，如果这个空闲块大小刚好等于所申请的大小，那么直接将这个空闲块标记为占用块，然后将它的地址返回给用户；如果空闲块大小大于所申请的大小，那么这个空闲块将被分割成两块，其中一块大小为申请的大小，标记为占用，另外一块为空闲块...</span>
                <p class="pl">
                  <span class="">2017-09-07 11:06</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>整个堆空间按照是否被占用而被分割成了若干个空闲（Free）块和占用（Used）块，它们之间由双向链表链接起来。</p><p>当用户要申请一块内存时，堆分配算法将遍历整个链表，直到找到一块足够大的空闲块，如果这个空闲块大小刚好等于所申请的大小，那么直接将这个空闲块标记为占用块，然后将它的地址返回给用户；如果空闲块大小大于所申请的大小，那么这个空闲块将被分割成两块，其中一块大小为申请的大小，标记为占用，另外一块为空闲块。</p><p>当用户释放某一块空间时，堆分配算法会判别被释放块前后两个块是否为空闲块，如果是，则将它们合并成一个大的空闲块。</p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/47528532/#comments">回应</a>&nbsp;&nbsp;
                  2017-09-07 11:06
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

    </div>
      <div class="ft">
        <p class="trr">&gt; <a href="https://book.douban.com/subject/3652388/annotation">更多读书笔记（共281篇）</a></p>
      </div>

</div>



<script type="text/javascript">
  $(document).ready(function(){
    var TEMPL_ADD_COL = '<a href="" id="n-{NOTE_ID}" class="colbutt ll add-col"><span>收藏</span></a>',
      TEMPL_DEL_COL = '<span class="pl">已收藏 &gt;<a href="" id="n-{NOTE_ID}" class="del-col">取消收藏</a></span>';

    $('body').delegate('.add-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_add = $(this);
      $.post_withck("/j/book/annotation_collect",{nid:nnid},function(){
        var a = $(TEMPL_DEL_COL.replace('{NOTE_ID}', nnid));
        bn_add.before(a);
        bn_add.remove();
      })
    });

    $('body').delegate('.del-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_del = $(this).parent();
      $.post_withck("/j/book/annotation_uncollect", {nid: nnid}, function() {
        var a = $(TEMPL_ADD_COL.replace('{NOTE_ID}', nnid));
        bn_del.before(a);
        bn_del.remove();
      })
    });

    $("pre.source").each(function(){
      var cn = $(this).attr('class').split(' ');
      l = cn[1];
      s = 'rand01';
      n = cn[2];
      $(this).snippet(n,{style: s, showNum: l});
    });

    var annotationMod = $('.reading-notes .bd')
      , annotationTabs = annotationMod.find('.inline-tabs li')
      , annotationTabLinks = annotationTabs.find('a')
      , annotationTabContents = annotationMod.find('ul.comments');

    annotationTabLinks.click(function(e){
      e.preventDefault();
      var el = $(this)
        , kind = el.attr('id');

      annotationTabs.removeClass('on');
      el.parent().addClass('on');
      annotationTabContents.hide();
      annotationTabContents.filter('.' + kind).show();
    });
  });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
	jax: ["input/TeX", "output/HTML-CSS"],
    extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js","TeX/noUndefined.js"],
    tex2jax: {
		inlineMath: [ ["($", "$)"], ['\\(','\\)'] ],
		displayMath: [ ["($$","$$)"], ['\\[','\\]']],
		skipTags: ["script","noscript","style","textarea"],
		processEscapes: true,
		processEnvironments: true,
		preview: "TeX"
	},
	showProcessingMessages: false
  });
</script>


  






<div id="db-discussion-section" class="indent ugc-mod">




        
  

  <h2>
    <span class="">论坛</span>
      ······

  </h2>



        
<table class="olt"><tr><td><td><td><td></tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/3652388/discussion/52023456/" title="【整理一下】书中的笔误" class="">【整理一下】书中的笔误</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/2688443/">helinbo</a></td>
            <td class="pl"><span class="">8 回应</span></td>
            <td class="pl"><span class="">2017-08-30</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/3652388/discussion/614981929/" title="询问" class="">询问</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/161065048/">荣</a></td>
            <td class="pl"><span class="">1 回应</span></td>
            <td class="pl"><span class="">2017-08-27</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/3652388/discussion/60368932/" title="书中源代码托管于 github.com/miaoski/xiuyang" class="">书中源代码托管于 github.com/miaoski/xiuyang</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/otakutyrant/">御宅暴君</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2015-01-23</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/3652388/discussion/26931451/" title="这本书的名字让我想到周星驰电影里那本“演员的自我修养”" class="">这本书的名字让我想到周星驰电影里那本“演员的自...</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/45435596/">无瑕</a></td>
            <td class="pl"><span class="">1 回应</span></td>
            <td class="pl"><span class="">2014-01-21</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/3652388/discussion/54844498/" title="临界区和互斥量与信号量的区别" class="">临界区和互斥量与信号量的区别</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/77347704/">www.58tcxs.com</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2013-08-31</span></td>
        </tr>
</table>


            <p class="pl" align="right">&gt;
                <a href="https://book.douban.com/subject/3652388/discussion/">浏览更多话题</a>
            </p>


</div>




</div>
<script type="text/javascript">
$(function(){if($.browser.msie && $.browser.version == 6.0){
    var maxWidth = parseInt($('#info').css('max-width'));
    if($('#info').width() > maxWidth)
        $('#info').width(maxWidth)
}});
</script>
</div>
      <div class="aside">
        
  
  






  <div id="dale_book_subject_top_right"></div>

  






<style type="text/css" media="screen">
  .add2cartContainer{overflow:hidden;vertical-align:bottom;line-height:1}.add2cartContainer .add2cart{margin-right:0;display:inline-block}#buyinfo .bs{margin:0}#buyinfo li{padding:10px 0;position:relative;line-height:1;border-bottom:1px solid #eaeaea}#buyinfo li a:hover{background-image:none !important}#buyinfo li a:hover .buylink-price{background:#37a}#buyinfo li .publish,#buyinfo li .other-activity{margin-top:5px}#buyinfo li .publish a,#buyinfo li .other-activity a{color:#999}#buyinfo li .publish a:hover,#buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#buyinfo .more-info{color:#aaa;margin:6px 0 -2px 0}#buyinfo .more-ebooks{padding:10px 0;color:#37a;cursor:pointer}#buyinfo .price-page{border-bottom:0;padding:15px 0 0}#buyinfo .saved-price{display:none;margin-left:5px}#buyinfo .cart-tip{float:right;padding-right:5px}#buyinfo #buyinfo-ebook{margin-bottom:15px}#buyinfo #buyinfo-ebook .buylink-price{display:inline}#buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed{margin-bottom:15px}#buyinfo-printed.no-border{border-bottom:0}#buyinfo-printed .more-ebooks{line-height:1;padding:10px 0;color:#37a;cursor:pointer;padding:10px 0 0}#buyinfo-report{display:none}#buyinfo-report .lnk-close-report{float:right;margin-top:-30px;line-height:14px}#buyinfo-report .item{margin-bottom:10px}#buyinfo-report .item input{vertical-align:text-bottom;*vertical-align:middle}#buyinfo-report .item label{margin:0 5px 0 2px}#buyinfo-report .item-submit .bn-flat{margin-right:10px}#buyinfo-report .item-price input{width:220px;border:1px solid #ccc;padding:4px}#buyinfo-report form{margin:5px 0 10px}#bi-report-btn{float:right;margin:2px 0;line-height:14px;display:none}.bi-vendor-report{color:#aaa}.bi-vendor-report-form{display:none;color:#111;margin:0 5px;line-height:25px}.gray_ad{padding:30px 20px 25px 20px;background:#f6f6f1}.gray_ad h2{margin-bottom:6px;font-size:15px}.gray_ad .ebook-tag{margin-top:5px;color:#999;font-size:12px}.bs.more-after{margin-bottom:0px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){#buyinfo li a:hover{background-image:url(https://img3.doubanio.com/f/book/fc4ff7f0a3a7f452f06d586540284b9738f2fe87/pics/book/cart/icon-brown@2x.png);background-size:16px 12px}}#intervenor-buyinfo .bs{margin:0}#intervenor-buyinfo li{position:relative;border-bottom:1px solid #eaeaea;padding:10px 0;line-height:1}#intervenor-buyinfo li .basic-info{color:#494949;font-size:14px;line-height:18px}#intervenor-buyinfo li a:hover .comment{color:#f67;opacity:0.75;filter:alpha(opacity=75)}#intervenor-buyinfo li a:hover .buy-btn{background:#fff;border:1px solid #e97e7e;border-radius:2px;color:#e97e7e}#intervenor-buyinfo li a:hover .buylink-price{background:#37a}#intervenor-buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#intervenor-buyinfo li .publish,#intervenor-buyinfo li .other-activity{margin-top:5px}#intervenor-buyinfo li .publish a,#intervenor-buyinfo li .other-activity a{color:#999}#intervenor-buyinfo li .publish a:hover,#intervenor-buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#intervenor-buyinfo .jd-buy-icon{float:left;margin-right:3px}#intervenor-buyinfo .buy-btn{float:right;position:absolute;right:10px;bottom:3px;color:#9c9c9c;padding:0 12px;border:1px solid transparent}#intervenor-buyinfo .comment{color:#FF8C9C;margin:6px 0 -2px 0}#intervenor-buyinfo .price-page a{display:inline-block;line-height:16px !important}#intervenor-buyinfo .price-page{border-bottom:0;padding:15px 0 0}#intervenor-buyinfo .saved-price{display:none;margin-left:5px}#intervenor-buyinfo .cart-tip{float:right;padding-right:5px}#intervenor-buyinfo #buyinfo-ebook{margin-bottom:15px}#intervenor-buyinfo #buyinfo-ebook .buylink-price{display:inline}#intervenor-buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed .presale-indicator{margin:0;color:#999;text-indent:0;background:none}

</style>

      <div class="gray_ad" id="buyinfo">
      <div id="buyinfo-ebook">
        
  
  

  <h2>
    <span class="">电子版有售</span>
      ······

  </h2>



  <ul class="bs noline more-after ">
    
      
      <li class="no-border  ">
        <a target="_blank" href="https://read.douban.com/ebook/1637944/?dcs=subject-buylink&amp;dcm=douban&amp;dct=3652388" class="">
          <span class="">豆瓣阅读</span>
        </a>
        <a target="_blank" href="https://read.douban.com/ebook/1637944/?dcs=subject-buylink&amp;dcm=douban&amp;dct=3652388" class="">
          <span class="buylink-price">
            
            <span class="">36.00 元</span>
          </span>
        </a>
      </li>
  </ul>

      </div>
      <div id="buyinfo-printed">
        
  

  <h2>
    <span class="">在哪儿买这本书</span>
      ······

  </h2>


        <ul class="bs noline more-after ">
          
                
                <li class="">
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=jingdong&amp;srcpage=subject&amp;price=5130&amp;pos=1&amp;url=http%3A%2F%2Funion-click.jd.com%2Fjdc%3Fe%3D%26p%3DAyIOZR5aEQISA1AYUyUCEwZSHVgUAyJDCkMFSjJLQhBaUAscSkIBR0ROVw1VC0dFFQMTAFMYWhQdS0IJRmsdXk5uU30yV2J3fQJiH3JCR1cdZw9lDh43Uh5cEwUbBFIrWxEDFgNlK1sUMkBpja3tzaejG4Gx1MCKhTdUK1sQCxsDUBtZEAcXAlwrXCXbkrCDucnMnJjS3YxrJTIi%26t%3DW1dCFBBFC1pXUwkEAEAdQFkJBVsUAxUBVhpaCltXWwg%253D&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="">
                      <span class="">京东商城</span>
                    </a>
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=jingdong&amp;srcpage=subject&amp;price=5130&amp;pos=1&amp;url=http%3A%2F%2Funion-click.jd.com%2Fjdc%3Fe%3D%26p%3DAyIOZR5aEQISA1AYUyUCEwZSHVgUAyJDCkMFSjJLQhBaUAscSkIBR0ROVw1VC0dFFQMTAFMYWhQdS0IJRmsdXk5uU30yV2J3fQJiH3JCR1cdZw9lDh43Uh5cEwUbBFIrWxEDFgNlK1sUMkBpja3tzaejG4Gx1MCKhTdUK1sQCxsDUBtZEAcXAlwrXCXbkrCDucnMnJjS3YxrJTIi%26t%3DW1dCFBBFC1pXUwkEAEAdQFkJBVsUAxUBVhpaCltXWwg%253D&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="buylink-price ">
                      <span class="">
                        51.30 元
                      </span>
                    </a>

                      
                </li>
                
                <li class="">
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=dangdang&amp;srcpage=subject&amp;price=5130&amp;pos=2&amp;url=http%3A%2F%2Funion.dangdang.com%2Ftransfer.php%3Ffrom%3DP-306226-0-s3652388%26backurl%3Dhttp%3A%2F%2Fproduct.dangdang.com%2Fproduct.aspx%3Fproduct_id%3D20569834&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="">
                      <span class="">当当网</span>
                    </a>
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=dangdang&amp;srcpage=subject&amp;price=5130&amp;pos=2&amp;url=http%3A%2F%2Funion.dangdang.com%2Ftransfer.php%3Ffrom%3DP-306226-0-s3652388%26backurl%3Dhttp%3A%2F%2Fproduct.dangdang.com%2Fproduct.aspx%3Fproduct_id%3D20569834&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="buylink-price ">
                      <span class="">
                        51.30 元
                      </span>
                    </a>

                      
                        <div class="more-info">
                            <span class="buyinfo-promotion">
                              图书加价换购
                            </span>
                        </div>
                </li>
                
                <li class="">
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=joyo&amp;srcpage=subject&amp;price=5420&amp;pos=3&amp;url=http%3A%2F%2Fwww.amazon.cn%2Fmn%2FdetailApp%2Fref%3Dasc_df_B0027VSA7U2890177%2F%3Fasin%3DB0027VSA7U%26tag%3Ddouban-23%26creative%3D2384%26creativeASIN%3DB0027VSA7U%26linkCode%3Ddf0&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="">
                      <span class="">亚马逊</span>
                    </a>
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=joyo&amp;srcpage=subject&amp;price=5420&amp;pos=3&amp;url=http%3A%2F%2Fwww.amazon.cn%2Fmn%2FdetailApp%2Fref%3Dasc_df_B0027VSA7U2890177%2F%3Fasin%3DB0027VSA7U%26tag%3Ddouban-23%26creative%3D2384%26creativeASIN%3DB0027VSA7U%26linkCode%3Ddf0&amp;cntvendor=4&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="buylink-price ">
                      <span class="">
                        54.20 元
                      </span>
                    </a>

                      
                        <div class="more-info">
                            <span class="buyinfo-promotion">
                              中文图书全场,满99元赠书
                            </span>
                        </div>
                </li>
                
                <li class="">
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=bookschina&amp;srcpage=subject&amp;price=4230&amp;pos=4&amp;url=http%3A%2F%2Fwww.bookschina.com%2Funion%2Fubook.asp%3Fadservice%3D354872%26tourl%3Dhttp%3A%2F%2Fwww.bookschina.com%2F3660413.htm&amp;cntvendor=4&amp;link2key=f61607bd78&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="">
                      <span class="">中国图书网</span>
                    </a>
                    <a target="_blank" href="https://book.douban.com/link2/?lowest=4230&amp;pre=0&amp;vendor=bookschina&amp;srcpage=subject&amp;price=4230&amp;pos=4&amp;url=http%3A%2F%2Fwww.bookschina.com%2Funion%2Fubook.asp%3Fadservice%3D354872%26tourl%3Dhttp%3A%2F%2Fwww.bookschina.com%2F3660413.htm&amp;cntvendor=4&amp;link2key=f61607bd78&amp;srcsubj=3652388&amp;type=bkbuy&amp;subject=3652388" class="buylink-price ">
                      <span class="">
                        42.30 元
                      </span>
                    </a>

                      
                </li>
          <li class="price-page">
            <a href="https://book.douban.com/subject/3652388/buylinks">
              &gt; 查看4家网店价格
                (42.30 元起)
            </a>
          </li>
        </ul>
      </div>
      
  <div class="add2cartContainer ft no-border">
    
  <span class="add2cartWidget ll">
      <a class="j  add2cart a_show_login" href="https://www.douban.com/register?reason=addbook2cart" rel="nofollow">
        <span>+ 加入购书单</span></a>
  </span>
  

  </div>

  </div>
  <script type="text/javascript">
  $('.more-ebooks').on('click', function() {
    var $this = $(this),
      $li = $this.siblings('ul').find('li');
    if ($this.hasClass('isShow')) {
      $(this).text('展开更多').removeClass('isShow');
      $li.not(':first').addClass('hide');
    }else{
      $(this).text('收起').addClass('isShow');
      $li.removeClass('hide');
    }
    
  })
  </script>

<style class="text/css">
  .presale-indicator {
  display: inline-block;
  *display: inline;
  *zoom: 1;
  height: 15px;
  line-height: 15px;
  background: url(https://img3.doubanio.com/f/book/1679c65572eac1371f9872807199dea6e55a7f06/pics/book/cart/presale_text.gif) no-repeat;
  text-indent: -9999px;
  vertical-align: middle;
  *vertical-align: 0px;
  _vertical-align: 2px;
  margin-left: 0.5em;
}

</style>



  





<div class="gray_ad" id="borrowinfo">
  
  

  <h2>
    <span class="">在哪儿借这本书</span>
      ······

  </h2>


  <ul class="bs more-after">
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fipac.library.sh.cn%2Fipac20%2Fipac.jsp%3Faspect%3Dbasic_search%26profile%3Dsl%26index%3DISBN%26term%3D9787121085116%26otherloc%3Dtrue&amp;subject=7121085119&amp;type=borrow&amp;library=10011&amp;link2key=f61607bd78" target="_blank">上海市中心图书馆(2)</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fopac.gzlib.gov.cn%2Fopac%2Fsearch%3Frows%3D10%26curlibcode%3DGT%26hasholding%3D1%26searchWay0%3Dmarc%26q0%3D%26logical0%3DAND%26q%3D9787121085116%26searchWay%3Disbn%26scWay%3Ddim%26searchSource%3Dreader&amp;subject=7121085119&amp;type=borrow&amp;library=10022&amp;link2key=f61607bd78" target="_blank">广州图书馆(2)</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fourex.lib.sjtu.edu.cn%2Fprimo_library%2Flibweb%2Faction%2Fsearch.do%3Ffn%3Dsearch%26vl%28freeText0%29%3D978-7-121-08511-6&amp;subject=7121085119&amp;type=borrow&amp;library=10006&amp;link2key=f61607bd78" target="_blank">上海交通大学图书馆</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fopac3.wzlib.cn%2Fopac%2Fsearch%3FsearchWay%3Disbn%26q%3D978-7-121-08511-6%26booktype%3D%26marcformat%3D%26sortWay%3Dscore%26sortOrder%3Ddesc%26startPubdate%3D%26endPubdate%3D%26rows%3D10&amp;subject=7121085119&amp;type=borrow&amp;library=10020&amp;link2key=f61607bd78" target="_blank">温州市图书馆</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2F222.177.237.197%3A8080%2FInDigLib%2Ffront%2FComplexSearch.action%3FcurrentPage%3D1%26select1%3Disbn%26select2%3D%26select3%3D%26text1%3D978-7-121-08511-6%26text2%3D%26text3%3D%26pageSize%3D20%26condition%3D%26table%3Di_biblios%26type%3D%26videoType%3Dcomplex&amp;subject=7121085119&amp;type=borrow&amp;library=10021&amp;link2key=f61607bd78" target="_blank">重庆图书馆</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fopac.zslib.com.cn%3A8991%2FF%2F%3Ffunc%3Dfind-b%26find_code%3Disb%26request%3D9787121085116&amp;subject=7121085119&amp;type=borrow&amp;library=10026&amp;link2key=f61607bd78" target="_blank">广东省立中山图书馆</a>
      </li>
  </ul>
  <div class="clearfix"></div>
  <!--<div class="ft pl">-->
    <!--<a class="rr"  href="https://book.douban.com/library_invitation">&gt; 图书馆合作</a>-->
    <!--找不到你需要的图书馆？-->
  <!--</div>-->
</div>

  <div id="dale_book_subject_top_middle"></div>
  





  



  



      
  

  <h2>
    <span class="">以下豆列推荐</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/3652388/doulists">全部</a>
        ) </span>

  </h2>


    <div id="db-doulist-section" class="indent">
      <ul class="bs">
          <li class=""><a class="" href="https://www.douban.com/doulist/30836/" target="_blank">运行时系统</a>
                <span class="pl">(baozii)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/31441/" target="_blank">我的编程之路</a>
                <span class="pl">(风中纸页)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/233543/" target="_blank">博文视点原创精品图书</a>
                <span class="pl">(博文视点)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/1525602/" target="_blank">Hack的技术与艺术</a>
                <span class="pl">(lyb)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/336424/" target="_blank">编程C语言,Python等类书籍+知乎话题</a>
                <span class="pl">(IVAN)</span>
            </li>
      </ul>
    </div>

  <div id="dale_book_subject_middle_mini"></div>
  






  <h2>谁读这本书?</h2>
  <div class="indent" id="collector">

    

<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/69087449/"><img src="https://img1.doubanio.com/icon/u69087449-7.jpg" class="pil" alt="沈苹果醋" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/69087449/">沈苹果醋</a><br/>
      <div class="pl ll">          1月12日          读过      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/79212051/"><img src="https://img3.doubanio.com/icon/u79212051-24.jpg" class="pil" alt="desperado" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/79212051/">desperado</a><br/>
      <div class="pl ll">          1月12日          在读      </div>

      <br/>


          <span class="">好书啊</span> <br/>
    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/67780021/"><img src="https://img1.doubanio.com/icon/u67780021-17.jpg" class="pil" alt="低速吹风机" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/67780021/">低速吹风机</a><br/>
      <div class="pl ll">          1月11日          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>


        <p class="pl">&gt; <a href="https://book.douban.com/subject/3652388/doings">961人在读</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/3652388/collections">1902人读过</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/3652388/wishes">5843人想读</a></p>

  </div>





  
<!-- douban ad begin -->
<div id="dale_book_subject_middle_right"></div>
<script type="text/javascript">
    (function (global) {
        if(!document.getElementsByClassName) {
            document.getElementsByClassName = function(className) {
                return this.querySelectorAll("." + className);
            };
            Element.prototype.getElementsByClassName = document.getElementsByClassName;

        }
        var articles = global.document.getElementsByClassName('article'),
            asides = global.document.getElementsByClassName('aside');

        if (articles.length > 0 && asides.length > 0 && articles[0].offsetHeight >= asides[0].offsetHeight) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_middle_right');
        }
    })(this);
</script>
<!-- douban ad end -->

  





  

  <h2>二手市场</h2>
  <div class="indent">
    <ul class="bs">
    <li class="">
        <a class=" " href="https://book.douban.com/subject/3652388/offers">11本二手书欲转让</a>
          <span class="">
            (1.00
                至 135.00元)
          </span>
      </li>
      <li>
          <a class="rr j a_show_login" href="https://www.douban.com/register?reason=secondhand-offer&amp;cat=book"><span>&gt; 点这儿转让</span></a>

        有5843人想读,手里有一本闲着?
      </li>
    </ul>
  </div>

  
<p class="pl">订阅关于程序员的自我修养的评论: <br/><span class="feed">
    <a href="https://book.douban.com/feed/subject/3652388/reviews"> feed: rss 2.0</a></span></p>


      </div>
      <div class="extra">
        
  
<!-- douban ad begin -->
<div id="dale_book_subject_bottom_super_banner"></div>
<script type="text/javascript">
    (function (global) {
        var body = global.document.body,
            html = global.document.documentElement;

        var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
        if (height >= 2000) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_bottom_super_banner');
        }
    })(this);
</script>
<!-- douban ad end -->


      </div>
    </div>
  </div>

        
<div id="footer">

<span id="icp" class="fleft gray-link">
    &copy; 2005－2018 douban.com, all rights reserved 北京豆网科技有限公司
</span>

<a href="https://www.douban.com/hnypt/variformcyst.py" style="display: none;"></a>

<span class="fright">
    <a href="https://www.douban.com/about">关于豆瓣</a>
    · <a href="https://www.douban.com/jobs">在豆瓣工作</a>
    · <a href="https://www.douban.com/about?topic=contactus">联系我们</a>
    · <a href="https://www.douban.com/about?policy=disclaimer">免责声明</a>
    
    · <a href="https://help.douban.com/?app=book" target="_blank">帮助中心</a>
    · <a href="https://book.douban.com/library_invitation">图书馆合作</a>
    · <a href="https://www.douban.com/doubanapp/">移动应用</a>
    · <a href="https://www.douban.com/partner/">豆瓣广告</a>
</span>

</div>

    </div>
      
  

    <script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/b93d8ec8cf50308.js"></script>
    <!-- mako -->
    
  








    
<script type="text/javascript">
    (function (global) {
        var newNode = global.document.createElement('script'),
            existingNode = global.document.getElementsByTagName('script')[0],
            adSource = '//erebor.douban.com/',
            userId = '',
            browserId = 'ILoCSQxMAW8',
            criteria = '7:编程|7:计算机|7:程序员|7:计算机科学|7:程序设计|7:Programming|7:内功心法|7:系统结构|7:软件开发|7:修养|3:/subject/3652388/',
            preview = '',
            debug = false,
            adSlots = ['dale_book_subject_top_icon', 'dale_book_subject_top_right', 'dale_book_subject_top_middle', 'dale_book_subject_middle_mini'];

        global.DoubanAdRequest = {src: adSource, uid: userId, bid: browserId, crtr: criteria, prv: preview, debug: debug};
        global.DoubanAdSlots = (global.DoubanAdSlots || []).concat(adSlots);

        newNode.setAttribute('type', 'text/javascript');
        newNode.setAttribute('src', 'https://img3.doubanio.com/f/adjs/d59867ddbe8a25645584b467a58a41cbd672c9be/ad.release.js');
        newNode.setAttribute('async', true);
        existingNode.parentNode.insertBefore(newNode, existingNode);
    })(this);
</script>












    
  

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var p=(('https:' == document.location.protocol) ? 'https' : 'http'), u=p+'://fundin.douban.com/';
    _paq.push(['setTrackerUrl', u+'piwik']);
    _paq.push(['setSiteId', '100001']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; 
    g.type='text/javascript';
    g.defer=true; 
    g.async=true; 
    g.src=p+'://s.doubanio.com/dae/fundin/piwik.js';
    s.parentNode.insertBefore(g,s);
  })();
</script>

<script type="text/javascript">
var setMethodWithNs = function(namespace) {
  var ns = namespace ? namespace + '.' : ''
    , fn = function(string) {
        if(!ns) {return string}
        return ns + string
      }
  return fn
}

var gaWithNamespace = function(fn, namespace) {
  var method = setMethodWithNs(namespace)
  fn.call(this, method)
}

var _gaq = _gaq || []
  , accounts = [
      { id: 'UA-7019765-1', namespace: 'douban' }
    , { id: 'UA-7019765-16', namespace: '' }
    ]
  , gaInit = function(account) {
      gaWithNamespace(function(method) {
        gaInitFn.call(this, method, account)
      }, account.namespace)
    }
  , gaInitFn = function(method, account) {
      _gaq.push([method('_setAccount'), account.id])

      
  _gaq.push([method('_addOrganic'), 'google', 'q'])
  _gaq.push([method('_addOrganic'), 'baidu', 'wd'])
  _gaq.push([method('_addOrganic'), 'soso', 'w'])
  _gaq.push([method('_addOrganic'), 'youdao', 'q'])
  _gaq.push([method('_addOrganic'), 'so.360.cn', 'q'])
  _gaq.push([method('_addOrganic'), 'sogou', 'query'])
  if (account.namespace) {
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣'])
    _gaq.push([method('_addIgnoredOrganic'), 'douban'])
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣网'])
    _gaq.push([method('_addIgnoredOrganic'), 'www.douban.com'])
  }

      if (account.namespace === 'douban') {
        _gaq.push([method('_setDomainName'), '.douban.com'])
      }

        _gaq.push([method('_setCustomVar'), 1, 'responsive_view_mode', 'desktop', 3])

        _gaq.push([method('_setCustomVar'), 2, 'login_status', '0', 2]);

      _gaq.push([method('_trackPageview')])
    }

for(var i = 0, l = accounts.length; i < l; i++) {
  var account = accounts[i]
  gaInit(account)
}


;(function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
})()
</script>








    <!-- sindar14d-docker-->

</body>
</html>




































