

<!DOCTYPE html>
<html lang="zh-cmn-Hans" class="ua-windows ua-ie6 book-new-nav">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>The Garbage Collection Handbook (豆瓣)</title>
  
<script>!function(e){var o=function(o,n,t){var c,i,r=new Date;n=n||30,t=t||"/",r.setTime(r.getTime()+24*n*60*60*1e3),c="; expires="+r.toGMTString();for(i in o)e.cookie=i+"="+o[i]+c+"; path="+t},n=function(o){var n,t,c,i=o+"=",r=e.cookie.split(";");for(t=0,c=r.length;t<c;t++)if(n=r[t].replace(/^\s+|\s+$/g,""),0==n.indexOf(i))return n.substring(i.length,n.length).replace(/\"/g,"");return null},t=e.write,c={"douban.com":1,"douban.fm":1,"google.com":1,"google.cn":1,"googleapis.com":1,"gmaptiles.co.kr":1,"gstatic.com":1,"gstatic.cn":1,"google-analytics.com":1,"googleadservices.com":1},i=function(e,o){var n=new Image;n.onload=function(){},n.src="https://www.douban.com/j/except_report?kind=ra022&reason="+encodeURIComponent(e)+"&environment="+encodeURIComponent(o)},r=function(o){try{t.call(e,o)}catch(e){t(o)}},a=/<script.*?src\=["']?([^"'\s>]+)/gi,g=/http:\/\/(.+?)\.([^\/]+).+/i;e.writeln=e.write=function(e){var t,l=a.exec(e);return l&&(t=g.exec(l[1]))?c[t[2]]?void r(e):void("tqs"!==n("hj")&&(i(l[1],location.href),o({hj:"tqs"},1),setTimeout(function(){location.replace(location.href)},50))):void r(e)}}(document);
</script>

  
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="Sun, 6 Mar 2005 01:00:00 GMT">
  
<meta http-equiv="mobile-agent" content="format=html5; url=https://m.douban.com/book/subject/6809987/">
<meta name="keywords" content="The Garbage Collection Handbook,Richard Jones,Antony Hosking,Eliot Moss,Chapman and Hall/CRC,2011-8-17,简介,作者,书评,论坛,推荐,二手">
<meta name="description" content="图书The Garbage Collection Handbook 介绍、书评、论坛及推荐 ">

  <script>var _head_start = new Date();</script>
  
  <link href="https://img3.doubanio.com/f/book/c562010083631a8b5625ac07bc2a6e7e4466b6f6/css/book/master.css" rel="stylesheet" type="text/css">

  <link href="https://img3.doubanio.com/f/book/8a9d097c416aabac4f7e45f5d2ce9c6834b3fc7a/css/book/base/init.css" rel="stylesheet">
  <style type="text/css"></style>
  <script src="https://img3.doubanio.com/f/book/0495cb173e298c28593766009c7b0a953246c5b5/js/book/lib/jquery/jquery.js"></script>
  <script src="https://img3.doubanio.com/f/book/0f1957d4c436280f238b0295e4d0ba6855510555/js/book/master.js"></script>
  

  
  <link rel="stylesheet" href="https://img3.doubanio.com/f/book/15aa82bcdf414e007dee7483304105800fc59e54/css/book/subject.css">
  <link href="https://img3.doubanio.com/f/book/5d301503fbbd8e09f3114583859789884e942f47/css/book/annotation/like.css" rel="stylesheet">
  <script src="https://img3.doubanio.com/f/shire/3c6f2946669cfb2fc9ee4a4d1dcc41fc181cad92/js/lib/jquery.snippet.js"></script>
  <script src="https://img3.doubanio.com/f/shire/77323ae72a612bba8b65f845491513ff3329b1bb/js/do.js" data-cfg-autoload="false"></script>
  <script src="https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js"></script>
  <script src="https://img3.doubanio.com/f/book/2e421e5ec8f2869d31535206c0ac0322532be1f8/js/book/mod/hide.js"></script>
  <script src="https://img3.doubanio.com/f/book/7196bdec780f03785f55b06fda34999595057f65/js/book/subject/unfold.js"></script>
    <link rel="alternate" href="https://book.douban.com/feed/subject/6809987/reviews" type="application/rss+xml" title="RSS">
  <style type="text/css"> h2 {color: #007722;} </style>
  <script type='text/javascript'>
    var _vds = _vds || [];
    (function(){ _vds.push(['setAccountId', '22c937bbd8ebd703f2d8e9445f7dfd03']);
        _vds.push(['setCS1','user_id','0']);
            (function() {var vds = document.createElement('script');
                vds.type='text/javascript';
                vds.async = true;
                vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(vds, s);
            })();
    })();
</script>

  
  <script type='text/javascript'>
    var _vwo_code=(function(){
      var account_id=249272,
          settings_tolerance=2000,
          library_tolerance=2500,
          use_existing_jquery=false,
          // DO NOT EDIT BELOW THIS LINE
          f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
  </script>


  <script>  </script>
  <style type="text/css">
.tag,.tag:link,.tag:visited{width:auto;word-break:keep-all;white-space:nowrap;background-color:#f5f5f5;color:#37A;font-size:13px;padding:2px 11px 0;display:inline-block;margin:0 3px 5px 0;line-height:20px}.tag:hover,.tag:active{background-color:#e8e8e8;color:#37A}


#db-discussion-section .olt { margin-bottom: 7px; }
</style>

  <link rel="shortcut icon" href="https://img3.doubanio.com/favicon.ico" type="image/x-icon">
</head>
<body>
  
    <script>var _body_start = new Date();</script>
    
  



    <link href="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.css" rel="stylesheet" type="text/css">



<div id="db-global-nav" class="global-nav">
  <div class="bd">
    
<div class="top-nav-info">
  <a href="https://www.douban.com/accounts/login?source=book" class="nav-login" rel="nofollow">登录</a>
  <a href="https://www.douban.com/accounts/register?source=book" class="nav-register" rel="nofollow">注册</a>
</div>


    
<div class="top-nav-doubanapp">
  <a href="https://www.douban.com/doubanapp/app?channel=top-nav" class="lnk-doubanapp">下载豆瓣客户端</a>
  <div id="top-nav-appintro" class="more-items">
    <p class="appintro-title">豆瓣</p>
    <p class="slogan">我们的精神角落</p>
    <p class="qrcode">扫码直接下载</p>
    <div class="download">
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=iOS">iPhone</a>
      <span>·</span>
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=Android" class="download-android">Android</a>
    </div>
    <div id="doubanapp-tip">
      <a href="https://www.douban.com/doubanapp/app?channel=qipao" class="tip-link">豆瓣 5.0 全新发布</a>
      <a href="javascript: void 0;" class="tip-close">×</a>
    </div>
  </div>
</div>

    


<div class="global-nav-items">
  <ul>
    <li class="">
      <a href="https://www.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-main&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣</a>
    </li>
    <li class="on">
      <a href="https://book.douban.com"  data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-book&quot;,&quot;uid&quot;:&quot;0&quot;}">读书</a>
    </li>
    <li class="">
      <a href="https://movie.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-movie&quot;,&quot;uid&quot;:&quot;0&quot;}">电影</a>
    </li>
    <li class="">
      <a href="https://music.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-music&quot;,&quot;uid&quot;:&quot;0&quot;}">音乐</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/location" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-location&quot;,&quot;uid&quot;:&quot;0&quot;}">同城</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/group" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-group&quot;,&quot;uid&quot;:&quot;0&quot;}">小组</a>
    </li>
    <li class="">
      <a href="https://read.douban.com&#47;?dcs=top-nav&amp;dcm=douban" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-read&quot;,&quot;uid&quot;:&quot;0&quot;}">阅读</a>
    </li>
    <li class="">
      <a href="https://douban.fm&#47;?from_=shire_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-fm&quot;,&quot;uid&quot;:&quot;0&quot;}">FM</a>
    </li>
    <li class="">
      <a href="https://time.douban.com&#47;?dt_time_source=douban-web_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-time&quot;,&quot;uid&quot;:&quot;0&quot;}">时间</a>
    </li>
    <li class="">
      <a href="https://market.douban.com&#47;?utm_campaign=douban_top_nav&amp;utm_source=douban&amp;utm_medium=pc_web" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-market&quot;,&quot;uid&quot;:&quot;0&quot;}">市集</a>
    </li>
    <li>
      <a href="#more" class="bn-more"><span>更多</span></a>
      <div class="more-items">
        <table cellpadding="0" cellspacing="0">
          <tbody>
            <tr>
              <td>
                <a href="https://ypy.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-ypy&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣摄影</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </li>
  </ul>
</div>

  </div>
</div>
<script>
  ;window._GLOBAL_NAV = {
    DOUBAN_URL: "https://www.douban.com",
    N_NEW_NOTIS: 0,
    N_NEW_DOUMAIL: 0
  };
</script>



    <script src="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.js" defer="defer"></script>




  



    <link href="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.css" rel="stylesheet" type="text/css">




<div id="db-nav-book" class="nav">
  <div class="nav-wrap">
  <div class="nav-primary">
    <div class="nav-logo">
      <a href="https:&#47;&#47;book.douban.com">豆瓣读书</a>
    </div>
    <div class="nav-search">
      <form action="https:&#47;&#47;book.douban.com/subject_search" method="get">
        <fieldset>
          <legend>搜索：</legend>
          <label for="inp-query">
          </label>
          <div class="inp"><input id="inp-query" name="search_text" size="22" maxlength="60" placeholder="书名、作者、ISBN" value=""></div>
          <div class="inp-btn"><input type="submit" value="搜索"></div>
          <input type="hidden" name="cat" value="1001" />
        </fieldset>
      </form>
    </div>
  </div>
  </div>
  <div class="nav-secondary">
    

<div class="nav-items">
  <ul>
    <li    ><a href="https://book.douban.com/cart/"
     >购书单</a>
    </li>
    <li    ><a href="https://read.douban.com/ebooks/?dcs=book-nav&dcm=douban"
            target="_blank"
     >电子图书</a>
    </li>
    <li    ><a href="https://market.douban.com/book?utm_campaign=book_nav_freyr&utm_source=douban&utm_medium=pc_web"
     >豆瓣书店</a>
    </li>
    <li    ><a href="https://book.douban.com/annual/2017?source=navigation"
            target="_blank"
     >2017年度榜单</a>
    </li>
    <li    ><a href="https://book.douban.com/standbyme/2016?source=navigation"
            target="_blank"
     >2016读书报告</a>
    </li>
    <li          class=" book-cart"
    ><a href="https://market.douban.com/cart/?utm_campaign=book_nav_cart&utm_source=douban&utm_medium=pc_web"
            target="_blank"
     >购物车</a>
    </li>
  </ul>
</div>

  </div>
    <a href="https://book.douban.com/annual/2017?source=patch" class="bookannual2017"></a>
</div>

<script id="suggResult" type="text/x-jquery-tmpl">
  <li data-link="{{= url}}">
            <a href="{{= url}}" onclick="moreurl(this, {from:'book_search_sugg', query:'{{= keyword }}', subject_id:'{{= id}}', i: '{{= index}}', type: '{{= type}}'})">
            <img src="{{= pic}}" width="40" />
            <div>
                <em>{{= title}}</em>
                {{if year}}
                    <span>{{= year}}</span>
                {{/if}}
                <p>
                {{if type == "b"}}
                    {{= author_name}}
                {{else type == "a" }}
                    {{if en_name}}
                        {{= en_name}}
                    {{/if}}
                {{/if}}
                 </p>
            </div>
        </a>
        </li>
  </script>




    <script src="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.js" defer="defer"></script>





    <div id="wrapper">
        
    <div id="dale_book_subject_top_icon"></div>
<h1>
    <span property="v:itemreviewed">The Garbage Collection Handbook</span>
    <div class="clear"></div>
</h1>

        
  <div id="content">
    
    <div class="grid-16-8 clearfix">
      
      <div class="article">



<div class="indent">
  <div class="subjectwrap clearfix">
    



<div class="subject clearfix">
<div id="mainpic" class="">

  

  <a class="nbg"
      href="https://img1.doubanio.com/lpic/s6953789.jpg" title="The Garbage Collection Handbook">
    <img src="https://img1.doubanio.com/lpic/s6953789.jpg" title="点击看大图" alt="The Garbage Collection Handbook"
         rel="v:photo" style="width: 135px">
  </a>



</div>





<div id="info" class="">


    
    
  
    <span>
      <span class="pl"> 作者</span>:
        
        
        <a class="" href="/search/Richard%20Jones">Richard Jones</a>
        
           /
        
        <a class="" href="/search/Antony%20Hosking">Antony Hosking</a>
        
           /
        
        <a class="" href="/search/Eliot%20Moss">Eliot Moss</a>
    </span><br/>

    
    
  
    <span class="pl">出版社:</span> Chapman and Hall/CRC<br/>

    
    
  

    
    
  
    <span class="pl">副标题:</span> The Art of Automatic Memory Management<br/>

    
    
  

    
    
  

    
    
  
    <span class="pl">出版年:</span> 2011-8-17<br/>

    
    
  
    <span class="pl">页数:</span> 511<br/>

    
    
  
    <span class="pl">定价:</span> USD 79.95<br/>

    
    
  
    <span class="pl">装帧:</span> Hardcover<br/>

    
    
  

    
    
  
    
      
      <span class="pl">ISBN:</span> 9781420082791<br/>


</div>

</div>





















    





<div id="interest_sectl" class="">
  <div class="rating_wrap clearbox" rel="v:rating">
    <div class="rating_logo">豆瓣评分</div>
    <div class="rating_self clearfix" typeof="v:Rating">
      <strong class="ll rating_num " property="v:average"> 8.5 </strong>
      <span property="v:best" content="10.0"></span>
      <div class="rating_right ">
          <div class="ll bigstar45"></div>
            <div class="rating_sum">
                <span class="">
                    <a href="collections" class="rating_people"><span property="v:votes">19</span>人评价</a>
                </span>
            </div>


      </div>
    </div>
          
            
            
<span class="stars5 starstop" title="力荐">
    5星
</span>

            
<div class="power" style="width:64px"></div>

            <span class="rating_per">84.2%</span>
            <br>
            
            
<span class="stars4 starstop" title="推荐">
    4星
</span>

            
<div class="power" style="width:12px"></div>

            <span class="rating_per">15.8%</span>
            <br>
            
            
<span class="stars3 starstop" title="还行">
    3星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.0%</span>
            <br>
            
            
<span class="stars2 starstop" title="较差">
    2星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.0%</span>
            <br>
            
            
<span class="stars1 starstop" title="很差">
    1星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.0%</span>
            <br>
    </div>
</div>

  </div>
  





  
    
    <div id="interest_sect_level" class="clearfix">
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-6809987-wish">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectwish" class="miniform">
    <input type="submit" class="minisubmit j " value="想读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-6809987-do">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectdo" class="miniform">
    <input type="submit" class="minisubmit j " value="在读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-6809987-collect">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectcollect" class="miniform">
    <input type="submit" class="minisubmit j " value="读过" title="" />
</form>

          </span>
        </a>
      <div class="ll j a_stars">
        
    
    评价:
    <span id="rating"> <span id="stars" data-solid="https://img3.doubanio.com/f/shire/5a2327c04c0c231bced131ddf3f4467eb80c1c86/pics/rating_icons/star_onmouseover.png" data-hollow="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" data-solid-2x="https://img3.doubanio.com/f/shire/7258904022439076d57303c3b06ad195bf1dc41a/pics/rating_icons/star_onmouseover@2x.png" data-hollow-2x="https://img3.doubanio.com/f/shire/95cc2fa733221bb8edd28ad56a7145a5ad33383e/pics/rating_icons/star_hollow_hover@2x.png">

            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-6809987-1">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star1" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-6809987-2">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star2" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-6809987-3">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star3" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-6809987-4">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star4" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-6809987-5">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star5" width="16" height="16"/></a>
    </span><span id="rateword" class="pl"></span>
    <input id="n_rating" type="hidden" value=""  />
    </span>

      </div>
      

    </div>



  
  <div class="gtleft">
    <ul class="ul_subject_menu bicelink color_gray pt6 clearfix">
        <li>
          <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a href="https://www.douban.com/register?reason=annotate" class="j a_show_login" rel="nofollow">写笔记</a>
        </li>

          <li>
            <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a class="j a_show_login" href="https://www.douban.com/register?reason=review" rel="nofollow">写书评</a>
          </li>

      <li>

  <span class="rr">
  

    <img src="https://img3.doubanio.com/pics/add-cart.gif"/>
      <a class="j a_show_login" href="http://http://www.douban.com/register?reason=addbook2cart" rel="nofollow">加入购书单</a>
  <span class="hidden">已在<a href="https://book.douban.com/cart">购书单</a></span>
</span><br class="clearfix" />
</li>


        
        
    
    <li class="rec" id="C-6809987">
        <a href="#" data-url="https://book.douban.com/subject/6809987/" data-desc="" data-title="书籍《The Garbage Collection Handbook》 (来自豆瓣) " data-pic="https://img1.doubanio.com/lpic/s6953789.jpg" class="bn-sharing ">分享到</a> &nbsp;&nbsp;
    </li>
    <script>
    var __cache_url = __cache_url || {};
    (function(u){
        if(__cache_url[u]) return;
        __cache_url[u] = true;
        window.DoubanShareIcons = 'https://img3.doubanio.com/f/shire/d15ffd71f3f10a7210448fec5a68eaec66e7f7d0/pics/ic_shares.png';
        var initShareButton = function() {
          $.ajax({url:u,dataType:'script',cache:true});
        };
        if (typeof Do == 'function' && 'ready' in Do) {
          Do('https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js',
            initShareButton);
        } else if(typeof Douban == 'object' && 'loader' in Douban) {
          Douban.loader.batch(
            'https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js'
          ).done(initShareButton);
        }
    })('https://img3.doubanio.com/f/shire/6e6a5f21daeec19bbb41bf48c07fccaa4dad4d98/js/lib/sharebutton.js');
    </script>

    </ul>
  </div>


    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>


<script>
  //bind events for collection button.
  $('.collect_btn', '#interest_sect_level').each(function(){
      Douban.init_collect_btn(this);
  });
</script>








</div>

<br clear="all">
<div id="collect_form_6809987"></div>
<div class="related_info">
  






  

  <h2>
    <span class="">内容简介</span>
      ······

  </h2>



<div class="indent" id="link-report">
    
      <span class="short">
        <style type="text/css" media="screen">
.intro p{text-indent:2em;word-break:normal;}
</style>
<div class="intro">
    <p>Published in 1996, Richard Jones&#39;s Garbage Collection was a milestone in the area of automatic memory management. The field has grown considerably since then, sparking a need for an updated look at the latest state-of-the-art developments. The Garbage Collection Handbook: The Art of Automatic Memory Management brings together a wealth of knowledge gathered by automatic memory m...</p><p><a href="javascript:void(0)" class="j a_show_full">(展开全部)</a></p></div>
       </span>
      <span class="all hidden">
        <div class="">
          <style type="text/css" media="screen">
.intro p{text-indent:2em;word-break:normal;}
</style>
<div class="intro">
    <p>Published in 1996, Richard Jones&#39;s Garbage Collection was a milestone in the area of automatic memory management. The field has grown considerably since then, sparking a need for an updated look at the latest state-of-the-art developments. The Garbage Collection Handbook: The Art of Automatic Memory Management brings together a wealth of knowledge gathered by automatic memory management researchers and developers over the past fifty years. The authors compare the most important approaches and state-of-the-art techniques in a single, accessible framework. The book addresses new challenges to garbage collection made by recent advances in hardware and software. It explores the consequences of these changes for designers and implementers of high performance garbage collectors. Along with simple and traditional algorithms, the book covers parallel, incremental, concurrent, and real-time garbage collection. Algorithms and concepts are often described with pseudocode and illustrations.  The nearly universal adoption of garbage collection by modern programming languages makes a thorough understanding of this topic essential for any programmer. This authoritative handbook gives expert insight on how different collectors work as well as the various issues currently facing garbage collectors. Armed with this knowledge, programmers can confidently select and configure the many choices of garbage collectors.  Web Resource The book&#39;s online bibliographic database at www.gchandbook.org includes over 2,500 garbage collection-related publications. Continually updated, it contains abstracts for some entries and URLs or DOIs for most of the electronically available ones. The database can be searched online or downloaded as BibTeX, PostScript, or PDF.</p></div>

        </div>
      </span>
    
<style>
    #link-report .report { text-align: right; font-size: 12px; visibility: hidden; }
    #link-report .report a { color: #BBB; }
    #link-report .report a:hover { color: #FFF; background-color: #BBB; }
</style>
<script>
    Do = (typeof Do === 'undefined')? $ : Do;
    Do(function(){
    $("body").delegate("#link-report", 'mouseenter mouseleave', function(e){
      switch (e.type) {
        case "mouseenter":
          $(this).find(".report").css('visibility', 'visible');
          break;
        case "mouseleave":
          $(this).find(".report").css('visibility', 'hidden');
          break;
      }
    });
    $("#link-report").delegate(".report a", 'click', function(e){
        e.preventDefault();
        var auditUrl = "https://www.douban.com/misc/audit_report?url=",
        opt = "";
        var obj = $(e.target).closest('#link-report');
        var id = obj.length != 0 ? obj.data("id") : undefined;
        var params = (opt&&id) ? '?'.concat(opt, '=', id) : '';
        var url = auditUrl.concat("https://book.douban.com/subject/6809987/", params);
        window.location.href = url;
    });

    $("#link-report").append('<div class="report"><a rel="nofollow" href="#">举报</a></div>');
  });
</script>

</div>

  



































































  

  
    




  

  <h2>
    <span class="">目录</span>
      ······

  </h2>



<div class="indent" id="dir_6809987_short">
        Introduction<br/>
        Explicit deallocation<br/>
        Automatic dynamic memory management<br/>
        Comparing garbage collection algorithms<br/>
        A performance disadvantage?<br/>
        Experimental methodology<br/>
    · · · · · ·
    (<a href="javascript:$('#dir_6809987_short').hide();$('#dir_6809987_full').show();$.get('/j/subject/j_dir_count',{id:6809987});void(0);">更多</a>)
</div>

<div class="indent" id="dir_6809987_full" style="display:none">
        Introduction<br/>
        Explicit deallocation<br/>
        Automatic dynamic memory management<br/>
        Comparing garbage collection algorithms<br/>
        A performance disadvantage?<br/>
        Experimental methodology<br/>
        Terminology and notation<br/>
        Mark-Sweep Garbage Collection<br/>
        The mark-sweep algorithm<br/>
        The tricolor abstraction<br/>
        Improving mark-sweep<br/>
        Bitmap marking<br/>
        Lazy sweeping<br/>
        Cache misses in the marking loop<br/>
        Issues to consider<br/>
        Mark-Compact Garbage Collection<br/>
        Two-finger compaction<br/>
        The Lisp 2 algorithm<br/>
        Threaded compaction<br/>
        One-pass algorithms<br/>
        Issues to consider<br/>
        Copying Garbage Collection<br/>
        Semispace copying collection<br/>
        Traversal order and locality<br/>
        Issues to consider<br/>
        Reference Counting<br/>
        Advantages and disadvantages of reference counting<br/>
        Improving efficiency<br/>
        Deferred reference counting<br/>
        Coalesced reference counting<br/>
        Cyclic reference counting<br/>
        Limited-field reference counting<br/>
        Issues to consider<br/>
        Comparing Garbage Collectors<br/>
        Throughput<br/>
        Pause time<br/>
        Space<br/>
        Implementation<br/>
        Adaptive systems<br/>
        A unified theory of garbage collection<br/>
        Allocation<br/>
        Sequential allocation<br/>
        Free-list allocation<br/>
        Fragmentation<br/>
        Segregated-fits allocation<br/>
        Combining segregated-fits with first-, best-, and next-fit<br/>
        Additional considerations<br/>
        Allocation in concurrent systems<br/>
        Issues to consider<br/>
        Partitioning the Heap<br/>
        Terminology<br/>
        Why to partition<br/>
        How to partition<br/>
        When to partition<br/>
        Generational Garbage Collection<br/>
        Example<br/>
        Measuring time<br/>
        Generational hypotheses<br/>
        Generations and heap layout<br/>
        Multiple generations<br/>
        Age recording<br/>
        Adapting to program behavior<br/>
        Inter-generational pointers<br/>
        Space management<br/>
        Older-first garbage collection<br/>
        Beltway<br/>
        Analytic support for generational collection<br/>
        Issues to consider<br/>
        Abstract generational garbage collection<br/>
        Other Partitioned Schemes<br/>
        Large object spaces<br/>
        Topological collectors<br/>
        Hybrid mark-sweep, copying collectors<br/>
        Bookmarking garbage collection<br/>
        Ulterior reference counting<br/>
        Issues to consider<br/>
        Run-Time Interface<br/>
        Interface to allocation<br/>
        Finding pointers<br/>
        Object tables<br/>
        References from external code<br/>
        Stack barriers<br/>
        GC safe points and mutator suspension<br/>
        Garbage collecting code<br/>
        Read- and write-barriers<br/>
        Managing address space<br/>
        Applications of virtual memory page protection<br/>
        Choosing heap size<br/>
        Issues to consider<br/>
        Language-Specific Concerns<br/>
        Finalization<br/>
        Weak references<br/>
        Issues to consider<br/>
        Concurrency Preliminaries<br/>
        Hardware<br/>
        Hardware memory consistency models<br/>
        Hardware primitives<br/>
        Progress guarantees<br/>
        Notation used for concurrent algorithms<br/>
        Mutual exclusion<br/>
        Work sharing and termination detection<br/>
        Concurrent data structures<br/>
        Transactional memory<br/>
        Issues to consider<br/>
        Parallel Garbage Collection<br/>
        Is there sufficient work to parallelize?<br/>
        Load balancing<br/>
        Synchronization<br/>
        Taxonomy<br/>
        Parallel marking<br/>
        Parallel copying<br/>
        Parallel sweeping<br/>
        Parallel compaction<br/>
        Issues to consider<br/>
        Concurrent Garbage Collection<br/>
        Correctness of concurrent collection<br/>
        Barrier techniques for concurrent collection<br/>
        Issues to consider<br/>
        Concurrent Mark-Sweep<br/>
        Initialization<br/>
        Termination<br/>
        Allocation<br/>
        Concurrent marking and sweeping<br/>
        On-the-fly marking<br/>
        Abstract concurrent collection<br/>
        Issues to consider<br/>
        Concurrent Copying and Compaction<br/>
        Mostly concurrent copying: Baker’s algorithm<br/>
        Brooks’ indirection barrier<br/>
        Self-erasing read barriers<br/>
        Replication copying<br/>
        Multi-version copying<br/>
        Sapphire<br/>
        Concurrent compaction<br/>
        Issues to consider<br/>
        Concurrent Reference Counting<br/>
        Simple reference counting revisited<br/>
        Buffered reference counting<br/>
        Concurrent, cyclic reference counting<br/>
        Taking a snapshot of the heap<br/>
        Sliding views reference counting<br/>
        Issues to consider<br/>
        Real-Time Garbage Collection<br/>
        Real-time systems<br/>
        Scheduling real-time collection<br/>
        Work-based real-time collection<br/>
        Slack-based real-time collection<br/>
        Time-based real-time collection: Metronome<br/>
        Combining scheduling approaches: Tax-and-Spend<br/>
        Controlling fragmentation<br/>
        Issues to consider<br/>
        Glossary<br/>
        Bibliography<br/>
        Index<br/>
     · · · · · ·     (<a href="javascript:$('#dir_6809987_full').hide();$('#dir_6809987_short').show();void(0);">收起</a>)
</div>



  



<div id="author-wrapper" class="author-wrapper">
  <div class="loading"></div>
</div>
<link rel="stylesheet" href="https://img3.doubanio.com/f/fanta/ba954f353fb7e2f830059e78c8e9e4791a96a4f6/components/dist/css/answer_entry.css" />

<script type="text/javascript">
  var answerObj = {
    TYPE: 'book',
    SUBJECT_ID: '6809987',
    ISALL: 'False' || false,
    USER_ID: 'None'
  }
</script>
<script src="https://img3.doubanio.com/f/book/61252f2f9b35f08b37f69d17dfe48310dd295347/js/book/lib/react/bundle.js"></script>
<script src="https://img3.doubanio.com/f/fanta/f86ac0ee5349a9eeff2e7a3741853e8fc76d3042/components/dist/answer_entry.js"></script>

  






<div id="db-tags-section" class="blank20">
  
  

  <h2>
    <span class="">豆瓣成员常用的标签(共43个)</span>
      ······

  </h2>


  <div class="indent">    <span class="">
        <a class="  tag" href="/tag/GC">GC</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/JVM">JVM</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/垃圾收集">垃圾收集</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/虚拟机">虚拟机</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/Java">Java</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/计算机">计算机</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/计算机科学">计算机科学</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/编译原理">编译原理</a> &nbsp;    </span>
  </div>
</div>


  


  












<div id="rec-ebook-section" class="block5 subject_show">
  

  
  

  <h2>
    <span class="">喜欢读&#34;The Garbage Collection Handbook&#34;的人也喜欢的电子书</span>
      ······

  </h2>


  <div class="tips-mod">
    支持 Web、iPhone、iPad、Android 阅读器
  </div>
  <div class="content clearfix">
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/198648/?dcs=subject-rec&amp;dcm=douban&amp;dct=6809987" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/198648.jpg?v=1395393782.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/198648/" target="_blank">CoffeeScript小书</a>
          </div>
          <div class="price">
              1.99元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/1499455/?dcs=subject-rec&amp;dcm=douban&amp;dct=6809987" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/1499455.jpg?v=1395393904.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/1499455/" target="_blank">Python源码剖析</a>
          </div>
          <div class="price">
              38.39元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/402131/?dcs=subject-rec&amp;dcm=douban&amp;dct=6809987" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/402131.jpg?v=1395395829.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/402131/" target="_blank">精益开发实战</a>
          </div>
          <div class="price">
              18.00元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/387679/?dcs=subject-rec&amp;dcm=douban&amp;dct=6809987" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/387679.jpg?v=1395395846.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/387679/" target="_blank">编程大师访谈录</a>
          </div>
          <div class="price">
              25.00元
          </div>
        </dd>
      </dl>
  </div>
</div>

<div id="db-rec-section" class="block5 subject_show knnlike">
  
  
  

  <h2>
    <span class="">喜欢读&#34;The Garbage Collection Handbook&#34;的人也喜欢</span>
      ······

  </h2>


  <div class="content clearfix">
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1949080/" onclick="moreurl(this, {'total': 10, 'clicked': '1949080', 'pos': 0, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s27999905.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1949080/" onclick="moreurl(this, {'total': 10, 'clicked': '1949080', 'pos': 0, 'identifier': 'book-rec-books'})" class="">
            Compiling with Continuations
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/3152171/" onclick="moreurl(this, {'total': 10, 'clicked': '3152171', 'pos': 1, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s27033604.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/3152171/" onclick="moreurl(this, {'total': 10, 'clicked': '3152171', 'pos': 1, 'identifier': 'book-rec-books'})" class="">
            The School of Niklaus Wirth
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/4117971/" onclick="moreurl(this, {'total': 10, 'clicked': '4117971', 'pos': 2, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s4040182.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/4117971/" onclick="moreurl(this, {'total': 10, 'clicked': '4117971', 'pos': 2, 'identifier': 'book-rec-books'})" class="">
            ふつうのコンパイラをつくろう
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/20014671/" onclick="moreurl(this, {'total': 10, 'clicked': '20014671', 'pos': 3, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s25002441.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/20014671/" onclick="moreurl(this, {'total': 10, 'clicked': '20014671', 'pos': 3, 'identifier': 'book-rec-books'})" class="">
            The Java Language Specification, ...
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/4873919/" onclick="moreurl(this, {'total': 10, 'clicked': '4873919', 'pos': 4, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s4384452.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/4873919/" onclick="moreurl(this, {'total': 10, 'clicked': '4873919', 'pos': 4, 'identifier': 'book-rec-books'})" class="">
            Oracle JRockit
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1777406/" onclick="moreurl(this, {'total': 10, 'clicked': '1777406', 'pos': 5, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s4033519.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1777406/" onclick="moreurl(this, {'total': 10, 'clicked': '1777406', 'pos': 5, 'identifier': 'book-rec-books'})" class="">
            Modern Compiler Implementation i...
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/25847620/" onclick="moreurl(this, {'total': 10, 'clicked': '25847620', 'pos': 6, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s27458238.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/25847620/" onclick="moreurl(this, {'total': 10, 'clicked': '25847620', 'pos': 6, 'identifier': 'book-rec-books'})" class="">
            HotSpot实战
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/2333166/" onclick="moreurl(this, {'total': 10, 'clicked': '2333166', 'pos': 7, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s27168342.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/2333166/" onclick="moreurl(this, {'total': 10, 'clicked': '2333166', 'pos': 7, 'identifier': 'book-rec-books'})" class="">
            The Compiler Design Handbook
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/2359859/" onclick="moreurl(this, {'total': 10, 'clicked': '2359859', 'pos': 8, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s19351724.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/2359859/" onclick="moreurl(this, {'total': 10, 'clicked': '2359859', 'pos': 8, 'identifier': 'book-rec-books'})" class="">
            High-Performance Compilers for P...
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/2135376/" onclick="moreurl(this, {'total': 10, 'clicked': '2135376', 'pos': 9, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s2561327.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/2135376/" onclick="moreurl(this, {'total': 10, 'clicked': '2135376', 'pos': 9, 'identifier': 'book-rec-books'})" class="">
            Garbage Collection
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
  </div>
</div>

  






    <link rel="stylesheet" href="https://img3.doubanio.com/f/book/8f539f4edfa7786707fc6f654e1f373c62a70128/css/book/subject/comment.css"/>
    <div class="mod-hd">
        

        <a class="redbutt j a_show_login rr" href="https://www.douban.com/register?reason=review" rel="nofollow">
            <span> 我来说两句 </span>
        </a>

            
  

  <h2>
    <span class="">短评</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/6809987/comments/">全部 5 条</a>
        ) </span>

  </h2>


    </div>
    <div class="nav-tab">
        
    <div class="tabs-wrapper  line">
        <a class="short-comment-tabs on-tab" href="hot" data-tab="hot">热门</a>
        <span>/</span>
        <a class="short-comment-tabs " href="new" data-tab="new">最新</a>
        <span>/</span>
        <a class="j a_show_login " href="follows" data-tab="follows">好友</a>
    </div>

    </div>
    <div id="comment-list-wrapper" class="indent">
        

<div id="comments" class="comment-list hot show">
        <ul>
                
    <li class="comment-item" data-cid="963409046">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-963409046" class="vote-count">2</span>
                        <a href="javascript:;" id="btn-963409046" class="j a_show_login" data-cid="963409046">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/d0ngd0ng/">d0ngw</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2016-03-23</span>
                </span>
            </h3>
            <p class="comment-content">算是啃完了，最后一章实时垃圾收集实在看不懂，各种公式分析。
这本应该是GC领域集大成者了，期望能出中文版再读一遍。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1218523250">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1218523250" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1218523250" class="j a_show_login" data-cid="1218523250">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/billjeff/">billjeff</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2017-07-22</span>
                </span>
            </h3>
            <p class="comment-content">非常全面的介绍了垃圾收集的原理和设计，适合做这个方向研究和实现。读透这本书需要时间。。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="932313997">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-932313997" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-932313997" class="j a_show_login" data-cid="932313997">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/qc1iu/">qqq</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2017-02-10</span>
                </span>
            </h3>
            <p class="comment-content">少有的系统讲解gc的书。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="907348772">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-907348772" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-907348772" class="j a_show_login" data-cid="907348772">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/leftie/">mistletoe</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2015-03-28</span>
                </span>
            </h3>
            <p class="comment-content">涵盖了gc几乎所有算法，及最新动态。遗憾是没有对流行平台用gc代码的剖析。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="913054114">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-913054114" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-913054114" class="j a_show_login" data-cid="913054114">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/125411305/">桐桐爸</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2015-04-15</span>
                </span>
            </h3>
            <p class="comment-content">



</p>
        </div>
    </li>


        </ul>
</div>

        

<div id="comments" class="comment-list new noshow">
        <ul>
                
    <li class="comment-item" data-cid="1218523250">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1218523250" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1218523250" class="j a_show_login" data-cid="1218523250">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/billjeff/">billjeff</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2017-07-22</span>
                </span>
            </h3>
            <p class="comment-content">非常全面的介绍了垃圾收集的原理和设计，适合做这个方向研究和实现。读透这本书需要时间。。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="963409046">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-963409046" class="vote-count">2</span>
                        <a href="javascript:;" id="btn-963409046" class="j a_show_login" data-cid="963409046">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/d0ngd0ng/">d0ngw</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2016-03-23</span>
                </span>
            </h3>
            <p class="comment-content">算是啃完了，最后一章实时垃圾收集实在看不懂，各种公式分析。
这本应该是GC领域集大成者了，期望能出中文版再读一遍。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="932313997">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-932313997" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-932313997" class="j a_show_login" data-cid="932313997">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/qc1iu/">qqq</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2017-02-10</span>
                </span>
            </h3>
            <p class="comment-content">少有的系统讲解gc的书。</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="913054114">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-913054114" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-913054114" class="j a_show_login" data-cid="913054114">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/125411305/">桐桐爸</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2015-04-15</span>
                </span>
            </h3>
            <p class="comment-content">



</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="907348772">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-907348772" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-907348772" class="j a_show_login" data-cid="907348772">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/leftie/">mistletoe</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2015-03-28</span>
                </span>
            </h3>
            <p class="comment-content">涵盖了gc几乎所有算法，及最新动态。遗憾是没有对流行平台用gc代码的剖析。</p>
        </div>
    </li>


        </ul>
</div>

    </div>
        <p>&gt; <a href="https://book.douban.com/subject/6809987/comments/">更多短评 5 条</a></p>
    <script src="https://img3.doubanio.com/f/book/1d9c8cf5e04fc6d9cae8f10e358c6a6cd458f9b8/js/book/subject/short_comment_vote.js"></script>
    <script src="https://img3.doubanio.com/f/book/39eace58cab8aaeec45a44e878bf0ed06f2ed0a4/js/book/subject/short_comment_nav.js"></script>
    <script>
        (function(){
            $('.comment-list').delegate('.vote-comment', 'click', function(e) {
                vote_comment(e);
            }).delegate('.delete-comment', 'click', function(e) {
                if (confirm('确定删除吗？')) {
                    delete_comment(e);
                }
            });
        })();
    </script>

  

<link rel="stylesheet" href="https://img3.doubanio.com/misc/mixed_static/7f54ef457c36133a.css">

<section class="topics mod">
    <header>
        <h2>
            The Garbage Collection Handbook的话题 · · · · · ·
            <span class="pl">( <span class="gallery_topics">全部 <span id="topic-count"></span> 条</span> )</span>
        </h2>
    </header>

    




<section class="subject-topics">
    <div class="topic-guide" id="topic-guide">
        <img class="ic_question" src="//img3.doubanio.com/f/ithildin/b1a3edea3d04805f899e9d77c0bfc0d158df10d5/pics/export/icon_question.png">
        <div class="tip_content">
            <div class="tip_title">什么是话题</div>
            <div class="tip_desc">
                <div>无论是一部作品、一个人，还是一件事，都往往可以衍生出许多不同的话题。将这些话题细分出来，分别进行讨论，会有更多收获。</div>
            </div>
        </div>
        <img class="ic_guide" src="//img3.doubanio.com/f/ithildin/529f46d86bc08f55cd0b1843d0492242ebbd22de/pics/export/icon_guide_arrow.png">
        <img class="ic_close" id="topic-guide-close" src="//img3.doubanio.com/f/ithildin/2eb4ad488cb0854644b23f20b6fa312404429589/pics/export/close@3x.png">
    </div>

    <div id="topic-items"></div>

    <script>
        window.subject_id = 6809987;
        window.join_label_text = '写书评参与';

        window.topic_display_count = 4;
        window.topic_item_display_count = 1;
        window.no_content_fun_call_name = "no_topic";

        window.guideNode = document.getElementById('topic-guide');
        window.guideNodeClose = document.getElementById('topic-guide-close');
    </script>
    
        <link rel="stylesheet" href="https://img3.doubanio.com/f/ithildin/f731c9ea474da58c516290b3a6b1dd1237c07c5e/css/export/subject_topics.css">
        <script src="https://img3.doubanio.com/f/ithildin/d3590fc6ac47b33c804037a1aa7eec49075428c8/js/export/moment-with-locales-only-zh.js"></script>
        <script src="https://img3.doubanio.com/f/ithildin/936839eb18719d63bdab8637feaa21b4e6d72d8e/js/export/subject_topics.es6"></script>

</section>

    <script>
        function no_topic(){
            $('#content .topics').remove();
        }
    </script>
</section>

<section class="reviews mod book-content">
    <header>
        <a href="new_review" rel="nofollow" class="create-review redbutt rr" 
            data-isverify="False"
            data-verify-url="https://www.douban.com/accounts/phone/verify?redir=https://book.douban.com/subject/6809987/new_review">
            <span>我要写书评</span>
        </a>
        <h2>
            The Garbage Collection Handbook的书评 · · · · · ·
            <span class="pl">( <a href="reviews">全部 3 条</a> )</span>
        </h2>
    </header>

    

<style>
#gallery-topics-selection {
  display: none;
  position: fixed;
  width: 595px;
  padding: 40px 40px 33px 40px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 16px 0 rgba(0, 0, 0, 0.2);
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  z-index: 9999;
}
#gallery-topics-selection h1 {
  font-size: 18px;
  color: #007722;
  margin-bottom: 36px;
  padding: 0;
  line-height: 28px;
  font-weight: normal;
}
#gallery-topics-selection .gl_topics {
  border-bottom: 1px solid #dfdfdf;
  max-height: 298px;
  overflow-y: scroll;
}
#gallery-topics-selection .topic {
  margin-bottom: 24px;
}
#gallery-topics-selection .topic_name {
  font-size: 15px;
  color: #333;
  margin: 0;
  line-height: inherit;
}
#gallery-topics-selection .topic_meta {
  font-size: 13px;
  color: #999;
}
#gallery-topics-selection .topics_skip {
  display: block;
  cursor: pointer;
  font-size: 16px;
  color: #3377AA;
  text-align: center;
  margin-top: 33px;
}
#gallery-topics-selection .topics_skip:hover {
  background: transparent;
}
#gallery-topics-selection .close_selection {
  position: absolute;
  width: 30px;
  height: 20px;
  top: 46px;
  right: 40px;
  background: #fff;
  color: #999;
  text-align: right;
}
#gallery-topics-selection .close_selection:hover{
  background: #fff;
  color: #999;
}
</style>

<div id="gallery-topics-selection"></div>




        <div class="review_filter">
            <a href="javascript:;;" class="cur" data-sort="">热门</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="time">最新</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="follow">好友</a href="javascript:;;">
            
        </div>


        



<div class="review-list  ">
        
    
    
        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="7835350">
        <div class="main review-item" id="7835350">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/resty/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/resty/" property="v:reviewer" class="name">resty</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2016-04-01" class="main-meta">2016-04-01 13:11:09</span>
        

            <span class="publisher right">
            机械工业出版社2016版</span>
    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/7835350/">相当强大的一本书</a></h2>

                <div id="review_7835350_short" class="review-short" data-rid="7835350">
                    <div class="short-content">

                         以前在学校图书馆翻到这本书，当时就感觉捡到了一个宝物。虽然翻译很糟糕，但是里面的内容还是吸引我反复看了好几回。  毕业后回忆以前图书馆见过的经典，发现这本书老早就买不到了，算是一个遗憾。  难得重新翻译了出版了，遂入了一本。虽然要100多块，但毕竟比较是受众比较...

                        &nbsp;(<a href="javascript:;" id="toggle-7835350-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_7835350_full" class="hidden">
                    <div id="review_7835350_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="7835350" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-7835350">
                                2
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="7835350" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-7835350">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/7835350/#comments" class="reply">7回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="8595172">
        <div class="main review-item" id="8595172">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/49261173/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u49261173-2.jpg">
        </a>

        <a href="https://www.douban.com/people/49261173/" property="v:reviewer" class="name">lynus</a>

            <span property="v:rating" class="allstar20 main-title-rating" title="较差"></span>

        <span property="v:dtreviewed" content="2017-06-11" class="main-meta">2017-06-11 13:51:29</span>
        

            <span class="publisher right">
            机械工业出版社2016版</span>
    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/8595172/">差劲的翻译，需要与原版配合学习</a></h2>

                <div id="review_8595172_short" class="review-short" data-rid="8595172">
                    <div class="short-content">

                        作者翻译的相当”任性“，怎么说呢，不知道作者自己读懂英文原文的意思没，反正很多地方的句子是强行拼凑出来的。本来这本书就是论文综述类性质的报告，译者自身必须具有内存管理方面的相当侵淫才有能力理解更别说翻译了。至少从这个中译看出作者没有身后的水平，遇到理解不透...

                        &nbsp;(<a href="javascript:;" id="toggle-8595172-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_8595172_full" class="hidden">
                    <div id="review_8595172_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="8595172" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-8595172">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="8595172" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-8595172">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/8595172/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="7966215">
        <div class="main review-item" id="7966215">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/60129606/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u60129606-3.jpg">
        </a>

        <a href="https://www.douban.com/people/60129606/" property="v:reviewer" class="name">九岸</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2016-07-06" class="main-meta">2016-07-06 13:57:19</span>
        

            <span class="publisher right">
            机械工业出版社2016版</span>
    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/7966215/">The Garbage Collection中文译本</a></h2>

                <div id="review_7966215_short" class="review-short" data-rid="7966215">
                    <div class="short-content">

                        英文版本是垃圾算法界的“龙书”。。原著太贵下载的pdf，看了1/3，没想到出了中文译本，果断入了，虽然100块。很值得。  垃圾回收系统的各个模块都有涉及，分配器，回收器，堆管理。现在高级语言逐渐的都离不开垃圾回收，我想这也是未来语言的趋势，随着垃圾回收算法，自动内存...

                        &nbsp;(<a href="javascript:;" id="toggle-7966215-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_7966215_full" class="hidden">
                    <div id="review_7966215_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="7966215" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-7966215">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="7966215" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-7966215">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/7966215/#comments" class="reply">1回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>




    

    

    <script type="text/javascript">
    ;(function(){
        window.subject_id = window.subject_id || 6809987;
        "use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GalleryTopicsSelection = function (_React$Component) {
  _inherits(GalleryTopicsSelection, _React$Component);

  function GalleryTopicsSelection() {
    _classCallCheck(this, GalleryTopicsSelection);

    var _this = _possibleConstructorReturn(this, (GalleryTopicsSelection.__proto__ || Object.getPrototypeOf(GalleryTopicsSelection)).call(this));

    _this.state = {
      topics: []
    };
    return _this;
  }

  _createClass(GalleryTopicsSelection, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      $.ajax({
        url: "https://m.douban.com/rexxar/api/v2/gallery/subject_feed?start=0&subject_id=" + window.subject_id + "&ck=" + get_cookie('ck'),
        xhrFields: { withCredentials: true },
        success: function success(res) {
          _this2.setState({
            topics: res.items
          });
          if (res.total) {
            window.has_gallery_topics = true;
          }
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var topics = this.state.topics;

      return React.createElement(
        "section",
        null,
        React.createElement(
          "a",
          { href: "new_review?from=gallery-topics-selection&click=close", rel: "nofollow", className: "close_selection" },
          "\u8DF3\u8FC7"
        ),
        React.createElement(
          "h1",
          null,
          "\u4E0B\u9762\u662F\u5426\u6709\u4F60\u60F3\u5199\u7684\u8BDD\u9898\uFF1F"
        ),
        topics.length ? React.createElement(
          "ul",
          { className: "gl_topics" },
          topics.map(function (item) {
            return React.createElement(
              "li",
              { className: "topic" },
              React.createElement(
                "a",
                { href: "new_review?from=gallery-topics-selection&click=create&tag_from_gallery=" + item.topic.name,
                  className: "comment_btn write_review",
                  rel: "nofollow" },
                React.createElement("img", { src: window.write_icon }),
                React.createElement(
                  "span",
                  null,
                  window.join_label_text
                )
              ),
              React.createElement(
                "h2",
                { className: "topic_name" },
                item.topic.name
              ),
              React.createElement(
                "div",
                { className: "topic_meta" },
                item.topic.card_subtitle
              )
            );
          })
        ) : React.createElement(
          "div",
          null,
          "\u52A0\u8F7D\u4E2D"
        ),
        React.createElement(
          "a",
          { href: "new_review?from=gallery-topics-selection&click=skip", rel: "nofollow", className: "topics_skip" },
          React.createElement(
            "span",
            null,
            "\u4E0A\u9762\u6CA1\u6709\u6211\u60F3\u5199\u7684\u8BDD\u9898\uFF0C\u53BB\u5199\u5F71\u8BC4 \uFF1E "
          )
        )
      );
    }
  }]);

  return GalleryTopicsSelection;
}(React.Component);

$(function () {
  var glRoot = document.getElementById('gallery-topics-selection');

  ReactDOM.render(React.createElement(GalleryTopicsSelection, null), glRoot);
});;
    })();
</script><script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/289d9eab6b43a9ec.js"></script>
    <!-- COLLECTED CSS -->
</div>







            <p class="pl">
                &gt;
                <a href="reviews">
                    更多书评3篇
                </a>
            </p>
</section>
    
<!-- COLLECTED JS -->

  









<div class="ugc-mod reading-notes">
  <div class="hd">
    <h2>
      读书笔记&nbsp;&nbsp;· · · · · ·&nbsp;
          <span class="pl">(<a href="https://book.douban.com/subject/6809987/annotation">共<span property="v:count">31</span>篇</a>)</span>

    </h2>

      <a class="redbutt rr j a_show_login" href="https://www.douban.com/register?reason=annotate" rel="nofollow"><span>我来写笔记</span></a>
  </div>
  

    <div class="bd">
      <ul class="inline-tabs">
        <li class="on"><a href="#rank" id="by_rank" >按有用程度</a></li>
        <li><a href="#page" id="by_page" >按页码先后</a></li>
        <li><a href="#time" id="by_time" >最新笔记</a></li>
      </ul>
      
  <ul class="comments by_rank" >
      
      <li class="ctsh clearfix" data-cid="43839743">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43839743/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43839743/" class="">第41页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43839743">
              <div class="short">
                
                  <span class="">（继上页）这两点考量在某些环境下可能都是重要因素，比如内存很紧张，或者运行时系统无法为引用提供精确的（目标对象的——范德成注）类型标识（参见第11.2节）。 作为一个非移动式收集器，“标记-清扫”会受内存碎片化的影响。通过一种吝啬的分配策略，例如“顺序匹配”（sequential-fit；参见第7.4节），可以减少碎片化成为真正问题的可能，前提是应用程序不分配很多大型对象，并且对象的大小不经常变化。然而，在一个长时间...</span>
                <p class="pl">
                  <span class="">2017-05-10 23:23</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>（继上页）这两点考量在某些环境下可能都是重要因素，比如内存很紧张，或者运行时系统无法为引用提供精确的（目标对象的——范德成注）类型标识（参见第11.2节）。</p><p>作为一个非移动式收集器，“标记-清扫”会受内存碎片化的影响。通过一种吝啬的分配策略，例如“顺序匹配”（sequential-fit；参见第7.4节），可以减少碎片化成为真正问题的可能，前提是应用程序不分配很多大型对象，并且对象的大小不经常变化。然而，在一个长时间运行的应用程序中，用一个通用的非移动式分配器分配许多种类的对象的情况下，碎片化自然容易成为一个问题。出于这个原因，绝大多数Java虚拟机使用的都是能把堆紧缩起来的移动式收集器。</p><p>紧缩的吞吐量成本</p><p>在紧缩堆中做顺序分配是很快的操作。相对于可用的内存，如果堆占据了里面大部分空间，那么“标记-紧缩”就是一种合适的移动式收集策略。它的内存需求是复制式收集器的一半。相比许多其他的复制类算法，“压缩器”类的算法更容易在收集器的多线程中使用（我们将在第14章中分析）。当然，紧缩是有代价的。“标记-紧缩”收集通常会比“标记-清扫”或复制收集速度慢。而且，许多紧缩算法会在客户程序（mutator）上引入额外的开销或附加更多的限制。</p><p>“标记-紧缩”算法之所以提供的吞吐量不及“标记-清扫”或复制式垃圾收集，主要是因为它们倾向于在堆中的对象上跑更多的遍数。“压缩器”是一个例外。紧缩式收集的每一遍都会比较昂贵，部分原因是许多紧缩式收集器要求访问类型信息和对象的指针域，而这些因素容易成为在“指针追踪”步骤之后主要的成本，就像我们在第2章见到的那样。一种通用的解决方案是，只要可能，就一直运行“标记-清扫”收集，直到碎片化度量结果显示“标记-紧缩”收集更经济时，再切换到“标记-紧缩”收集。</p><p>长寿命的数据</p><p>在移动式收集器中，一种常见现象是，堆的头部积累了一些长久乃至永久存活的数据。对于这些对象，复制式收集器的处理会比较糟糕，反复地将它们从一个半空间复制到另一个半空间。另一方面，多代式收集器（我们将在第9章介绍它们）对它们的处理就比较好，它们会被移动到另一个不被频繁收集的空间中。然而，当堆空间紧张时，多代式解决方案可能不是一个可接受的解决方案。而且，当收集多代中的最老的一代时，显然也无法再进一步分成多代来处理了。此时，“标记-紧缩”只需要简单地让无法被收集的对象被自然地“推举”到这一“沉积区（sediment）”中即可。Hanson [1977] 是发现该现象的第一个人，他在他的SITBOL系统中发现，这些对象容易在“临时对象区（transient object area）”的底部积累。他的解决方案是，动态地跟踪这个“沉积区”的高度，并避免收集该区域，除非实在必要（范德成注：也就是不收集其中的少量已“死亡”的对象，即使这样的对象存在；这样做的好处是不会因为其中少量对象的回收就移动其后的大量对象）；其代价是少量内存碎片。昇阳微系统（Sun Microsystems）公司的HotSpot（热点）Java虚拟机将“标记-紧缩”作为它最老一代对象的默认收集器。它也避免紧缩堆中的“密集前缀（dense prefix）”中的对象，该“密集前缀”是可配置的 [Sun Microsystems, 2006]。如果使用了位图收集，那么通过检查位图就能确定出满足密度为期望值的存活前缀的大小。</p><p>局域性（Locality）</p><p>“标记-紧缩”收集器既可能保留对象在堆上的分配顺序，也可能以任意（arbitrary）顺序重新组织它们。尽管任意顺序收集器（arbitrary order collector）可能比其他的“标记-紧缩”收集器更快，也不需要额外空间，但客户程序的局域性很容易受这种任意拨乱对象顺序的影响。（未完待续）</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43839743/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-10 23:23
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="43661853">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43661853/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43661853/" class="">第40页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43661853">
              <div class="short">
                
                  <span class="">算法3.4——压缩器 compact(): computeLocations(HeapStart, HeapEnd, HeapStart) // 范德成注：第三个参数也设为HeapStart，是因为我们 // 要在同一个空间内做紧缩；如果该算法用于并行的目 // 的，那么这个参数也可以是另一个区域的地址 updateReferencesRelocate(HeapStart, HeapEnd) computeLocations(start, end, toRegion): loc &lt;- toRegion block &lt;- getBlockNum(start) for b &lt;- 0 to numBits(start, end) - 1...</span>
                <p class="pl">
                  <span class="">2017-05-06 08:43</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>算法3.4——压缩器</p><p></p><p>compact():</p><p>    computeLocations(HeapStart, HeapEnd, HeapStart) // 范德成注：第三个参数也设为HeapStart，是因为我们</p><p>                                                    // 要在同一个空间内做紧缩；如果该算法用于并行的目</p><p>                                                    // 的，那么这个参数也可以是另一个区域的地址</p><p>    updateReferencesRelocate(HeapStart, HeapEnd)</p><p></p><p>computeLocations(start, end, toRegion):</p><p>    loc &lt;- toRegion</p><p>    block &lt;- getBlockNum(start)</p><p>    for b &lt;- 0 to numBits(start, end) - 1</p><p>        if b % BITS_IN_BLOCK = 0 // 跨越了块边界</p><p>            offset[block] &lt;- loc // 第一个对象将被移动到位置loc</p><p>            block &lt;- block + 1</p><p>        if bitmap[b] = MARKED</p><p>            loc &lt;- loc + bytesMarked(b) // loc &lt;- loc + BYTES_PER_BIT</p><p>                                        // 以存活对象的大小来递增（范德</p><p>                                        // 成：这有些看不懂，所以把原来</p><p>                                        // 的代码改得更容易理解了）</p><p></p><p>newAddress(old):</p><p>    block &lt;- getBlockNum(old)</p><p>    return offset[block] + offsetInBlock(old) // 范德成注：offsetInBlock</p><p>                                              // 可以用bitmap（标记位</p><p>                                              // 图）来计算得到</p><p></p><p>updateReferencesRelocate(start, end):</p><p>    for each fld in Roots:</p><p>        ref &lt;- *fld</p><p>        if ref != null</p><p>            *fld &lt;- newAddress(ref)</p><p>    scan &lt;- start</p><p>    while scan &lt; end</p><p>        scan &lt;- nextMarkedObject(scan) // 利用标记位图</p><p>        for each fld in Pointers(scan) // 更新引用</p><p>            ref &lt;- *fld</p><p>            if ref != null</p><p>                *fld &lt;- newAddress(ref)</p><p>        dest &lt;- newAddress(scan)</p><p>        move(scan, dest)</p><p></p><p>（继上页最后一段）offset向量提供了该块中第一个对象的前进地址。“压缩器”接着需要查询那个块所对应的位图，以发现在该块中有多少存活数据在所要重定位的对象前面，再把这个值加上首对象的偏移量即可。整个操作可以用表查找操作（table lookup）在常数时间内完成（范德成注：计算块内位于对象前的数据量所需的平均时间和块大小成正比，但在这里，块大小被看作常数）。例如，图中的old对象在它块中的偏移量为3，所以它被移动到槽10：offset[block] = 7加上offsetInBlock(old) = 3。</p><p></p><p>3.5 要考虑的问题</p><p></p><p>紧缩操作是否必要？</p><p></p><p>“标记-清扫”垃圾收集使用的内存少于其他技术的内存使用，例如复制收集（我们将在下一章讨论它）。另外，由于它不移动对象的缘故，“标记-清扫”垃圾收集器只需要识别出收集的根（或更多）即可，而不需要修改它们。（下页继续）</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43661853/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-06 08:43
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="43581277">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43581277/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43581277/" class="">第39页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43581277">
              <div class="short">
                
                  <span class="">Kermany和Petrank的垃圾收集算法其实是并行的，但是，这个并行的特质可以放到后面再来理解，因为本书的组织上就是把并行放在后面的。在这里，我们着重观察的是它的紧缩行为。 在书里面，图3.3表示出了Kermany和Petrank的“压缩器”（Compressor）技术的堆和它的元数据。标记位向量（mark-bit vector）中的位表示了每个存活对象的起始和结束位置（范德成注：每个比特对应堆中的一个字）。偏移量向量（offset vector）中的字（wor...</span>
                <p class="pl">
                  <span class="">2017-05-03 22:08</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>Kermany和Petrank的垃圾收集算法其实是并行的，但是，这个并行的特质可以放到后面再来理解，因为本书的组织上就是把并行放在后面的。在这里，我们着重观察的是它的紧缩行为。</p><p>在书里面，图3.3表示出了Kermany和Petrank的“压缩器”（Compressor）技术的堆和它的元数据。标记位向量（mark-bit vector）中的位表示了每个存活对象的起始和结束位置（范德成注：每个比特对应堆中的一个字）。偏移量向量（offset vector）中的字（word；在32位x86平台上应该是一个DWORD，因为它需要能表示一个指针）里面是一个地址，它是（每个块中——范德成注）第一个存活对象将要被移动到的地址。前进地址（forwarding address）没有被存储下来，而是在需要时，从偏移量和标记位向量计算得到。</p><p>范德成注：我想指出一点，图3.3中块2（block 2）中的三个存活对象都显得只有一个字的大小。我怀疑这么小的对象在Kermany和Petrank的“压缩器”中是否允许存在。因为每个对象的首末字节都由标记向量中的位来表示，那么一个对象至少应该有两个字大小，否则就无法确定这个对象的尾部到底在哪里了。</p><p>图下面的一段（续第38页）：第二，一个表被用来保存前进地址（应该指的是偏移量向量表——范德成注）。为每个对象都保存前进地址会非常昂贵（特别是当我们假定对象是对齐到字的时候），所以这两个算法都把堆分割成固定大小的块（256或512字节）。偏移量表（offset table）保存着每个块中第一个存活对象的前进地址（forwarding address）。一个块中其余存活对象的前进地址可以在需要时根据偏移量和标记位向量计算得到。类似地，给出一个指向对象的引用，我们就能计算出它的块号，从而从偏移量表和该块的所有标记位中得到它的前进地址。这样做允许这两个算法将（遍历整个堆重定位对象并更新指针的）多遍处理替换成两遍，第一遍根据标记位向量构造偏移量向量，第二遍（在标记过程之后）遍历堆，通过查询这些包含汇总信息的向量来移动对象并更新引用。减少堆的遍历次数有着局域性（locality）上的优势。让我们以算法3.4为代表，观察它们的细节。</p><p>书中提到了这些算法与Lisp 2算法的相似性。Lisp 2算法在标记完成后，也是去计算存活对象的目标位置。但不同的是，Lisp 2算法会把找到的对象目标位置写入对象头部的前进地址（forwarding address）域中。在计算完目标地址后，先更新引用，然后重定位存活对象。这样在标记后处理的遍数是三遍，本页后面解释了为什么不能把更新引用和移动并在一遍进行。局域性方面，虽然Lisp 2算法在更新引用时是需要随机访问的，但是“压缩器”算法所使用的标记位和偏移量向量也是要被随机访问的。</p><p>本页第二段，在标记过程完成后，computeLocations例程遍历整个标记位向量来计算出offset（偏移量）向量。本质上，它执行的计算和Lisp 2（算法3.2）相同，但不需要修改任何堆中的对象。例如，考虑块2（范德成注：数组的下标从0开始，和C语言一样）中第一个被标记的对象，它在图3.3中被显示为带粗框的样子。在第一个块（块0）中，位2、3、6和7都被设置，在第二个块（块1）中的位3和5也是（本例中每个块有8个槽）。这表示了，在位图中，块2（第三个块）的第一个存活对象前有7个被标记的字（粒度大小）。于是，块2的第一个存活对象将被放置在堆中第七个槽的位置。该地址将被记录为offset向量中该块的数据（参见图中带有“offset[block]”标记的箭头）。</p><p>一旦offset向量被计算完成，接着就会更新根和存活的域（应该指的是指向存活对象的引用——范德成注）以反映出新的位置。Lisp 2算法不得不将更新引用和移动对象的过程分隔开，因为重定位信息是保存在堆上的，移动对象的过程中，当旧对象被新对象覆盖时，旧对象的前进地址就会被覆盖。相反地，“压缩器（Compressor）”类型的算法可以一遍完成重定位对象和更新引用两个操作，见算法3.4中的updateReferencesRelocate。这样做之所以可行，是因为新地址可以以足够快的速度从标记位图和offset向量中计算出来；“压缩器”不需要在堆中保存前进地址。给出堆中任意对象的地址，newAddress函数获取它的块号（通过移位和掩码操作），并利用该块号来索引offset向量。</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43581277/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-03 22:08
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="42815678">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/42815678/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/42815678/" class="">第38页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="42815678">
              <div class="short">
                
                  <span class="">本页第一段继上一页讨论算法的设计。因为我在前一页的笔记里已经写了关于这个算法的解释了，本页的笔记跳过对这一段的讨论，进入下一段。 书中说，该算法最大的优势是不需要额外空间，尽管它要求对象头部至少能容纳得下一个指针（而且还要能和正常的数值区分开来）。但是，这类线索化算法有好几个缺点。首先，它们需要修改存活对象的指针域两次，一次用于线索化，另一次用于反线索化并更新引用。线索化操作要求跟踪指针所指的内...</span>
                <p class="pl">
                  <span class="">2017-04-02 23:34</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>本页第一段继上一页讨论算法的设计。因为我在前一页的笔记里已经写了关于这个算法的解释了，本页的笔记跳过对这一段的讨论，进入下一段。</p><p>书中说，该算法最大的优势是不需要额外空间，尽管它要求对象头部至少能容纳得下一个指针（而且还要能和正常的数值区分开来）。但是，这类线索化算法有好几个缺点。首先，它们需要修改存活对象的指针域两次，一次用于线索化，另一次用于反线索化并更新引用。线索化操作要求跟踪指针所指的内容，所以和标记过程一样是对缓存不友好的，而且这种操作在Jonkers的算法中要做三遍（标记、线索化和反线索化）。Martin [1982] 声称将标记操作和第一遍紧缩操作合并起来能节省1/3的时间，但这里的时间节省只是针对跟踪指针和修改指针域的时间（范德成注：仍不能通过利用缓存来大幅降低时间开销）。由于Jonkers的算法修改指针的方式是破坏式的（范德成注：也就是在修改到一半的时候，数据是不一致的），所以它天生就是顺序式的，无法用于并发式紧缩。以图3.2b为例，一旦指向N的引用都被线索化了，就无法发现B的第一个指针域曾经包含一个指向N的引用（除非那个指针被保存在链条的尾部，例如，保存在A的头部中的另一个空槽中，但这样会抵消该算法原本的“避免占用额外空间”的目标）。最后，Jonkers算法不支持指向对象内部的指针（interior pointer），而这样的指针对某些环境来说却很重要。然而，Morris [1982] 的线索化紧缩器能支持指向对象内部的指针（interior pointer），代价是每个（引用）域都需要一个额外的标签位，而且第二遍的紧缩过程必须与第一遍方向相反（这向堆的解析方法提出了新的要求）。</p><p>第3.4节开始于本页，标题是One-pass algorithms，介绍的是一遍式算法。</p><p>如果我们想要让平移式收集器在堆上的处理遍数减少到两遍（一遍用于标记，另一遍用于将对象平移），同时又避免线索化的（性能）开销，那么我们必须在另一个表（边表，side table，类似于在一本书的某一页边上的空白中记一些笔记，所以叫“边表”）中保存前进地址（forwarding address，表示对象将被平移到的地址）。该表在整个紧缩过程中都被保存着。Abuadiah等人（2004）、Kermany和Petrank（2006）都设计过用于多处理器的高性能“标记-紧缩”算法。前者是个并行的“让世界停止（stop-the-world）”算法（它采用了多个紧缩线程）。后者还可以被配置为并发的（允许客户程序 [mutator] 线程和收集器线程同时运行）、增量的（周期性地短暂挂起客户程序线程来完成少量的、原子性的紧缩工作）。我们在后面的几章中讨论这些算法的并行、并发和增量特性。在这里，我们在“让世界停下”场景下，关注其核心的紧缩算法。</p><p>这两个算法都用到几个“边表”或“边向量”。和很多收集器一样，标记阶段使用一个位图，其中的每个位表示一个单位空间（比如一个字 [word]）。标记操作按照每个存活对象的头和尾的位置来设置这些位。例如，在图3.3中，第16位和第19位被设置，用来表示标记为“old”的对象。通过在紧缩阶段查询标记位图，收集器可以计算出任意存活对象的大小。</p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/42815678/#comments">回应</a>&nbsp;&nbsp;
                  2017-04-02 23:34
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_page"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="14493173">
        <div class="ilst">
          <a href="https://www.douban.com/people/4594729/"><img src="https://img3.doubanio.com/icon/u4594729-2.jpg" alt="卡碧尼" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/14493173/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/14493173/" class="">第1页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/4594729/" class=" " title="卡碧尼">卡碧尼</a>
                (完善，提高)
              
            </p>
            <div class="reading-note" data-cid="14493173">
              <div class="short">
                
                  <span class="">买了本英文原版，一页一块钱人民币，为了不浪费，得仔细读读才行。。。</span>
                  &nbsp;&nbsp;<a href="https://book.douban.com/annotation/14493173/">(<span class="">5回应</span>)</a>
                <p class="pl">
                  <span class="">2011-09-13 12:38</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                买了本英文原版，一页一块钱人民币，为了不浪费，得仔细读读才行。。。
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/14493173/#comments">5回应</a>&nbsp;&nbsp;
                  2011-09-13 12:38
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="37162199">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/37162199/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/37162199/" class="">第15页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="37162199">
              <div class="short">
                
                  <span class="">本书的结构：第2章介绍了自动化存储回收为什么必要，并简要介绍了各种垃圾收集策略该如何被比较，以了解其优势和局限性。最后介绍了本书将使用的伪代码。
第3章到第7章介绍了四种基本的垃圾收集的典型策略。
第8章到第10章介绍了堆的分区的原因和方法。
第11章介绍了和编程语言集成时的运行时接口，包括怎样找到指针，在哪些时间点上做收集是安全的，读屏障和写屏障等等。
第12章介绍了一些与语言相关的细节，例如finalization...</span>
                <p class="pl">
                  <span class="">2016-02-11 15:26</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                本书的结构：第2章介绍了自动化存储回收为什么必要，并简要介绍了各种垃圾收集策略该如何被比较，以了解其优势和局限性。最后介绍了本书将使用的伪代码。<div style="padding-bottom:1em;"></div>第3章到第7章介绍了四种基本的垃圾收集的典型策略。<div style="padding-bottom:1em;"></div>第8章到第10章介绍了堆的分区的原因和方法。<div style="padding-bottom:1em;"></div>第11章介绍了和编程语言集成时的运行时接口，包括怎样找到指针，在哪些时间点上做收集是安全的，读屏障和写屏障等等。<div style="padding-bottom:1em;"></div>第12章介绍了一些与语言相关的细节，例如finalization（最终化）和弱引用（weak reference）。<div style="padding-bottom:1em;"></div>第13章介绍了垃圾收集过程中一些硬件和操作系统（线程同步等）相关的操作。<div style="padding-bottom:1em;"></div>第14章到第18章介绍了并发和并行垃圾回收。<div style="padding-bottom:1em;"></div>第19章介绍了实时垃圾回收，它针对的是stop the world垃圾回收的痛点之一——进程可能被挂起较长的时间（视内存的大小和具体内容，可能是几秒到几分钟）。

                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/37162199/#comments">回应</a>&nbsp;&nbsp;
                  2016-02-11 15:26
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="37162236">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/37162236/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/37162236/" class="">第18页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="37162236">
              <div class="short">
                
                  <span class="">本章讲的是stop the world（让世界停止）的“标记-清扫”垃圾回收算法。
垃圾的定义是，通过根（全局引用、线程本地引用和调用栈上的局部引用等等）无法直接或间接到达的对象。
和引用计数算法不同，“标记-清扫”算法不会在垃圾产生时，立即发现垃圾。
New/Read/Write操作的定义在本书第15页（位于第1章中）。在本算法中的实现则在第18页（也就是我写书评的这一页）。
</span>
                <p class="pl">
                  <span class="">2016-02-11 15:36</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                本章讲的是stop the world（让世界停止）的“标记-清扫”垃圾回收算法。<div style="padding-bottom:1em;"></div>垃圾的定义是，通过根（全局引用、线程本地引用和调用栈上的局部引用等等）无法直接或间接到达的对象。<div style="padding-bottom:1em;"></div>和引用计数算法不同，“标记-清扫”算法不会在垃圾产生时，立即发现垃圾。<div style="padding-bottom:1em;"></div>New/Read/Write操作的定义在本书第15页（位于第1章中）。在本算法中的实现则在第18页（也就是我写书评的这一页）。

                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/37162236/#comments">回应</a>&nbsp;&nbsp;
                  2016-02-11 15:36
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="37162372">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/37162372/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/37162372/" class="">第19页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="37162372">
              <div class="short">
                
                  <span class="">算法2.2例出了mark-sweep的基本逻辑：它是一个广度优先遍历指针图，并为对象地址做标记的算法。
广度优先遍历的好处之一是，不需要用递归算法。但是，每次遍历都需要一个列表来保存下一轮需要访问的结点。每次访问新结点时，都需要把它加到这个列表中。这个列表可能会变得很长。

另外，指针所构成的图中可能有环。它是通过检查是否已被标记（mark）来避免走进环的。

标记本身可能需要占用额外空间。但在某些情况下，只需要..</span>
                <p class="pl">
                  <span class="">2016-02-11 15:52</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                算法2.2例出了mark-sweep的基本逻辑：它是一个广度优先遍历指针图，并为对象地址做标记的算法。<div style="padding-bottom:1em;"></div>广度优先遍历的好处之一是，不需要用递归算法。但是，每次遍历都需要一个列表来保存下一轮需要访问的结点。每次访问新结点时，都需要把它加到这个列表中。这个列表可能会变得很长。<div style="padding-bottom:1em;"></div>另外，指针所构成的图中可能有环。它是通过检查是否已被标记（mark）来避免走进环的。<div style="padding-bottom:1em;"></div>标记本身可能需要占用额外空间。但在某些情况下，只需要在对象头中保留一个“标记”位就可以了，不需要另外动态分配内存。

                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/37162372/#comments">回应</a>&nbsp;&nbsp;
                  2016-02-11 15:52
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_time"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="43839743">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43839743/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43839743/" class="">第41页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43839743">
              <div class="short">
                
                  <span class="">（继上页）这两点考量在某些环境下可能都是重要因素，比如内存很紧张，或者运行时系统无法为引用提供精确的（目标对象的——范德成注）类型标识（参见第11.2节）。 作为一个非移动式收集器，“标记-清扫”会受内存碎片化的影响。通过一种吝啬的分配策略，例如“顺序匹配”（sequential-fit；参见第7.4节），可以减少碎片化成为真正问题的可能，前提是应用程序不分配很多大型对象，并且对象的大小不经常变化。然而，在一个长时间...</span>
                <p class="pl">
                  <span class="">2017-05-10 23:23</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>（继上页）这两点考量在某些环境下可能都是重要因素，比如内存很紧张，或者运行时系统无法为引用提供精确的（目标对象的——范德成注）类型标识（参见第11.2节）。</p><p>作为一个非移动式收集器，“标记-清扫”会受内存碎片化的影响。通过一种吝啬的分配策略，例如“顺序匹配”（sequential-fit；参见第7.4节），可以减少碎片化成为真正问题的可能，前提是应用程序不分配很多大型对象，并且对象的大小不经常变化。然而，在一个长时间运行的应用程序中，用一个通用的非移动式分配器分配许多种类的对象的情况下，碎片化自然容易成为一个问题。出于这个原因，绝大多数Java虚拟机使用的都是能把堆紧缩起来的移动式收集器。</p><p>紧缩的吞吐量成本</p><p>在紧缩堆中做顺序分配是很快的操作。相对于可用的内存，如果堆占据了里面大部分空间，那么“标记-紧缩”就是一种合适的移动式收集策略。它的内存需求是复制式收集器的一半。相比许多其他的复制类算法，“压缩器”类的算法更容易在收集器的多线程中使用（我们将在第14章中分析）。当然，紧缩是有代价的。“标记-紧缩”收集通常会比“标记-清扫”或复制收集速度慢。而且，许多紧缩算法会在客户程序（mutator）上引入额外的开销或附加更多的限制。</p><p>“标记-紧缩”算法之所以提供的吞吐量不及“标记-清扫”或复制式垃圾收集，主要是因为它们倾向于在堆中的对象上跑更多的遍数。“压缩器”是一个例外。紧缩式收集的每一遍都会比较昂贵，部分原因是许多紧缩式收集器要求访问类型信息和对象的指针域，而这些因素容易成为在“指针追踪”步骤之后主要的成本，就像我们在第2章见到的那样。一种通用的解决方案是，只要可能，就一直运行“标记-清扫”收集，直到碎片化度量结果显示“标记-紧缩”收集更经济时，再切换到“标记-紧缩”收集。</p><p>长寿命的数据</p><p>在移动式收集器中，一种常见现象是，堆的头部积累了一些长久乃至永久存活的数据。对于这些对象，复制式收集器的处理会比较糟糕，反复地将它们从一个半空间复制到另一个半空间。另一方面，多代式收集器（我们将在第9章介绍它们）对它们的处理就比较好，它们会被移动到另一个不被频繁收集的空间中。然而，当堆空间紧张时，多代式解决方案可能不是一个可接受的解决方案。而且，当收集多代中的最老的一代时，显然也无法再进一步分成多代来处理了。此时，“标记-紧缩”只需要简单地让无法被收集的对象被自然地“推举”到这一“沉积区（sediment）”中即可。Hanson [1977] 是发现该现象的第一个人，他在他的SITBOL系统中发现，这些对象容易在“临时对象区（transient object area）”的底部积累。他的解决方案是，动态地跟踪这个“沉积区”的高度，并避免收集该区域，除非实在必要（范德成注：也就是不收集其中的少量已“死亡”的对象，即使这样的对象存在；这样做的好处是不会因为其中少量对象的回收就移动其后的大量对象）；其代价是少量内存碎片。昇阳微系统（Sun Microsystems）公司的HotSpot（热点）Java虚拟机将“标记-紧缩”作为它最老一代对象的默认收集器。它也避免紧缩堆中的“密集前缀（dense prefix）”中的对象，该“密集前缀”是可配置的 [Sun Microsystems, 2006]。如果使用了位图收集，那么通过检查位图就能确定出满足密度为期望值的存活前缀的大小。</p><p>局域性（Locality）</p><p>“标记-紧缩”收集器既可能保留对象在堆上的分配顺序，也可能以任意（arbitrary）顺序重新组织它们。尽管任意顺序收集器（arbitrary order collector）可能比其他的“标记-紧缩”收集器更快，也不需要额外空间，但客户程序的局域性很容易受这种任意拨乱对象顺序的影响。（未完待续）</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43839743/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-10 23:23
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="43661853">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43661853/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43661853/" class="">第40页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43661853">
              <div class="short">
                
                  <span class="">算法3.4——压缩器 compact(): computeLocations(HeapStart, HeapEnd, HeapStart) // 范德成注：第三个参数也设为HeapStart，是因为我们 // 要在同一个空间内做紧缩；如果该算法用于并行的目 // 的，那么这个参数也可以是另一个区域的地址 updateReferencesRelocate(HeapStart, HeapEnd) computeLocations(start, end, toRegion): loc &lt;- toRegion block &lt;- getBlockNum(start) for b &lt;- 0 to numBits(start, end) - 1...</span>
                <p class="pl">
                  <span class="">2017-05-06 08:43</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>算法3.4——压缩器</p><p></p><p>compact():</p><p>    computeLocations(HeapStart, HeapEnd, HeapStart) // 范德成注：第三个参数也设为HeapStart，是因为我们</p><p>                                                    // 要在同一个空间内做紧缩；如果该算法用于并行的目</p><p>                                                    // 的，那么这个参数也可以是另一个区域的地址</p><p>    updateReferencesRelocate(HeapStart, HeapEnd)</p><p></p><p>computeLocations(start, end, toRegion):</p><p>    loc &lt;- toRegion</p><p>    block &lt;- getBlockNum(start)</p><p>    for b &lt;- 0 to numBits(start, end) - 1</p><p>        if b % BITS_IN_BLOCK = 0 // 跨越了块边界</p><p>            offset[block] &lt;- loc // 第一个对象将被移动到位置loc</p><p>            block &lt;- block + 1</p><p>        if bitmap[b] = MARKED</p><p>            loc &lt;- loc + bytesMarked(b) // loc &lt;- loc + BYTES_PER_BIT</p><p>                                        // 以存活对象的大小来递增（范德</p><p>                                        // 成：这有些看不懂，所以把原来</p><p>                                        // 的代码改得更容易理解了）</p><p></p><p>newAddress(old):</p><p>    block &lt;- getBlockNum(old)</p><p>    return offset[block] + offsetInBlock(old) // 范德成注：offsetInBlock</p><p>                                              // 可以用bitmap（标记位</p><p>                                              // 图）来计算得到</p><p></p><p>updateReferencesRelocate(start, end):</p><p>    for each fld in Roots:</p><p>        ref &lt;- *fld</p><p>        if ref != null</p><p>            *fld &lt;- newAddress(ref)</p><p>    scan &lt;- start</p><p>    while scan &lt; end</p><p>        scan &lt;- nextMarkedObject(scan) // 利用标记位图</p><p>        for each fld in Pointers(scan) // 更新引用</p><p>            ref &lt;- *fld</p><p>            if ref != null</p><p>                *fld &lt;- newAddress(ref)</p><p>        dest &lt;- newAddress(scan)</p><p>        move(scan, dest)</p><p></p><p>（继上页最后一段）offset向量提供了该块中第一个对象的前进地址。“压缩器”接着需要查询那个块所对应的位图，以发现在该块中有多少存活数据在所要重定位的对象前面，再把这个值加上首对象的偏移量即可。整个操作可以用表查找操作（table lookup）在常数时间内完成（范德成注：计算块内位于对象前的数据量所需的平均时间和块大小成正比，但在这里，块大小被看作常数）。例如，图中的old对象在它块中的偏移量为3，所以它被移动到槽10：offset[block] = 7加上offsetInBlock(old) = 3。</p><p></p><p>3.5 要考虑的问题</p><p></p><p>紧缩操作是否必要？</p><p></p><p>“标记-清扫”垃圾收集使用的内存少于其他技术的内存使用，例如复制收集（我们将在下一章讨论它）。另外，由于它不移动对象的缘故，“标记-清扫”垃圾收集器只需要识别出收集的根（或更多）即可，而不需要修改它们。（下页继续）</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43661853/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-06 08:43
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="43581277">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/43581277/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/43581277/" class="">第39页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="43581277">
              <div class="short">
                
                  <span class="">Kermany和Petrank的垃圾收集算法其实是并行的，但是，这个并行的特质可以放到后面再来理解，因为本书的组织上就是把并行放在后面的。在这里，我们着重观察的是它的紧缩行为。 在书里面，图3.3表示出了Kermany和Petrank的“压缩器”（Compressor）技术的堆和它的元数据。标记位向量（mark-bit vector）中的位表示了每个存活对象的起始和结束位置（范德成注：每个比特对应堆中的一个字）。偏移量向量（offset vector）中的字（wor...</span>
                <p class="pl">
                  <span class="">2017-05-03 22:08</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>Kermany和Petrank的垃圾收集算法其实是并行的，但是，这个并行的特质可以放到后面再来理解，因为本书的组织上就是把并行放在后面的。在这里，我们着重观察的是它的紧缩行为。</p><p>在书里面，图3.3表示出了Kermany和Petrank的“压缩器”（Compressor）技术的堆和它的元数据。标记位向量（mark-bit vector）中的位表示了每个存活对象的起始和结束位置（范德成注：每个比特对应堆中的一个字）。偏移量向量（offset vector）中的字（word；在32位x86平台上应该是一个DWORD，因为它需要能表示一个指针）里面是一个地址，它是（每个块中——范德成注）第一个存活对象将要被移动到的地址。前进地址（forwarding address）没有被存储下来，而是在需要时，从偏移量和标记位向量计算得到。</p><p>范德成注：我想指出一点，图3.3中块2（block 2）中的三个存活对象都显得只有一个字的大小。我怀疑这么小的对象在Kermany和Petrank的“压缩器”中是否允许存在。因为每个对象的首末字节都由标记向量中的位来表示，那么一个对象至少应该有两个字大小，否则就无法确定这个对象的尾部到底在哪里了。</p><p>图下面的一段（续第38页）：第二，一个表被用来保存前进地址（应该指的是偏移量向量表——范德成注）。为每个对象都保存前进地址会非常昂贵（特别是当我们假定对象是对齐到字的时候），所以这两个算法都把堆分割成固定大小的块（256或512字节）。偏移量表（offset table）保存着每个块中第一个存活对象的前进地址（forwarding address）。一个块中其余存活对象的前进地址可以在需要时根据偏移量和标记位向量计算得到。类似地，给出一个指向对象的引用，我们就能计算出它的块号，从而从偏移量表和该块的所有标记位中得到它的前进地址。这样做允许这两个算法将（遍历整个堆重定位对象并更新指针的）多遍处理替换成两遍，第一遍根据标记位向量构造偏移量向量，第二遍（在标记过程之后）遍历堆，通过查询这些包含汇总信息的向量来移动对象并更新引用。减少堆的遍历次数有着局域性（locality）上的优势。让我们以算法3.4为代表，观察它们的细节。</p><p>书中提到了这些算法与Lisp 2算法的相似性。Lisp 2算法在标记完成后，也是去计算存活对象的目标位置。但不同的是，Lisp 2算法会把找到的对象目标位置写入对象头部的前进地址（forwarding address）域中。在计算完目标地址后，先更新引用，然后重定位存活对象。这样在标记后处理的遍数是三遍，本页后面解释了为什么不能把更新引用和移动并在一遍进行。局域性方面，虽然Lisp 2算法在更新引用时是需要随机访问的，但是“压缩器”算法所使用的标记位和偏移量向量也是要被随机访问的。</p><p>本页第二段，在标记过程完成后，computeLocations例程遍历整个标记位向量来计算出offset（偏移量）向量。本质上，它执行的计算和Lisp 2（算法3.2）相同，但不需要修改任何堆中的对象。例如，考虑块2（范德成注：数组的下标从0开始，和C语言一样）中第一个被标记的对象，它在图3.3中被显示为带粗框的样子。在第一个块（块0）中，位2、3、6和7都被设置，在第二个块（块1）中的位3和5也是（本例中每个块有8个槽）。这表示了，在位图中，块2（第三个块）的第一个存活对象前有7个被标记的字（粒度大小）。于是，块2的第一个存活对象将被放置在堆中第七个槽的位置。该地址将被记录为offset向量中该块的数据（参见图中带有“offset[block]”标记的箭头）。</p><p>一旦offset向量被计算完成，接着就会更新根和存活的域（应该指的是指向存活对象的引用——范德成注）以反映出新的位置。Lisp 2算法不得不将更新引用和移动对象的过程分隔开，因为重定位信息是保存在堆上的，移动对象的过程中，当旧对象被新对象覆盖时，旧对象的前进地址就会被覆盖。相反地，“压缩器（Compressor）”类型的算法可以一遍完成重定位对象和更新引用两个操作，见算法3.4中的updateReferencesRelocate。这样做之所以可行，是因为新地址可以以足够快的速度从标记位图和offset向量中计算出来；“压缩器”不需要在堆中保存前进地址。给出堆中任意对象的地址，newAddress函数获取它的块号（通过移位和掩码操作），并利用该块号来索引offset向量。</p><p></p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/43581277/#comments">回应</a>&nbsp;&nbsp;
                  2017-05-03 22:08
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="42815678">
        <div class="ilst">
          <a href="https://www.douban.com/people/2479191/"><img src="https://img1.doubanio.com/icon/user_normal.jpg" alt="范德蛙" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/42815678/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/42815678/" class="">第38页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/2479191/" class=" " title="范德蛙">范德蛙</a>
                (Decheng (Robbie) Fan)
              
            </p>
            <div class="reading-note" data-cid="42815678">
              <div class="short">
                
                  <span class="">本页第一段继上一页讨论算法的设计。因为我在前一页的笔记里已经写了关于这个算法的解释了，本页的笔记跳过对这一段的讨论，进入下一段。 书中说，该算法最大的优势是不需要额外空间，尽管它要求对象头部至少能容纳得下一个指针（而且还要能和正常的数值区分开来）。但是，这类线索化算法有好几个缺点。首先，它们需要修改存活对象的指针域两次，一次用于线索化，另一次用于反线索化并更新引用。线索化操作要求跟踪指针所指的内...</span>
                <p class="pl">
                  <span class="">2017-04-02 23:34</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <p>本页第一段继上一页讨论算法的设计。因为我在前一页的笔记里已经写了关于这个算法的解释了，本页的笔记跳过对这一段的讨论，进入下一段。</p><p>书中说，该算法最大的优势是不需要额外空间，尽管它要求对象头部至少能容纳得下一个指针（而且还要能和正常的数值区分开来）。但是，这类线索化算法有好几个缺点。首先，它们需要修改存活对象的指针域两次，一次用于线索化，另一次用于反线索化并更新引用。线索化操作要求跟踪指针所指的内容，所以和标记过程一样是对缓存不友好的，而且这种操作在Jonkers的算法中要做三遍（标记、线索化和反线索化）。Martin [1982] 声称将标记操作和第一遍紧缩操作合并起来能节省1/3的时间，但这里的时间节省只是针对跟踪指针和修改指针域的时间（范德成注：仍不能通过利用缓存来大幅降低时间开销）。由于Jonkers的算法修改指针的方式是破坏式的（范德成注：也就是在修改到一半的时候，数据是不一致的），所以它天生就是顺序式的，无法用于并发式紧缩。以图3.2b为例，一旦指向N的引用都被线索化了，就无法发现B的第一个指针域曾经包含一个指向N的引用（除非那个指针被保存在链条的尾部，例如，保存在A的头部中的另一个空槽中，但这样会抵消该算法原本的“避免占用额外空间”的目标）。最后，Jonkers算法不支持指向对象内部的指针（interior pointer），而这样的指针对某些环境来说却很重要。然而，Morris [1982] 的线索化紧缩器能支持指向对象内部的指针（interior pointer），代价是每个（引用）域都需要一个额外的标签位，而且第二遍的紧缩过程必须与第一遍方向相反（这向堆的解析方法提出了新的要求）。</p><p>第3.4节开始于本页，标题是One-pass algorithms，介绍的是一遍式算法。</p><p>如果我们想要让平移式收集器在堆上的处理遍数减少到两遍（一遍用于标记，另一遍用于将对象平移），同时又避免线索化的（性能）开销，那么我们必须在另一个表（边表，side table，类似于在一本书的某一页边上的空白中记一些笔记，所以叫“边表”）中保存前进地址（forwarding address，表示对象将被平移到的地址）。该表在整个紧缩过程中都被保存着。Abuadiah等人（2004）、Kermany和Petrank（2006）都设计过用于多处理器的高性能“标记-紧缩”算法。前者是个并行的“让世界停止（stop-the-world）”算法（它采用了多个紧缩线程）。后者还可以被配置为并发的（允许客户程序 [mutator] 线程和收集器线程同时运行）、增量的（周期性地短暂挂起客户程序线程来完成少量的、原子性的紧缩工作）。我们在后面的几章中讨论这些算法的并行、并发和增量特性。在这里，我们在“让世界停下”场景下，关注其核心的紧缩算法。</p><p>这两个算法都用到几个“边表”或“边向量”。和很多收集器一样，标记阶段使用一个位图，其中的每个位表示一个单位空间（比如一个字 [word]）。标记操作按照每个存活对象的头和尾的位置来设置这些位。例如，在图3.3中，第16位和第19位被设置，用来表示标记为“old”的对象。通过在紧缩阶段查询标记位图，收集器可以计算出任意存活对象的大小。</p>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/42815678/#comments">回应</a>&nbsp;&nbsp;
                  2017-04-02 23:34
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

    </div>
      <div class="ft">
        <p class="trr">&gt; <a href="https://book.douban.com/subject/6809987/annotation">更多读书笔记（共31篇）</a></p>
      </div>

</div>



<script type="text/javascript">
  $(document).ready(function(){
    var TEMPL_ADD_COL = '<a href="" id="n-{NOTE_ID}" class="colbutt ll add-col"><span>收藏</span></a>',
      TEMPL_DEL_COL = '<span class="pl">已收藏 &gt;<a href="" id="n-{NOTE_ID}" class="del-col">取消收藏</a></span>';

    $('body').delegate('.add-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_add = $(this);
      $.post_withck("/j/book/annotation_collect",{nid:nnid},function(){
        var a = $(TEMPL_DEL_COL.replace('{NOTE_ID}', nnid));
        bn_add.before(a);
        bn_add.remove();
      })
    });

    $('body').delegate('.del-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_del = $(this).parent();
      $.post_withck("/j/book/annotation_uncollect", {nid: nnid}, function() {
        var a = $(TEMPL_ADD_COL.replace('{NOTE_ID}', nnid));
        bn_del.before(a);
        bn_del.remove();
      })
    });

    $("pre.source").each(function(){
      var cn = $(this).attr('class').split(' ');
      l = cn[1];
      s = 'rand01';
      n = cn[2];
      $(this).snippet(n,{style: s, showNum: l});
    });

    var annotationMod = $('.reading-notes .bd')
      , annotationTabs = annotationMod.find('.inline-tabs li')
      , annotationTabLinks = annotationTabs.find('a')
      , annotationTabContents = annotationMod.find('ul.comments');

    annotationTabLinks.click(function(e){
      e.preventDefault();
      var el = $(this)
        , kind = el.attr('id');

      annotationTabs.removeClass('on');
      el.parent().addClass('on');
      annotationTabContents.hide();
      annotationTabContents.filter('.' + kind).show();
    });
  });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
	jax: ["input/TeX", "output/HTML-CSS"],
    extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js","TeX/noUndefined.js"],
    tex2jax: {
		inlineMath: [ ["($", "$)"], ['\\(','\\)'] ],
		displayMath: [ ["($$","$$)"], ['\\[','\\]']],
		skipTags: ["script","noscript","style","textarea"],
		processEscapes: true,
		processEnvironments: true,
		preview: "TeX"
	},
	showProcessingMessages: false
  });
</script>


  






<div id="db-discussion-section" class="indent ugc-mod">




        
  

  <h2>
    <span class="">论坛</span>
      ······

  </h2>



        
<table class="olt"><tr><td><td><td><td></tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/6809987/discussion/50576927/" title="有愿意出的联系我，高价收" class="">有愿意出的联系我，高价收</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/2313960/">剑乙</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2012-11-29</span></td>
        </tr>
</table>




</div>




</div>
<script type="text/javascript">
$(function(){if($.browser.msie && $.browser.version == 6.0){
    var maxWidth = parseInt($('#info').css('max-width'));
    if($('#info').width() > maxWidth)
        $('#info').width(maxWidth)
}});
</script>
</div>
      <div class="aside">
        
  
  






  <div id="dale_book_subject_top_right"></div>

  






<style type="text/css" media="screen">
  .add2cartContainer{overflow:hidden;vertical-align:bottom;line-height:1}.add2cartContainer .add2cart{margin-right:0;display:inline-block}#buyinfo .bs{margin:0}#buyinfo li{padding:10px 0;position:relative;line-height:1;border-bottom:1px solid #eaeaea}#buyinfo li a:hover{background-image:none !important}#buyinfo li a:hover .buylink-price{background:#37a}#buyinfo li .publish,#buyinfo li .other-activity{margin-top:5px}#buyinfo li .publish a,#buyinfo li .other-activity a{color:#999}#buyinfo li .publish a:hover,#buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#buyinfo .more-info{color:#aaa;margin:6px 0 -2px 0}#buyinfo .more-ebooks{padding:10px 0;color:#37a;cursor:pointer}#buyinfo .price-page{border-bottom:0;padding:15px 0 0}#buyinfo .saved-price{display:none;margin-left:5px}#buyinfo .cart-tip{float:right;padding-right:5px}#buyinfo #buyinfo-ebook{margin-bottom:15px}#buyinfo #buyinfo-ebook .buylink-price{display:inline}#buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed{margin-bottom:15px}#buyinfo-printed.no-border{border-bottom:0}#buyinfo-printed .more-ebooks{line-height:1;padding:10px 0;color:#37a;cursor:pointer;padding:10px 0 0}#buyinfo-report{display:none}#buyinfo-report .lnk-close-report{float:right;margin-top:-30px;line-height:14px}#buyinfo-report .item{margin-bottom:10px}#buyinfo-report .item input{vertical-align:text-bottom;*vertical-align:middle}#buyinfo-report .item label{margin:0 5px 0 2px}#buyinfo-report .item-submit .bn-flat{margin-right:10px}#buyinfo-report .item-price input{width:220px;border:1px solid #ccc;padding:4px}#buyinfo-report form{margin:5px 0 10px}#bi-report-btn{float:right;margin:2px 0;line-height:14px;display:none}.bi-vendor-report{color:#aaa}.bi-vendor-report-form{display:none;color:#111;margin:0 5px;line-height:25px}.gray_ad{padding:30px 20px 25px 20px;background:#f6f6f1}.gray_ad h2{margin-bottom:6px;font-size:15px}.gray_ad .ebook-tag{margin-top:5px;color:#999;font-size:12px}.bs.more-after{margin-bottom:0px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){#buyinfo li a:hover{background-image:url(https://img3.doubanio.com/f/book/fc4ff7f0a3a7f452f06d586540284b9738f2fe87/pics/book/cart/icon-brown@2x.png);background-size:16px 12px}}#intervenor-buyinfo .bs{margin:0}#intervenor-buyinfo li{position:relative;border-bottom:1px solid #eaeaea;padding:10px 0;line-height:1}#intervenor-buyinfo li .basic-info{color:#494949;font-size:14px;line-height:18px}#intervenor-buyinfo li a:hover .comment{color:#f67;opacity:0.75;filter:alpha(opacity=75)}#intervenor-buyinfo li a:hover .buy-btn{background:#fff;border:1px solid #e97e7e;border-radius:2px;color:#e97e7e}#intervenor-buyinfo li a:hover .buylink-price{background:#37a}#intervenor-buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#intervenor-buyinfo li .publish,#intervenor-buyinfo li .other-activity{margin-top:5px}#intervenor-buyinfo li .publish a,#intervenor-buyinfo li .other-activity a{color:#999}#intervenor-buyinfo li .publish a:hover,#intervenor-buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#intervenor-buyinfo .jd-buy-icon{float:left;margin-right:3px}#intervenor-buyinfo .buy-btn{float:right;position:absolute;right:10px;bottom:3px;color:#9c9c9c;padding:0 12px;border:1px solid transparent}#intervenor-buyinfo .comment{color:#FF8C9C;margin:6px 0 -2px 0}#intervenor-buyinfo .price-page a{display:inline-block;line-height:16px !important}#intervenor-buyinfo .price-page{border-bottom:0;padding:15px 0 0}#intervenor-buyinfo .saved-price{display:none;margin-left:5px}#intervenor-buyinfo .cart-tip{float:right;padding-right:5px}#intervenor-buyinfo #buyinfo-ebook{margin-bottom:15px}#intervenor-buyinfo #buyinfo-ebook .buylink-price{display:inline}#intervenor-buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed .presale-indicator{margin:0;color:#999;text-indent:0;background:none}

</style>

      <div class="gray_ad" id="buyinfo">
      <div id="buyinfo-printed" class="no-border">
        
  

  <h2>
    <span class="">其他版本有售</span>
      ······

  </h2>


        <ul class="bs noline">
            
              <li class="">
                  
                  <a target="_blank" href="https://book.douban.com/link2/?pre=0&amp;vendor=jingdong&amp;srcpage=subject&amp;price=10980&amp;pos=1&amp;url=http%3A%2F%2Funion-click.jd.com%2Fjdc%3Fe%3D%26p%3DAyIOZR5aEQISA1AYUyUCEg5cHV8cBSJDCkMFSjJLQhBaUAscSkIBR0ROVw1VC0dFFQIbDlMfUhIdS0IJRmsdQk1yJn5cSmFKW1dYA3VJRmAgWwN1Dh43Uh5cEwUbBFIrWxEDFgNlK1sUMkBpja3tzaejG4Gx1MCKhTdUK1sQCxsDUBpcFAURBlYrXCXbkrCDucnMnJjS3YxrJTIi%26t%3DW1dCFBBFC1pXUwkEAEAdQFkJBVsVCxsBURJcCltXWwg%253D&amp;srcsubj=6809987&amp;type=bkbuy&amp;subject=26740958">
                    京东商城
                  </a>
                  <a class="buylink-price" target="_blank" href="https://book.douban.com/link2/?pre=0&amp;vendor=jingdong&amp;srcpage=subject&amp;price=10980&amp;pos=1&amp;url=http%3A%2F%2Funion-click.jd.com%2Fjdc%3Fe%3D%26p%3DAyIOZR5aEQISA1AYUyUCEg5cHV8cBSJDCkMFSjJLQhBaUAscSkIBR0ROVw1VC0dFFQIbDlMfUhIdS0IJRmsdQk1yJn5cSmFKW1dYA3VJRmAgWwN1Dh43Uh5cEwUbBFIrWxEDFgNlK1sUMkBpja3tzaejG4Gx1MCKhTdUK1sQCxsDUBpcFAURBlYrXCXbkrCDucnMnJjS3YxrJTIi%26t%3DW1dCFBBFC1pXUwkEAEAdQFkJBVsVCxsBURJcCltXWwg%253D&amp;srcsubj=6809987&amp;type=bkbuy&amp;subject=26740958">
                    <span class=""> 109.80 元</span>
                  </a>
                  <p class="publish">
                    <a href="https://book.douban.com/subject/26740958/" onclick="moreurl(this,{buylink:'other'})"
                    class=" ">机械工业出版社版</a>
                  </p>
                </li>
        </ul>
      </div>
      
  <div class="add2cartContainer ft no-border">
    
  <span class="add2cartWidget ll">
      <a class="j  add2cart a_show_login" href="https://www.douban.com/register?reason=addbook2cart" rel="nofollow">
        <span>+ 加入购书单</span></a>
  </span>
  

  </div>

  </div>
  <script type="text/javascript">
  $('.more-ebooks').on('click', function() {
    var $this = $(this),
      $li = $this.siblings('ul').find('li');
    if ($this.hasClass('isShow')) {
      $(this).text('展开更多').removeClass('isShow');
      $li.not(':first').addClass('hide');
    }else{
      $(this).text('收起').addClass('isShow');
      $li.removeClass('hide');
    }
    
  })
  </script>

<style class="text/css">
  .presale-indicator {
  display: inline-block;
  *display: inline;
  *zoom: 1;
  height: 15px;
  line-height: 15px;
  background: url(https://img3.doubanio.com/f/book/1679c65572eac1371f9872807199dea6e55a7f06/pics/book/cart/presale_text.gif) no-repeat;
  text-indent: -9999px;
  vertical-align: middle;
  *vertical-align: 0px;
  _vertical-align: 2px;
  margin-left: 0.5em;
}

</style>



  





<div class="gray_ad" id="borrowinfo">
  
  

  <h2>
    <span class="">在哪儿借这本书</span>
      ······

  </h2>


  <ul class="bs more-after">
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fipac.library.sh.cn%2Fipac20%2Fipac.jsp%3Faspect%3Dbasic_search%26profile%3Dsl%26index%3DISBN%26term%3D9781420082791&amp;subject=1420082795&amp;type=borrow&amp;library=10001&amp;link2key=734406d4dc" target="_blank">上海图书馆(1)</a>
      </li>
  </ul>
  <div class="clearfix"></div>
  <!--<div class="ft pl">-->
    <!--<a class="rr"  href="https://book.douban.com/library_invitation">&gt; 图书馆合作</a>-->
    <!--找不到你需要的图书馆？-->
  <!--</div>-->
</div>

  <div id="dale_book_subject_top_middle"></div>
  





  

  
  

  <h2>
    <span class="">这本书的其他版本 </span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/works/1080208">全部2</a>
        ) </span>

  </h2>


  <div class="indent">
    <ul>
        <li class="mb8 pl">
          <a href="https://book.douban.com/subject/26740958/">机械工业出版社版</a>
          2016-3 / 12人读过 / 有售
        </li>
    </ul>
  </div>


  



      
  

  <h2>
    <span class="">以下豆列推荐</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/6809987/doulists">全部</a>
        ) </span>

  </h2>


    <div id="db-doulist-section" class="indent">
      <ul class="bs">
          <li class=""><a class="" href="https://www.douban.com/doulist/2545443/" target="_blank">从表到里学习JVM实现</a>
                <span class="pl">(RednaxelaFX)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/232030/" target="_blank">Java修炼之道</a>
                <span class="pl">(威廉他)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/2529397/" target="_blank">[Garbage Collection][垃圾回收][自动无用内存单元回收]相关读物</a>
                <span class="pl">(RednaxelaFX)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/1764214/" target="_blank">Big Data &amp; Business Intelligence</a>
                <span class="pl">(Jule)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/1472929/" target="_blank">遊戲編程: 其他參考</a>
                <span class="pl">(Milo)</span>
            </li>
      </ul>
    </div>

  <div id="dale_book_subject_middle_mini"></div>
  






  <h2>谁读这本书?</h2>
  <div class="indent" id="collector">

    

<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/codepiano/"><img src="https://img3.doubanio.com/icon/u2560922-2.jpg" class="pil" alt="codepiano" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/codepiano/">codepiano</a><br/>
      <div class="pl ll">          今天凌晨          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/2291546/"><img src="https://img3.doubanio.com/icon/u2291546-10.jpg" class="pil" alt="阿守" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/2291546/">阿守</a><br/>
      <div class="pl ll">          1月12日          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/69545209/"><img src="https://img3.doubanio.com/icon/u69545209-2.jpg" class="pil" alt="reverse" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/69545209/">reverse</a><br/>
      <div class="pl ll">          1月4日          想读      </div>

      <br/>

      <span class="pl">tags:计算机</span><br />

    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/2514822/"><img src="https://img3.doubanio.com/icon/u2514822-2.jpg" class="pil" alt="宾阳玦" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/2514822/">宾阳玦</a><br/>
      <div class="pl ll">          2017年12月30日          想读      </div>

      <br/>

      <span class="pl">tags:GC</span><br />

    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>


        <p class="pl">&gt; <a href="https://book.douban.com/subject/6809987/doings">22人在读</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/6809987/collections">10人读过</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/6809987/wishes">448人想读</a></p>

  </div>





  
<!-- douban ad begin -->
<div id="dale_book_subject_middle_right"></div>
<script type="text/javascript">
    (function (global) {
        if(!document.getElementsByClassName) {
            document.getElementsByClassName = function(className) {
                return this.querySelectorAll("." + className);
            };
            Element.prototype.getElementsByClassName = document.getElementsByClassName;

        }
        var articles = global.document.getElementsByClassName('article'),
            asides = global.document.getElementsByClassName('aside');

        if (articles.length > 0 && asides.length > 0 && articles[0].offsetHeight >= asides[0].offsetHeight) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_middle_right');
        }
    })(this);
</script>
<!-- douban ad end -->

  





  

  <h2>二手市场</h2>
  <div class="indent">
    <ul class="bs">
    <li class="">
          <a class="rr j a_show_login" href="https://www.douban.com/register?reason=secondhand-offer&amp;cat=book"><span>&gt; 点这儿转让</span></a>

        有448人想读,手里有一本闲着?
      </li>
    </ul>
  </div>

  
<p class="pl">订阅关于The Garbage Collection Handbook的评论: <br/><span class="feed">
    <a href="https://book.douban.com/feed/subject/6809987/reviews"> feed: rss 2.0</a></span></p>


      </div>
      <div class="extra">
        
  
<!-- douban ad begin -->
<div id="dale_book_subject_bottom_super_banner"></div>
<script type="text/javascript">
    (function (global) {
        var body = global.document.body,
            html = global.document.documentElement;

        var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
        if (height >= 2000) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_bottom_super_banner');
        }
    })(this);
</script>
<!-- douban ad end -->


      </div>
    </div>
  </div>

        
<div id="footer">

<span id="icp" class="fleft gray-link">
    &copy; 2005－2018 douban.com, all rights reserved 北京豆网科技有限公司
</span>

<a href="https://www.douban.com/hnypt/variformcyst.py" style="display: none;"></a>

<span class="fright">
    <a href="https://www.douban.com/about">关于豆瓣</a>
    · <a href="https://www.douban.com/jobs">在豆瓣工作</a>
    · <a href="https://www.douban.com/about?topic=contactus">联系我们</a>
    · <a href="https://www.douban.com/about?policy=disclaimer">免责声明</a>
    
    · <a href="https://help.douban.com/?app=book" target="_blank">帮助中心</a>
    · <a href="https://book.douban.com/library_invitation">图书馆合作</a>
    · <a href="https://www.douban.com/doubanapp/">移动应用</a>
    · <a href="https://www.douban.com/partner/">豆瓣广告</a>
</span>

</div>

    </div>
      
  

    <script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/b93d8ec8cf50308.js"></script>
    <!-- mako -->
    
  








    
<script type="text/javascript">
    (function (global) {
        var newNode = global.document.createElement('script'),
            existingNode = global.document.getElementsByTagName('script')[0],
            adSource = '//erebor.douban.com/',
            userId = '',
            browserId = 'OfDzZSwbxvY',
            criteria = '7:GC|7:JVM|7:垃圾收集|7:虚拟机|7:Java|7:计算机|7:计算机科学|7:编译原理|7:VM|7:计算机语言|3:/subject/6809987/',
            preview = '',
            debug = false,
            adSlots = ['dale_book_subject_top_icon', 'dale_book_subject_top_right', 'dale_book_subject_top_middle', 'dale_book_subject_middle_mini'];

        global.DoubanAdRequest = {src: adSource, uid: userId, bid: browserId, crtr: criteria, prv: preview, debug: debug};
        global.DoubanAdSlots = (global.DoubanAdSlots || []).concat(adSlots);

        newNode.setAttribute('type', 'text/javascript');
        newNode.setAttribute('src', 'https://img3.doubanio.com/f/adjs/d59867ddbe8a25645584b467a58a41cbd672c9be/ad.release.js');
        newNode.setAttribute('async', true);
        existingNode.parentNode.insertBefore(newNode, existingNode);
    })(this);
</script>












    
  

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var p=(('https:' == document.location.protocol) ? 'https' : 'http'), u=p+'://fundin.douban.com/';
    _paq.push(['setTrackerUrl', u+'piwik']);
    _paq.push(['setSiteId', '100001']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; 
    g.type='text/javascript';
    g.defer=true; 
    g.async=true; 
    g.src=p+'://s.doubanio.com/dae/fundin/piwik.js';
    s.parentNode.insertBefore(g,s);
  })();
</script>

<script type="text/javascript">
var setMethodWithNs = function(namespace) {
  var ns = namespace ? namespace + '.' : ''
    , fn = function(string) {
        if(!ns) {return string}
        return ns + string
      }
  return fn
}

var gaWithNamespace = function(fn, namespace) {
  var method = setMethodWithNs(namespace)
  fn.call(this, method)
}

var _gaq = _gaq || []
  , accounts = [
      { id: 'UA-7019765-1', namespace: 'douban' }
    , { id: 'UA-7019765-16', namespace: '' }
    ]
  , gaInit = function(account) {
      gaWithNamespace(function(method) {
        gaInitFn.call(this, method, account)
      }, account.namespace)
    }
  , gaInitFn = function(method, account) {
      _gaq.push([method('_setAccount'), account.id])

      
  _gaq.push([method('_addOrganic'), 'google', 'q'])
  _gaq.push([method('_addOrganic'), 'baidu', 'wd'])
  _gaq.push([method('_addOrganic'), 'soso', 'w'])
  _gaq.push([method('_addOrganic'), 'youdao', 'q'])
  _gaq.push([method('_addOrganic'), 'so.360.cn', 'q'])
  _gaq.push([method('_addOrganic'), 'sogou', 'query'])
  if (account.namespace) {
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣'])
    _gaq.push([method('_addIgnoredOrganic'), 'douban'])
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣网'])
    _gaq.push([method('_addIgnoredOrganic'), 'www.douban.com'])
  }

      if (account.namespace === 'douban') {
        _gaq.push([method('_setDomainName'), '.douban.com'])
      }

        _gaq.push([method('_setCustomVar'), 1, 'responsive_view_mode', 'desktop', 3])

        _gaq.push([method('_setCustomVar'), 2, 'login_status', '0', 2]);

      _gaq.push([method('_trackPageview')])
    }

for(var i = 0, l = accounts.length; i < l; i++) {
  var account = accounts[i]
  gaInit(account)
}


;(function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
})()
</script>








    <!-- sindar7c-docker-->

</body>
</html>




































