

<!DOCTYPE html>
<html lang="zh-cmn-Hans" class="ua-windows ua-ie6 book-new-nav">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Win32多线程程序设计 (豆瓣)</title>
  
<script>!function(e){var o=function(o,n,t){var c,i,r=new Date;n=n||30,t=t||"/",r.setTime(r.getTime()+24*n*60*60*1e3),c="; expires="+r.toGMTString();for(i in o)e.cookie=i+"="+o[i]+c+"; path="+t},n=function(o){var n,t,c,i=o+"=",r=e.cookie.split(";");for(t=0,c=r.length;t<c;t++)if(n=r[t].replace(/^\s+|\s+$/g,""),0==n.indexOf(i))return n.substring(i.length,n.length).replace(/\"/g,"");return null},t=e.write,c={"douban.com":1,"douban.fm":1,"google.com":1,"google.cn":1,"googleapis.com":1,"gmaptiles.co.kr":1,"gstatic.com":1,"gstatic.cn":1,"google-analytics.com":1,"googleadservices.com":1},i=function(e,o){var n=new Image;n.onload=function(){},n.src="https://www.douban.com/j/except_report?kind=ra022&reason="+encodeURIComponent(e)+"&environment="+encodeURIComponent(o)},r=function(o){try{t.call(e,o)}catch(e){t(o)}},a=/<script.*?src\=["']?([^"'\s>]+)/gi,g=/http:\/\/(.+?)\.([^\/]+).+/i;e.writeln=e.write=function(e){var t,l=a.exec(e);return l&&(t=g.exec(l[1]))?c[t[2]]?void r(e):void("tqs"!==n("hj")&&(i(l[1],location.href),o({hj:"tqs"},1),setTimeout(function(){location.replace(location.href)},50))):void r(e)}}(document);
</script>

  
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="Sun, 6 Mar 2005 01:00:00 GMT">
  
<meta http-equiv="mobile-agent" content="format=html5; url=https://m.douban.com/book/subject/1231702/">
<meta name="keywords" content="Win32多线程程序设计,[美] Jim Beveridge,Robert Wiener,华中科技大学出版社,2002-1,简介,作者,书评,论坛,推荐,二手">
<meta name="description" content="图书Win32多线程程序设计 介绍、书评、论坛及推荐 ">

  <script>var _head_start = new Date();</script>
  
  <link href="https://img3.doubanio.com/f/book/c562010083631a8b5625ac07bc2a6e7e4466b6f6/css/book/master.css" rel="stylesheet" type="text/css">

  <link href="https://img3.doubanio.com/f/book/8a9d097c416aabac4f7e45f5d2ce9c6834b3fc7a/css/book/base/init.css" rel="stylesheet">
  <style type="text/css"></style>
  <script src="https://img3.doubanio.com/f/book/0495cb173e298c28593766009c7b0a953246c5b5/js/book/lib/jquery/jquery.js"></script>
  <script src="https://img3.doubanio.com/f/book/0f1957d4c436280f238b0295e4d0ba6855510555/js/book/master.js"></script>
  

  
  <link rel="stylesheet" href="https://img3.doubanio.com/f/book/15aa82bcdf414e007dee7483304105800fc59e54/css/book/subject.css">
  <link href="https://img3.doubanio.com/f/book/5d301503fbbd8e09f3114583859789884e942f47/css/book/annotation/like.css" rel="stylesheet">
  <script src="https://img3.doubanio.com/f/shire/3c6f2946669cfb2fc9ee4a4d1dcc41fc181cad92/js/lib/jquery.snippet.js"></script>
  <script src="https://img3.doubanio.com/f/shire/77323ae72a612bba8b65f845491513ff3329b1bb/js/do.js" data-cfg-autoload="false"></script>
  <script src="https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js"></script>
  <script src="https://img3.doubanio.com/f/book/2e421e5ec8f2869d31535206c0ac0322532be1f8/js/book/mod/hide.js"></script>
  <script src="https://img3.doubanio.com/f/book/7196bdec780f03785f55b06fda34999595057f65/js/book/subject/unfold.js"></script>
    <link rel="alternate" href="https://book.douban.com/feed/subject/1231702/reviews" type="application/rss+xml" title="RSS">
  <style type="text/css"> h2 {color: #007722;} </style>
  <script type='text/javascript'>
    var _vds = _vds || [];
    (function(){ _vds.push(['setAccountId', '22c937bbd8ebd703f2d8e9445f7dfd03']);
        _vds.push(['setCS1','user_id','0']);
            (function() {var vds = document.createElement('script');
                vds.type='text/javascript';
                vds.async = true;
                vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'dn-growing.qbox.me/vds.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(vds, s);
            })();
    })();
</script>

  
  <script type='text/javascript'>
    var _vwo_code=(function(){
      var account_id=249272,
          settings_tolerance=2000,
          library_tolerance=2500,
          use_existing_jquery=false,
          // DO NOT EDIT BELOW THIS LINE
          f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
  </script>


  <script>  </script>
  <style type="text/css">
.tag,.tag:link,.tag:visited{width:auto;word-break:keep-all;white-space:nowrap;background-color:#f5f5f5;color:#37A;font-size:13px;padding:2px 11px 0;display:inline-block;margin:0 3px 5px 0;line-height:20px}.tag:hover,.tag:active{background-color:#e8e8e8;color:#37A}


#db-discussion-section .olt { margin-bottom: 7px; }
</style>

  <link rel="shortcut icon" href="https://img3.doubanio.com/favicon.ico" type="image/x-icon">
</head>
<body>
  
    <script>var _body_start = new Date();</script>
    
  



    <link href="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.css" rel="stylesheet" type="text/css">



<div id="db-global-nav" class="global-nav">
  <div class="bd">
    
<div class="top-nav-info">
  <a href="https://www.douban.com/accounts/login?source=book" class="nav-login" rel="nofollow">登录</a>
  <a href="https://www.douban.com/accounts/register?source=book" class="nav-register" rel="nofollow">注册</a>
</div>


    
<div class="top-nav-doubanapp">
  <a href="https://www.douban.com/doubanapp/app?channel=top-nav" class="lnk-doubanapp">下载豆瓣客户端</a>
  <div id="top-nav-appintro" class="more-items">
    <p class="appintro-title">豆瓣</p>
    <p class="slogan">我们的精神角落</p>
    <p class="qrcode">扫码直接下载</p>
    <div class="download">
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=iOS">iPhone</a>
      <span>·</span>
      <a href="https://www.douban.com/doubanapp/redirect?channel=top-nav&direct_dl=1&download=Android" class="download-android">Android</a>
    </div>
    <div id="doubanapp-tip">
      <a href="https://www.douban.com/doubanapp/app?channel=qipao" class="tip-link">豆瓣 5.0 全新发布</a>
      <a href="javascript: void 0;" class="tip-close">×</a>
    </div>
  </div>
</div>

    


<div class="global-nav-items">
  <ul>
    <li class="">
      <a href="https://www.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-main&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣</a>
    </li>
    <li class="on">
      <a href="https://book.douban.com"  data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-book&quot;,&quot;uid&quot;:&quot;0&quot;}">读书</a>
    </li>
    <li class="">
      <a href="https://movie.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-movie&quot;,&quot;uid&quot;:&quot;0&quot;}">电影</a>
    </li>
    <li class="">
      <a href="https://music.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-music&quot;,&quot;uid&quot;:&quot;0&quot;}">音乐</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/location" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-location&quot;,&quot;uid&quot;:&quot;0&quot;}">同城</a>
    </li>
    <li class="">
      <a href="https://www.douban.com/group" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-group&quot;,&quot;uid&quot;:&quot;0&quot;}">小组</a>
    </li>
    <li class="">
      <a href="https://read.douban.com&#47;?dcs=top-nav&amp;dcm=douban" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-read&quot;,&quot;uid&quot;:&quot;0&quot;}">阅读</a>
    </li>
    <li class="">
      <a href="https://douban.fm&#47;?from_=shire_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-fm&quot;,&quot;uid&quot;:&quot;0&quot;}">FM</a>
    </li>
    <li class="">
      <a href="https://time.douban.com&#47;?dt_time_source=douban-web_top_nav" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-time&quot;,&quot;uid&quot;:&quot;0&quot;}">时间</a>
    </li>
    <li class="">
      <a href="https://market.douban.com&#47;?utm_campaign=douban_top_nav&amp;utm_source=douban&amp;utm_medium=pc_web" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-market&quot;,&quot;uid&quot;:&quot;0&quot;}">市集</a>
    </li>
    <li>
      <a href="#more" class="bn-more"><span>更多</span></a>
      <div class="more-items">
        <table cellpadding="0" cellspacing="0">
          <tbody>
            <tr>
              <td>
                <a href="https://ypy.douban.com" target="_blank" data-moreurl-dict="{&quot;from&quot;:&quot;top-nav-click-ypy&quot;,&quot;uid&quot;:&quot;0&quot;}">豆瓣摄影</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </li>
  </ul>
</div>

  </div>
</div>
<script>
  ;window._GLOBAL_NAV = {
    DOUBAN_URL: "https://www.douban.com",
    N_NEW_NOTIS: 0,
    N_NEW_DOUMAIL: 0
  };
</script>



    <script src="//img3.doubanio.com/dae/accounts/resources/321e246/shire/bundle.js" defer="defer"></script>




  



    <link href="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.css" rel="stylesheet" type="text/css">




<div id="db-nav-book" class="nav">
  <div class="nav-wrap">
  <div class="nav-primary">
    <div class="nav-logo">
      <a href="https:&#47;&#47;book.douban.com">豆瓣读书</a>
    </div>
    <div class="nav-search">
      <form action="https:&#47;&#47;book.douban.com/subject_search" method="get">
        <fieldset>
          <legend>搜索：</legend>
          <label for="inp-query">
          </label>
          <div class="inp"><input id="inp-query" name="search_text" size="22" maxlength="60" placeholder="书名、作者、ISBN" value=""></div>
          <div class="inp-btn"><input type="submit" value="搜索"></div>
          <input type="hidden" name="cat" value="1001" />
        </fieldset>
      </form>
    </div>
  </div>
  </div>
  <div class="nav-secondary">
    

<div class="nav-items">
  <ul>
    <li    ><a href="https://book.douban.com/cart/"
     >购书单</a>
    </li>
    <li    ><a href="https://read.douban.com/ebooks/?dcs=book-nav&dcm=douban"
            target="_blank"
     >电子图书</a>
    </li>
    <li    ><a href="https://market.douban.com/book?utm_campaign=book_nav_freyr&utm_source=douban&utm_medium=pc_web"
     >豆瓣书店</a>
    </li>
    <li    ><a href="https://book.douban.com/annual/2017?source=navigation"
            target="_blank"
     >2017年度榜单</a>
    </li>
    <li    ><a href="https://book.douban.com/standbyme/2016?source=navigation"
            target="_blank"
     >2016读书报告</a>
    </li>
    <li          class=" book-cart"
    ><a href="https://market.douban.com/cart/?utm_campaign=book_nav_cart&utm_source=douban&utm_medium=pc_web"
            target="_blank"
     >购物车</a>
    </li>
  </ul>
</div>

  </div>
    <a href="https://book.douban.com/annual/2017?source=patch" class="bookannual2017"></a>
</div>

<script id="suggResult" type="text/x-jquery-tmpl">
  <li data-link="{{= url}}">
            <a href="{{= url}}" onclick="moreurl(this, {from:'book_search_sugg', query:'{{= keyword }}', subject_id:'{{= id}}', i: '{{= index}}', type: '{{= type}}'})">
            <img src="{{= pic}}" width="40" />
            <div>
                <em>{{= title}}</em>
                {{if year}}
                    <span>{{= year}}</span>
                {{/if}}
                <p>
                {{if type == "b"}}
                    {{= author_name}}
                {{else type == "a" }}
                    {{if en_name}}
                        {{= en_name}}
                    {{/if}}
                {{/if}}
                 </p>
            </div>
        </a>
        </li>
  </script>




    <script src="//img3.doubanio.com/dae/accounts/resources/094108a/book/bundle.js" defer="defer"></script>





    <div id="wrapper">
        
    <div id="dale_book_subject_top_icon"></div>
<h1>
    <span property="v:itemreviewed">Win32多线程程序设计</span>
    <div class="clear"></div>
</h1>

        
  <div id="content">
    
    <div class="grid-16-8 clearfix">
      
      <div class="article">



<div class="indent">
  <div class="subjectwrap clearfix">
    



<div class="subject clearfix">
<div id="mainpic" class="">

  

  <a class="nbg"
      href="https://img3.doubanio.com/lpic/s1483484.jpg" title="Win32多线程程序设计">
    <img src="https://img3.doubanio.com/lpic/s1483484.jpg" title="点击看大图" alt="Win32多线程程序设计"
         rel="v:photo" style="width: 135px">
  </a>



</div>





<div id="info" class="">


    
    
  
    <span>
      <span class="pl"> 作者</span>:
        
        
        <a class="" href="/search/Jim%20Beveridge">[美] Jim Beveridge</a>
        
           /
        
        <a class="" href="/search/Robert%20Wiener">Robert Wiener</a>
    </span><br/>

    
    
  
    <span class="pl">出版社:</span> 华中科技大学出版社<br/>

    
    
  

    
    
  
    <span class="pl">副标题:</span> 线程完全手册<br/>

    
    
  

    
    
  

    <span class="pl">译者:</span>&nbsp;
        <a href="https://book.douban.com/author/104388/">
            侯捷</a>
    <br>


    
    
  
    <span class="pl">出版年:</span> 2002-1<br/>

    
    
  
    <span class="pl">页数:</span> 453<br/>

    
    
  
    <span class="pl">定价:</span> 59.80元<br/>

    
    
  
    <span class="pl">装帧:</span> 平装16开<br/>

    
    
  

    
    
  
    
      
      <span class="pl">ISBN:</span> 9787560926384<br/>


</div>

</div>





















    





<div id="interest_sectl" class="">
  <div class="rating_wrap clearbox" rel="v:rating">
    <div class="rating_logo">豆瓣评分</div>
    <div class="rating_self clearfix" typeof="v:Rating">
      <strong class="ll rating_num " property="v:average"> 8.3 </strong>
      <span property="v:best" content="10.0"></span>
      <div class="rating_right ">
          <div class="ll bigstar40"></div>
            <div class="rating_sum">
                <span class="">
                    <a href="collections" class="rating_people"><span property="v:votes">222</span>人评价</a>
                </span>
            </div>


      </div>
    </div>
          
            
            
<span class="stars5 starstop" title="力荐">
    5星
</span>

            
<div class="power" style="width:33px"></div>

            <span class="rating_per">29.3%</span>
            <br>
            
            
<span class="stars4 starstop" title="推荐">
    4星
</span>

            
<div class="power" style="width:64px"></div>

            <span class="rating_per">56.8%</span>
            <br>
            
            
<span class="stars3 starstop" title="还行">
    3星
</span>

            
<div class="power" style="width:15px"></div>

            <span class="rating_per">13.5%</span>
            <br>
            
            
<span class="stars2 starstop" title="较差">
    2星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.5%</span>
            <br>
            
            
<span class="stars1 starstop" title="很差">
    1星
</span>

            
<div class="power" style="width:0px"></div>

            <span class="rating_per">0.0%</span>
            <br>
    </div>
</div>

  </div>
  





  
    
    <div id="interest_sect_level" class="clearfix">
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-1231702-wish">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectwish" class="miniform">
    <input type="submit" class="minisubmit j " value="想读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-1231702-do">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectdo" class="miniform">
    <input type="submit" class="minisubmit j " value="在读" title="" />
</form>

          </span>
        </a>
        <a href="#" rel="nofollow" class="j a_show_login colbutt ll" name="pbtn-1231702-collect">
          <span>
            
<form method="POST" action="https://www.douban.com/register?reason=collectcollect" class="miniform">
    <input type="submit" class="minisubmit j " value="读过" title="" />
</form>

          </span>
        </a>
      <div class="ll j a_stars">
        
    
    评价:
    <span id="rating"> <span id="stars" data-solid="https://img3.doubanio.com/f/shire/5a2327c04c0c231bced131ddf3f4467eb80c1c86/pics/rating_icons/star_onmouseover.png" data-hollow="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" data-solid-2x="https://img3.doubanio.com/f/shire/7258904022439076d57303c3b06ad195bf1dc41a/pics/rating_icons/star_onmouseover@2x.png" data-hollow-2x="https://img3.doubanio.com/f/shire/95cc2fa733221bb8edd28ad56a7145a5ad33383e/pics/rating_icons/star_hollow_hover@2x.png">

            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-1231702-1">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star1" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-1231702-2">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star2" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-1231702-3">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star3" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-1231702-4">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star4" width="16" height="16"/></a>
            <a href="https://www.douban.com/register?reason=rate" class="j a_show_login" name="pbtn-1231702-5">
        <img src="https://img3.doubanio.com/f/shire/2520c01967207a1735171056ec588c8c1257e5f8/pics/rating_icons/star_hollow_hover.png" id="star5" width="16" height="16"/></a>
    </span><span id="rateword" class="pl"></span>
    <input id="n_rating" type="hidden" value=""  />
    </span>

      </div>
      

    </div>



  
  <div class="gtleft">
    <ul class="ul_subject_menu bicelink color_gray pt6 clearfix">
        <li>
          <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a href="https://www.douban.com/register?reason=annotate" class="j a_show_login" rel="nofollow">写笔记</a>
        </li>

          <li>
            <img src="https://img3.doubanio.com/f/shire/5bbf02b7b5ec12b23e214a580b6f9e481108488c/pics/add-review.gif" />&nbsp;<a class="j a_show_login" href="https://www.douban.com/register?reason=review" rel="nofollow">写书评</a>
          </li>

      <li>

  <span class="rr">
  

    <img src="https://img3.doubanio.com/pics/add-cart.gif"/>
      <a class="j a_show_login" href="http://http://www.douban.com/register?reason=addbook2cart" rel="nofollow">加入购书单</a>
  <span class="hidden">已在<a href="https://book.douban.com/cart">购书单</a></span>
</span><br class="clearfix" />
</li>


        
        
    
    <li class="rec" id="C-1231702">
        <a href="#" data-url="https://book.douban.com/subject/1231702/" data-desc="" data-title="书籍《Win32多线程程序设计》 (来自豆瓣) " data-pic="https://img3.doubanio.com/lpic/s1483484.jpg" class="bn-sharing ">分享到</a> &nbsp;&nbsp;
    </li>
    <script>
    var __cache_url = __cache_url || {};
    (function(u){
        if(__cache_url[u]) return;
        __cache_url[u] = true;
        window.DoubanShareIcons = 'https://img3.doubanio.com/f/shire/d15ffd71f3f10a7210448fec5a68eaec66e7f7d0/pics/ic_shares.png';
        var initShareButton = function() {
          $.ajax({url:u,dataType:'script',cache:true});
        };
        if (typeof Do == 'function' && 'ready' in Do) {
          Do('https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js',
            initShareButton);
        } else if(typeof Douban == 'object' && 'loader' in Douban) {
          Douban.loader.batch(
            'https://img3.doubanio.com/f/shire/8377b9498330a2e6f056d863987cc7a37eb4d486/css/ui/dialog.css',
            'https://img3.doubanio.com/f/shire/4ea3216519a6183c7bcd4f7d1a6d4fd57ce1a244/js/ui/dialog.js'
          ).done(initShareButton);
        }
    })('https://img3.doubanio.com/f/shire/6e6a5f21daeec19bbb41bf48c07fccaa4dad4d98/js/lib/sharebutton.js');
    </script>

    </ul>
  </div>


    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>


<script>
  //bind events for collection button.
  $('.collect_btn', '#interest_sect_level').each(function(){
      Douban.init_collect_btn(this);
  });
</script>








</div>

<br clear="all">
<div id="collect_form_1231702"></div>
<div class="related_info">
  






  

  <h2>
    <span class="">内容简介</span>
      ······

  </h2>



<div class="indent" id="link-report">
    
      <div class="">
        <style type="text/css" media="screen">
.intro p{text-indent:2em;word-break:normal;}
</style>
<div class="intro">
    <p>《Win32多线程程序设计》全书共分三篇。第一篇包括线程的启动和结束、核心对象、激发和未激发状态的意义、同步机制及其用途；第二篇介绍C runtime函数库和MFC对线程的支持、如何在USER和GDI的限制之下施行对线程等内容；第三篇谈论如何组织一个程序，使它有效支持多线程。</p></div>

      </div>
    
<style>
    #link-report .report { text-align: right; font-size: 12px; visibility: hidden; }
    #link-report .report a { color: #BBB; }
    #link-report .report a:hover { color: #FFF; background-color: #BBB; }
</style>
<script>
    Do = (typeof Do === 'undefined')? $ : Do;
    Do(function(){
    $("body").delegate("#link-report", 'mouseenter mouseleave', function(e){
      switch (e.type) {
        case "mouseenter":
          $(this).find(".report").css('visibility', 'visible');
          break;
        case "mouseleave":
          $(this).find(".report").css('visibility', 'hidden');
          break;
      }
    });
    $("#link-report").delegate(".report a", 'click', function(e){
        e.preventDefault();
        var auditUrl = "https://www.douban.com/misc/audit_report?url=",
        opt = "";
        var obj = $(e.target).closest('#link-report');
        var id = obj.length != 0 ? obj.data("id") : undefined;
        var params = (opt&&id) ? '?'.concat(opt, '=', id) : '';
        var url = auditUrl.concat("https://book.douban.com/subject/1231702/", params);
        window.location.href = url;
    });

    $("#link-report").append('<div class="report"><a rel="nofollow" href="#">举报</a></div>');
  });
</script>

</div>

  

























    
  

  <h2>
    <span class="">作者简介</span>
      ······

  </h2>



      <div class="indent ">
          
            <div class="">
            <style type="text/css" media="screen">
.intro p{text-indent:2em;word-break:normal;}
</style>
<div class="intro">
    <p>Jim Beveridge进入操作系统的研究领域已有15年，从多处理器数据库到microkernel操作系统的开发，他都有经验。他于Rochoester Institure of Technology获得计算机科学学士学位。他目前受聘为Turning Point Software公司顾问。</p></div>

            </div>
      </div>











































  

  


  



<div id="author-wrapper" class="author-wrapper">
  <div class="loading"></div>
</div>
<link rel="stylesheet" href="https://img3.doubanio.com/f/fanta/ba954f353fb7e2f830059e78c8e9e4791a96a4f6/components/dist/css/answer_entry.css" />

<script type="text/javascript">
  var answerObj = {
    TYPE: 'book',
    SUBJECT_ID: '1231702',
    ISALL: 'False' || false,
    USER_ID: 'None'
  }
</script>
<script src="https://img3.doubanio.com/f/book/61252f2f9b35f08b37f69d17dfe48310dd295347/js/book/lib/react/bundle.js"></script>
<script src="https://img3.doubanio.com/f/fanta/f86ac0ee5349a9eeff2e7a3741853e8fc76d3042/components/dist/answer_entry.js"></script>

  






<div id="db-tags-section" class="blank20">
  
  

  <h2>
    <span class="">豆瓣成员常用的标签(共74个)</span>
      ······

  </h2>


  <div class="indent">    <span class="">
        <a class="  tag" href="/tag/多线程">多线程</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/Windows">Windows</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/Windows编程">Windows编程</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/编程">编程</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/Win32">Win32</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/计算机">计算机</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/侯捷">侯捷</a> &nbsp;    </span>
    <span class="">
        <a class="  tag" href="/tag/C++">C++</a> &nbsp;    </span>
  </div>
</div>


  


  












<div id="rec-ebook-section" class="block5 subject_show">
  

  
  

  <h2>
    <span class="">喜欢读&#34;Win32多线程程序设计&#34;的人也喜欢的电子书</span>
      ······

  </h2>


  <div class="tips-mod">
    支持 Web、iPhone、iPad、Android 阅读器
  </div>
  <div class="content clearfix">
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/387679/?dcs=subject-rec&amp;dcm=douban&amp;dct=1231702" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/387679.jpg?v=1395395846.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/387679/" target="_blank">编程大师访谈录</a>
          </div>
          <div class="price">
              25.00元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/381109/?dcs=subject-rec&amp;dcm=douban&amp;dct=1231702" target="_blank">
            <span class="cover-outer">
              <img src="https://img1.doubanio.com/view/ark_article_cover/retina/public/381109.jpg?v=1395395854.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/381109/" target="_blank">我编程我快乐</a>
          </div>
          <div class="price">
              18.00元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/1499455/?dcs=subject-rec&amp;dcm=douban&amp;dct=1231702" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/1499455.jpg?v=1395393904.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/1499455/" target="_blank">Python源码剖析</a>
          </div>
          <div class="price">
              38.39元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/388053/?dcs=subject-rec&amp;dcm=douban&amp;dct=1231702" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/388053.jpg?v=1395395845.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/388053/" target="_blank">布道之道</a>
          </div>
          <div class="price">
              12.00元
          </div>
        </dd>
      </dl>
      
      <dl>
        <dt>
          <a href="https://read.douban.com/ebook/387525/?dcs=subject-rec&amp;dcm=douban&amp;dct=1231702" target="_blank">
            <span class="cover-outer">
              <img src="https://img3.doubanio.com/view/ark_article_cover/retina/public/387525.jpg?v=1395395731.0">
            </span>
          </a>
        </dt>
        <dd>
          <div class="title">
              <a href="https://read.douban.com/ebook/387525/" target="_blank">黑客与画家</a>
          </div>
          <div class="price">
              12.00元
          </div>
        </dd>
      </dl>
  </div>
</div>

<div id="db-rec-section" class="block5 subject_show knnlike">
  
  
  

  <h2>
    <span class="">喜欢读&#34;Win32多线程程序设计&#34;的人也喜欢</span>
      ······

  </h2>


  <div class="content clearfix">
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1088045/" onclick="moreurl(this, {'total': 10, 'clicked': '1088045', 'pos': 0, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1874860.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1088045/" onclick="moreurl(this, {'total': 10, 'clicked': '1088045', 'pos': 0, 'identifier': 'book-rec-books'})" class="">
            Windows核心编程
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1231481/" onclick="moreurl(this, {'total': 10, 'clicked': '1231481', 'pos': 1, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1645411.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1231481/" onclick="moreurl(this, {'total': 10, 'clicked': '1231481', 'pos': 1, 'identifier': 'book-rec-books'})" class="">
            COM本质论
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1091086/" onclick="moreurl(this, {'total': 10, 'clicked': '1091086', 'pos': 2, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s3301634.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1091086/" onclick="moreurl(this, {'total': 10, 'clicked': '1091086', 'pos': 2, 'identifier': 'book-rec-books'})" class="">
            深度探索C++对象模型
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/2326111/" onclick="moreurl(this, {'total': 10, 'clicked': '2326111', 'pos': 3, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s2781096.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/2326111/" onclick="moreurl(this, {'total': 10, 'clicked': '2326111', 'pos': 3, 'identifier': 'book-rec-books'})" class="">
            深入解析ATL
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1088168/" onclick="moreurl(this, {'total': 10, 'clicked': '1088168', 'pos': 4, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1074981.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1088168/" onclick="moreurl(this, {'total': 10, 'clicked': '1088168', 'pos': 4, 'identifier': 'book-rec-books'})" class="">
            Windows 程序设计：第5版
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1792179/" onclick="moreurl(this, {'total': 10, 'clicked': '1792179', 'pos': 5, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s1669748.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1792179/" onclick="moreurl(this, {'total': 10, 'clicked': '1792179', 'pos': 5, 'identifier': 'book-rec-books'})" class="">
            Effective STL中文版
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1119904/" onclick="moreurl(this, {'total': 10, 'clicked': '1119904', 'pos': 6, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1617593.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1119904/" onclick="moreurl(this, {'total': 10, 'clicked': '1119904', 'pos': 6, 'identifier': 'book-rec-books'})" class="">
            C++设计新思维
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1482240/" onclick="moreurl(this, {'total': 10, 'clicked': '1482240', 'pos': 7, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1499931.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1482240/" onclick="moreurl(this, {'total': 10, 'clicked': '1482240', 'pos': 7, 'identifier': 'book-rec-books'})" class="">
            深入浅出 MFC 第二版
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1110941/" onclick="moreurl(this, {'total': 10, 'clicked': '1110941', 'pos': 8, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img1.doubanio.com/lpic/s1092079.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1110941/" onclick="moreurl(this, {'total': 10, 'clicked': '1110941', 'pos': 8, 'identifier': 'book-rec-books'})" class="">
            C++标准程序库
          </a>
        </dd>
      </dl>
      
      <dl class="">
        <dt>
            <a href="https://book.douban.com/subject/1241423/" onclick="moreurl(this, {'total': 10, 'clicked': '1241423', 'pos': 9, 'identifier': 'book-rec-books'})"><img class="m_sub_img" src="https://img3.doubanio.com/lpic/s1832300.jpg"/></a>
        </dt>
        <dd>
          <a href="https://book.douban.com/subject/1241423/" onclick="moreurl(this, {'total': 10, 'clicked': '1241423', 'pos': 9, 'identifier': 'book-rec-books'})" class="">
            泛型编程与STL
          </a>
        </dd>
      </dl>
        <dl class="clear"></dl>
  </div>
</div>

  






    <link rel="stylesheet" href="https://img3.doubanio.com/f/book/8f539f4edfa7786707fc6f654e1f373c62a70128/css/book/subject/comment.css"/>
    <div class="mod-hd">
        

        <a class="redbutt j a_show_login rr" href="https://www.douban.com/register?reason=review" rel="nofollow">
            <span> 我来说两句 </span>
        </a>

            
  

  <h2>
    <span class="">短评</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/1231702/comments/">全部 47 条</a>
        ) </span>

  </h2>


    </div>
    <div class="nav-tab">
        
    <div class="tabs-wrapper  line">
        <a class="short-comment-tabs on-tab" href="hot" data-tab="hot">热门</a>
        <span>/</span>
        <a class="short-comment-tabs " href="new" data-tab="new">最新</a>
        <span>/</span>
        <a class="j a_show_login " href="follows" data-tab="follows">好友</a>
    </div>

    </div>
    <div id="comment-list-wrapper" class="indent">
        

<div id="comments" class="comment-list hot show">
        <ul>
                
    <li class="comment-item" data-cid="451211359">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-451211359" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-451211359" class="j a_show_login" data-cid="451211359">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/artwalk/">游走的艺术</a>
                    <span>2012-05-12</span>
                </span>
            </h3>
            <p class="comment-content">快速翻完了，到后面就迷迷糊糊了，感觉还是要实践才能真正弄懂线程</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="523719738">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-523719738" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-523719738" class="j a_show_login" data-cid="523719738">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/3054879/">已注销</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2012-04-23</span>
                </span>
            </h3>
            <p class="comment-content">展现windows下多线程概貌</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="243527937">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-243527937" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-243527937" class="j a_show_login" data-cid="243527937">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/bukkake/">满脸都是呢</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2010-04-23</span>
                </span>
            </h3>
            <p class="comment-content">可能是当时唯一的win多线程专著，奇怪的是有些列子极有水准，有些则显得无厘头</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="305214355">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-305214355" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-305214355" class="j a_show_login" data-cid="305214355">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/atyuwen/">atyuwen</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2010-11-15</span>
                </span>
            </h3>
            <p class="comment-content">图书借还处(老馆二楼流通书库）   TP316.7 160   在架上  </p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="112079295">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-112079295" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-112079295" class="j a_show_login" data-cid="112079295">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/smart.mk1/">笨蛋.mk⑨</a>
                        <span class="user-stars allstar30 rating" title="还行"></span>
                    <span>2010-05-07</span>
                </span>
            </h3>
            <p class="comment-content">Windows平台多线程编程入门. 这本书涉及内容非常少, 后半部内容过时, 只能用于削减对多线程编程的畏惧心理, 如果已经入门, 建议找本大部头正经的相关部分读一读.</p>
        </div>
    </li>


        </ul>
</div>

        

<div id="comments" class="comment-list new noshow">
        <ul>
                
    <li class="comment-item" data-cid="1263054377">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1263054377" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1263054377" class="j a_show_login" data-cid="1263054377">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/67048261/">oscarwin</a>
                        <span class="user-stars allstar30 rating" title="还行"></span>
                    <span>2017-10-28</span>
                </span>
            </h3>
            <p class="comment-content">一般般吧，看完没觉得对多线程有更深刻理解</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="1047329232">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-1047329232" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-1047329232" class="j a_show_login" data-cid="1047329232">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/126071846/">李志超111111</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2016-06-01</span>
                </span>
            </h3>
            <p class="comment-content">比较基础， 这是我接触多线程的第一步书，很不错</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="968419795">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-968419795" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-968419795" class="j a_show_login" data-cid="968419795">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/JTianLing/">九天雁翎</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2015-10-16</span>
                </span>
            </h3>
            <p class="comment-content">貌似讲了很多东西, 对于具体的API解释不少, 但是实际对于多线程貌似只需要理解每个线程执行的顺序是不可预期的就行了, 具体的技术也就是怎么同步和传递信息.</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="861370668">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-861370668" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-861370668" class="j a_show_login" data-cid="861370668">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/cnpirate/">朝雾之归乡</a>
                        <span class="user-stars allstar50 rating" title="力荐"></span>
                    <span>2014-11-09</span>
                </span>
            </h3>
            <p class="comment-content">编写Win32多线程程序的最好的入门之作，没有之一，另外，译者的翻译很棒，赞！</p>
        </div>
    </li>

                
    <li class="comment-item" data-cid="741792120">
        <div class="comment">
            <h3>
                <span class="comment-vote">
                    <span id="c-741792120" class="vote-count">0</span>
                        <a href="javascript:;" id="btn-741792120" class="j a_show_login" data-cid="741792120">有用</a>
                </span>
                <span class="comment-info">
                    <a href="https://www.douban.com/people/foo_hack/">MathxH</a>
                        <span class="user-stars allstar40 rating" title="推荐"></span>
                    <span>2013-11-04</span>
                </span>
            </h3>
            <p class="comment-content">经典跟过时不过时没一点关系</p>
        </div>
    </li>


        </ul>
</div>

    </div>
        <p>&gt; <a href="https://book.douban.com/subject/1231702/comments/">更多短评 47 条</a></p>
    <script src="https://img3.doubanio.com/f/book/1d9c8cf5e04fc6d9cae8f10e358c6a6cd458f9b8/js/book/subject/short_comment_vote.js"></script>
    <script src="https://img3.doubanio.com/f/book/39eace58cab8aaeec45a44e878bf0ed06f2ed0a4/js/book/subject/short_comment_nav.js"></script>
    <script>
        (function(){
            $('.comment-list').delegate('.vote-comment', 'click', function(e) {
                vote_comment(e);
            }).delegate('.delete-comment', 'click', function(e) {
                if (confirm('确定删除吗？')) {
                    delete_comment(e);
                }
            });
        })();
    </script>

  

<link rel="stylesheet" href="https://img3.doubanio.com/misc/mixed_static/7f54ef457c36133a.css">

<section class="topics mod">
    <header>
        <h2>
            Win32多线程程序设计的话题 · · · · · ·
            <span class="pl">( <span class="gallery_topics">全部 <span id="topic-count"></span> 条</span> )</span>
        </h2>
    </header>

    




<section class="subject-topics">
    <div class="topic-guide" id="topic-guide">
        <img class="ic_question" src="//img3.doubanio.com/f/ithildin/b1a3edea3d04805f899e9d77c0bfc0d158df10d5/pics/export/icon_question.png">
        <div class="tip_content">
            <div class="tip_title">什么是话题</div>
            <div class="tip_desc">
                <div>无论是一部作品、一个人，还是一件事，都往往可以衍生出许多不同的话题。将这些话题细分出来，分别进行讨论，会有更多收获。</div>
            </div>
        </div>
        <img class="ic_guide" src="//img3.doubanio.com/f/ithildin/529f46d86bc08f55cd0b1843d0492242ebbd22de/pics/export/icon_guide_arrow.png">
        <img class="ic_close" id="topic-guide-close" src="//img3.doubanio.com/f/ithildin/2eb4ad488cb0854644b23f20b6fa312404429589/pics/export/close@3x.png">
    </div>

    <div id="topic-items"></div>

    <script>
        window.subject_id = 1231702;
        window.join_label_text = '写书评参与';
        window.write_icon = "//img3.doubanio.com/f/ithildin/c05246e1499f0d7c20526699a860b8faaeee62f3/pics/export/write@3x.png";

        window.topic_display_count = 4;
        window.topic_item_display_count = 1;
        window.no_content_fun_call_name = "no_topic";

        window.guideNode = document.getElementById('topic-guide');
        window.guideNodeClose = document.getElementById('topic-guide-close');
    </script>
    
        <link rel="stylesheet" href="https://img3.doubanio.com/f/ithildin/56f73d2e551c805c201537f1cf93fceeeb4b3b51/css/export/subject_topics.css">
        <script src="https://img3.doubanio.com/f/ithildin/d3590fc6ac47b33c804037a1aa7eec49075428c8/js/export/moment-with-locales-only-zh.js"></script>
        <script src="https://img3.doubanio.com/f/ithildin/0d950975613fdc59495abe70a2920f09aa322476/js/export/subject_topics_compiled.js"></script>

</section>

    <script>
        function no_topic(){
            $('#content .topics').remove();
        }
    </script>
</section>

<section class="reviews mod book-content">
    <header>
        <a href="new_review" rel="nofollow" class="create-review redbutt rr" 
            data-isverify="False"
            data-verify-url="https://www.douban.com/accounts/phone/verify?redir=https://book.douban.com/subject/1231702/new_review">
            <span>我要写书评</span>
        </a>
        <h2>
            Win32多线程程序设计的书评 · · · · · ·
            <span class="pl">( <a href="reviews">全部 14 条</a> )</span>
        </h2>
    </header>

    

<style>
#gallery-topics-selection {
  display: none;
  position: fixed;
  width: 595px;
  padding: 40px 40px 33px 40px;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 16px 0 rgba(0, 0, 0, 0.2);
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  z-index: 9999;
}
#gallery-topics-selection h1 {
  font-size: 18px;
  color: #007722;
  margin-bottom: 36px;
  padding: 0;
  line-height: 28px;
  font-weight: normal;
}
#gallery-topics-selection .gl_topics {
  border-bottom: 1px solid #dfdfdf;
  max-height: 298px;
  overflow-y: scroll;
}
#gallery-topics-selection .topic {
  margin-bottom: 24px;
}
#gallery-topics-selection .topic_name {
  font-size: 15px;
  color: #333;
  margin: 0;
  line-height: inherit;
}
#gallery-topics-selection .topic_meta {
  font-size: 13px;
  color: #999;
}
#gallery-topics-selection .topics_skip {
  display: block;
  cursor: pointer;
  font-size: 16px;
  color: #3377AA;
  text-align: center;
  margin-top: 33px;
}
#gallery-topics-selection .topics_skip:hover {
  background: transparent;
}
#gallery-topics-selection .close_selection {
  position: absolute;
  width: 30px;
  height: 20px;
  top: 46px;
  right: 40px;
  background: #fff;
  color: #999;
  text-align: right;
}
#gallery-topics-selection .close_selection:hover{
  background: #fff;
  color: #999;
}
</style>

<div id="gallery-topics-selection"></div>




        <div class="review_filter">
            <a href="javascript:;;" class="cur" data-sort="">热门</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="time">最新</a href="javascript:;;"> / 
            <a href="javascript:;;" data-sort="follow">好友</a href="javascript:;;">
            
        </div>


        



<div class="review-list  ">
        
    
    
        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2977413">
        <div class="main review-item" id="2977413">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/baiyanhuang/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2984774-22.jpg">
        </a>

        <a href="https://www.douban.com/people/baiyanhuang/" property="v:reviewer" class="name">西山</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2010-02-04" class="main-meta">2010-02-04 22:25:17</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2977413/">上路吧，线程</a></h2>

                <div id="review_2977413_short" class="review-short" data-rid="2977413">
                    <div class="short-content">

                        陆陆续续终于读完了，花了大概3个礼拜吧。  一直觉得这是一本相当有深度的书（为什么会有这个感觉？估计是当年大学时看到一个牛人书架上有这本书，牛人嘛，都读牛书的~~~）。但前段时间做了点多线程的程序，于是想到了读一读这本书，结果发现，正如本书第一篇的名字一样，这本...

                        &nbsp;(<a href="javascript:;" id="toggle-2977413-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2977413_full" class="hidden">
                    <div id="review_2977413_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2977413" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2977413">
                                4
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2977413" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2977413">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2977413/#comments" class="reply">1回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="1399324">
        <div class="main review-item" id="1399324">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/sume/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/u1907570-9.jpg">
        </a>

        <a href="https://www.douban.com/people/sume/" property="v:reviewer" class="name">小李飞刀</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2008-06-05" class="main-meta">2008-06-05 15:12:21</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/1399324/">5.21开始看</a></h2>

                <div id="review_1399324_short" class="review-short" data-rid="1399324">
                    <div class="short-content">

                        到今天为止大致过了一遍  因时间关系和应用需要，这几章跳过没看：  6.Oeverlapped I/O  8.使用C Run-time Library  13.进程之间的通讯  14.建造DLLs  16.ISAPI  17.OLE,ActiveX,COM  　　  总的来说非常好，一边看一边在本子上记笔记，收获很大 :) 多线程编程是win32程序员的...

                        &nbsp;(<a href="javascript:;" id="toggle-1399324-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_1399324_full" class="hidden">
                    <div id="review_1399324_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="1399324" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-1399324">
                                1
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="1399324" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-1399324">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/1399324/#comments" class="reply">1回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="5785673">
        <div class="main review-item" id="5785673">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/67006936/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/67006936/" property="v:reviewer" class="name">大盗贼</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2013-02-20" class="main-meta">2013-02-20 20:07:02</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/5785673/">初级读物吧，很多东西也不是很透彻</a></h2>

                <div id="review_5785673_short" class="review-short" data-rid="5785673">
                    <div class="short-content">

                        初级读物吧，很多东西也不是很透彻，但是在win上的多线程底层模型与原理还是可以了解到的，一些深入的东西好像讲得不怎么好，像异步IO和IOCP这些觉得讲得太肤浅了，没看懂，还是其他资料找到的比较详细。 除了一些基本的东西外，其他的东西就当随便读读吧，了解下就差不多了，...

                        &nbsp;(<a href="javascript:;" id="toggle-5785673-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_5785673_full" class="hidden">
                    <div id="review_5785673_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="5785673" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-5785673">
                                1
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="5785673" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-5785673">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/5785673/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="5499249">
        <div class="main review-item" id="5499249">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/2581051/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2581051-4.jpg">
        </a>

        <a href="https://www.douban.com/people/2581051/" property="v:reviewer" class="name">Name5566</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2012-07-10" class="main-meta">2012-07-10 16:01:30</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/5499249/">书挺不错的，但是存在一些笔误</a></h2>

                <div id="review_5499249_short" class="review-short" data-rid="5499249">
                    <div class="short-content">

                        有一些地方存在一些笔误，看了英文版才知道： 读写锁部分，谈到读取锁定和解锁时，ReaderCount 错误写为 ReadCount，不过这个无关要紧，严重的是为 Reader 锁定的相关代码： Lock(ReaderMutex) ReadCount = ReaderCount + 1 if (ReaderCount == 0)     Unlock(DataSemaphore) U...

                        &nbsp;(<a href="javascript:;" id="toggle-5499249-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_5499249_full" class="hidden">
                    <div id="review_5499249_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="5499249" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-5499249">
                                1
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="5499249" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-5499249">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/5499249/#comments" class="reply">1回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="2946916">
        <div class="main review-item" id="2946916">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/obscure/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2050751-1.jpg">
        </a>

        <a href="https://www.douban.com/people/obscure/" property="v:reviewer" class="name">Mr. Sang</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2010-01-21" class="main-meta">2010-01-21 17:05:06</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/2946916/">还没读完</a></h2>

                <div id="review_2946916_short" class="review-short" data-rid="2946916">
                    <div class="short-content">

                        原著应该很强~ 就是有点老，很多例子都是那时候的事了。  这本台湾人翻译的算是相对来讲很用心的了，甚至还有对原著的更傻瓜版解释，国内翻译有几人能做到？  不过还是有翻译上的错误，迅速啃完之后还是应该去看原著。

                        &nbsp;(<a href="javascript:;" id="toggle-2946916-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_2946916_full" class="hidden">
                    <div id="review_2946916_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="2946916" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-2946916">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="2946916" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-2946916">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/2946916/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="6239058">
        <div class="main review-item" id="6239058">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/34794448/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/34794448/" property="v:reviewer" class="name">hay</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2013-08-21" class="main-meta">2013-08-21 10:04:01</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/6239058/">很基础，很详细，但不够有深度</a></h2>

                <div id="review_6239058_short" class="review-short" data-rid="6239058">
                    <div class="short-content">

                        已经读完了第一篇，觉得讲得很细致，也很易懂，但有些哆嗦，很多内容不用看例子也知道是怎么回事，就直接跳过了。 做过多线程的人，可以当作复习教材，系统地回顾一下。 适合入门。 为什么说我的评论太短了？？

                        &nbsp;(<a href="javascript:;" id="toggle-6239058-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_6239058_full" class="hidden">
                    <div id="review_6239058_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="6239058" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-6239058">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="6239058" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-6239058">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/6239058/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="5503301">
        <div class="main review-item" id="5503301">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/2581051/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u2581051-4.jpg">
        </a>

        <a href="https://www.douban.com/people/2581051/" property="v:reviewer" class="name">Name5566</a>

            <span property="v:rating" class="allstar30 main-title-rating" title="还行"></span>

        <span property="v:dtreviewed" content="2012-07-13" class="main-meta">2012-07-13 12:25:03</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/5503301/">使用 C RUNTIME LIBRARY 一章的错误</a></h2>

                <div id="review_5503301_short" class="review-short" data-rid="5503301">
                    <div class="short-content">

                        使用 C RUNTIME LIBRARY 这一章节不少内容都可以说是过时的（或者说是错误的），主要是关于 CRT 的线程安全的问题的描述在现在的一些 CRT 实现上，完全不是那么回事，CreateThread 也没有描述中的那么糟糕。总之对于此问题，读者需要自己细心品味，另外本书的“过时”的问题，...

                        &nbsp;(<a href="javascript:;" id="toggle-5503301-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_5503301_full" class="hidden">
                    <div id="review_5503301_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="5503301" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-5503301">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="5503301" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-5503301">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/5503301/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="5416958">
        <div class="main review-item" id="5416958">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/44749305/" class="avator">
            <img width="24" height="24" src="https://img3.doubanio.com/icon/u44749305-2.jpg">
        </a>

        <a href="https://www.douban.com/people/44749305/" property="v:reviewer" class="name">forest</a>

            <span property="v:rating" class="allstar30 main-title-rating" title="还行"></span>

        <span property="v:dtreviewed" content="2012-05-06" class="main-meta">2012-05-06 00:34:44</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/5416958/">个人不习惯这书</a></h2>

                <div id="review_5416958_short" class="review-short" data-rid="5416958">
                    <div class="short-content">

                               很久没看中文的技术书了，不知道是中文本身就表达能力不行，还是因为台湾人讲话习惯不一样，感觉很多地方都表述地不清楚，主谓不清楚，不知所云。       还有就是太罗嗦了，不像AUPE这类书写得很“专业”（个人更想他从多扯扯信号量机制、算法、数据结构、系统设计方面...

                        &nbsp;(<a href="javascript:;" id="toggle-5416958-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_5416958_full" class="hidden">
                    <div id="review_5416958_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="5416958" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-5416958">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="5416958" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-5416958">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/5416958/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="4994413">
        <div class="main review-item" id="4994413">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/47923035/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/47923035/" property="v:reviewer" class="name">[已注销]</a>

            <span property="v:rating" class="allstar40 main-title-rating" title="推荐"></span>

        <span property="v:dtreviewed" content="2011-06-19" class="main-meta">2011-06-19 11:54:52</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/4994413/">很一般的书</a></h2>

                <div id="review_4994413_short" class="review-short" data-rid="4994413">
                    <div class="short-content">

                        本书对win32线程同步api的讲解没有《windws核心编程》详细 对线程同步算法又没有os书籍如《os concept》来得全面 本书内容没有什么出彩的地方 个人认为这本书比较鸡肋

                        &nbsp;(<a href="javascript:;" id="toggle-4994413-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_4994413_full" class="hidden">
                    <div id="review_4994413_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="4994413" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-4994413">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="4994413" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-4994413">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/4994413/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>

        
    
    <div xmlns:v="http://rdf.data-vocabulary.org/#" typeof="v:Review" data-cid="4763727">
        <div class="main review-item" id="4763727">
        
            
    
    <header class="main-hd">
        <a href="https://www.douban.com/people/xiaohaitao/" class="avator">
            <img width="24" height="24" src="https://img1.doubanio.com/icon/user_normal.jpg">
        </a>

        <a href="https://www.douban.com/people/xiaohaitao/" property="v:reviewer" class="name">haitao</a>

            <span property="v:rating" class="allstar50 main-title-rating" title="力荐"></span>

        <span property="v:dtreviewed" content="2011-03-06" class="main-meta">2011-03-06 11:08:18</span>
        

    </header>

        
            <div class="main-bd">
                
                <h2><a href="https://book.douban.com/review/4763727/">系统讲述多线程的一本书</a></h2>

                <div id="review_4763727_short" class="review-short" data-rid="4763727">
                    <div class="short-content">

                        虽然在编程时早就用到了多线程，也有一些多线程的知识，但是总感觉比较零碎，不够系统化。这本书恰好符合我的需要，它系统地讲述了多线程的方方面面，由主及次，由浅入深。虽然是将近十年前的一本书，现在读起来丝毫没有过时的感觉。 必须要提一句的是：侯杰老师的文笔真好，行...

                        &nbsp;(<a href="javascript:;" id="toggle-4763727-copy" class="unfold" title="展开">展开</a>)
                    </div>
                </div>
            
                <div id="review_4763727_full" class="hidden">
                    <div id="review_4763727_full_content" class="full-content"></div>
                </div>

                <div class="action">
                    <a href="javascript:;;" class="action-btn up" data-rid="4763727" title="有用">
                        <img src="https://img3.doubanio.com/f/zerkalo/536fd337139250b5fb3cf9e79cb65c6193f8b20b/pics/up.png" />
                        <span id="r-useful_count-4763727">
                        </span>
                    </a>
                    <a href="javascript:;;" class="action-btn down" data-rid="4763727" title="没用">
                        <img src="https://img3.doubanio.com/f/zerkalo/68849027911140623cf338c9845893c4566db851/pics/down.png" />
                        <span id="r-useless_count-4763727">
                        </span>
                    </a>
                    <a href="https://book.douban.com/review/4763727/#comments" class="reply">0回应</a>

                    <a href="javascript:;;" class="fold hidden">收起</a>
                </div>
            </div>
        </div>
    </div>




    

    

    <script type="text/javascript">
    ;(function(){
        window.subject_id = window.subject_id || 1231702;
        "use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var GalleryTopicsSelection = function (_React$Component) {
  _inherits(GalleryTopicsSelection, _React$Component);

  function GalleryTopicsSelection() {
    _classCallCheck(this, GalleryTopicsSelection);

    var _this = _possibleConstructorReturn(this, (GalleryTopicsSelection.__proto__ || Object.getPrototypeOf(GalleryTopicsSelection)).call(this));

    _this.state = {
      topics: []
    };
    return _this;
  }

  _createClass(GalleryTopicsSelection, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      $.ajax({
        url: "https://m.douban.com/rexxar/api/v2/gallery/subject_feed?start=0&subject_id=" + window.subject_id + "&ck=" + get_cookie('ck'),
        xhrFields: { withCredentials: true },
        success: function success(res) {
          _this2.setState({
            topics: res.items
          });
          if (res.total) {
            window.has_gallery_topics = true;
          }
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var topics = this.state.topics;

      return React.createElement(
        "section",
        null,
        React.createElement(
          "a",
          { href: "new_review?from=gallery-topics-selection&click=close", rel: "nofollow", className: "close_selection" },
          "\u8DF3\u8FC7"
        ),
        React.createElement(
          "h1",
          null,
          "\u4E0B\u9762\u662F\u5426\u6709\u4F60\u60F3\u5199\u7684\u8BDD\u9898\uFF1F"
        ),
        topics.length ? React.createElement(
          "ul",
          { className: "gl_topics" },
          topics.map(function (item) {
            return React.createElement(
              "li",
              { className: "topic" },
              React.createElement(
                "a",
                { href: "new_review?from=gallery-topics-selection&click=create&tag_from_gallery=" + item.topic.name,
                  className: "comment_btn write_review",
                  rel: "nofollow" },
                React.createElement("img", { src: window.write_icon }),
                React.createElement(
                  "span",
                  null,
                  window.join_label_text
                )
              ),
              React.createElement(
                "h2",
                { className: "topic_name" },
                item.topic.name
              ),
              React.createElement(
                "div",
                { className: "topic_meta" },
                item.topic.card_subtitle
              )
            );
          })
        ) : React.createElement(
          "div",
          null,
          "\u52A0\u8F7D\u4E2D"
        ),
        React.createElement(
          "a",
          { href: "new_review?from=gallery-topics-selection&click=skip", rel: "nofollow", className: "topics_skip" },
          React.createElement(
            "span",
            null,
            "\u4E0A\u9762\u6CA1\u6709\u6211\u60F3\u5199\u7684\u8BDD\u9898\uFF0C\u53BB\u5199\u5F71\u8BC4 \uFF1E "
          )
        )
      );
    }
  }]);

  return GalleryTopicsSelection;
}(React.Component);

$(function () {
  var glRoot = document.getElementById('gallery-topics-selection');

  ReactDOM.render(React.createElement(GalleryTopicsSelection, null), glRoot);
});;
    })();
</script><script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/289d9eab6b43a9ec.js"></script>
    <!-- COLLECTED CSS -->
</div>







            <p class="pl">
                &gt;
                <a href="reviews">
                    更多书评14篇
                </a>
            </p>
</section>
    
<!-- COLLECTED JS -->

  









<div class="ugc-mod reading-notes">
  <div class="hd">
    <h2>
      读书笔记&nbsp;&nbsp;· · · · · ·&nbsp;
          <span class="pl">(<a href="https://book.douban.com/subject/1231702/annotation">共<span property="v:count">13</span>篇</a>)</span>

    </h2>

      <a class="redbutt rr j a_show_login" href="https://www.douban.com/register?reason=annotate" rel="nofollow"><span>我来写笔记</span></a>
  </div>
  

    <div class="bd">
      <ul class="inline-tabs">
        <li class="on"><a href="#rank" id="by_rank" >按有用程度</a></li>
        <li><a href="#page" id="by_page" >按页码先后</a></li>
        <li><a href="#time" id="by_time" >最新笔记</a></li>
      </ul>
      
  <ul class="comments by_rank" >
      
      <li class="ctsh clearfix" data-cid="25450014">
        <div class="ilst">
          <a href="https://www.douban.com/people/aquababy/"><img src="https://img1.doubanio.com/icon/u1786037-248.jpg" alt="Y22" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/25450014/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/25450014/" class="">第10页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/aquababy/" class=" " title="Y22">Y22</a>
              
            </p>
            <div class="reading-note" data-cid="25450014">
              <div class="short">
                
                  <span class="">进程（Processes）
从Win32 的角度来看，进程含有内存和资源。被进程拥有的内存，理论上可以高达2GB。资源则包括核心对象（如file handles 和线程）、USER 资源（如对话框和字符串）、GDI 资源（如Device Context 和brushes）。
进程就像一本活页笔记夹，你可以在其中的活页上写东西，也可以擦掉内容或甚至整页撕掉，活页笔记夹只是持有那些东西而已。同理，进程本身并不能够执行，它只是提供一个安置内存和线程的地方（译注）。...</span>
                <p class="pl">
                  <span class="">2013-03-29 01:26</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>进程（Processes）
从Win32 的角度来看，进程含有内存和资源。被进程拥有的内存，理论上可以高达2GB。资源则包括核心对象（如file handles 和线程）、USER 资源（如对话框和字符串）、GDI 资源（如Device Context 和brushes）。
进程就像一本活页笔记夹，你可以在其中的活页上写东西，也可以擦掉内容或甚至整页撕掉，活页笔记夹只是持有那些东西而已。同理，进程本身并不能够执行，它只是提供一个安置内存和线程的地方（译注）。

译注 Matt Pietrek 在其Windows 95 System Programming SECRETS（Windows 95 系统程序设计大奥秘/侯俊杰译/旗标出版）一书中的解释是：“进程就是一大堆对象的拥有权的集合。也就是说，进程拥有对象。进程可以拥有内存（更精确地说是拥有memory context），可以拥有file handles，可以拥有线程，可以拥有一大串DLL 模块（被载入这一进程的地址空间中）。”请见原著#102 页，译本#103 页。</q></blockquote><div style="padding-bottom:1em;"></div>先记一下疑问：file handles是文件句柄吗，hInstance那个吗？
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/25450014/#comments">回应</a>&nbsp;&nbsp;
                  2013-03-29 01:26
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31093048">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31093048/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31093048/" class="">第400页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31093048">
              <div class="short">
                
                  <span class="">
DLL 的运作方式和 Unix 中的 shared library 有很大的不同。虽然最后的
结果类似，但其机制并不相似。DLL 是一个链接实体，有它自己的实际
生存事实。DLL 有自己的数据，独立于进程之外；有它自己的模块识别
代码（ID），可以被静态链接，也可以被动态链接（译注）。

DLL 可以被静态链接也可以被动态链接”，意思是指DLL 的 explicitly linking 和 implicitly linking 两种方式。前者是在程序中很明显地以 LoadLibrary() ..</span>
                <p class="pl">
                  <span class="">2014-04-01 14:51</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
DLL 的运作方式和 Unix 中的 shared library 有很大的不同。虽然最后的
结果类似，但其机制并不相似。DLL 是一个链接实体，有它自己的实际
生存事实。DLL 有自己的数据，独立于进程之外；有它自己的模块识别
代码（ID），可以被静态链接，也可以被动态链接（译注）。

DLL 可以被静态链接也可以被动态链接”，意思是指DLL 的 explicitly linking 和 implicitly linking 两种方式。前者是在程序中很明显地以 LoadLibrary() 将 DLL 载入，后者是在链接时期静态链接 DLL 的一个“替身”，也就是其 import library（输入函数库，或者说是导入库）。
</q></blockquote><div style="padding-bottom:1em;"></div>DLL 的通告消息（Notifications）<div style="padding-bottom:1em;"></div><blockquote><q>
如果你使用 C runtime library（在DLL的源码中），那么你应该使用 DllMain() 名称。但如果你没有使用 C runtime library（这是很希罕的情况），你可以利用链接器选项 /ENTRY 定义你自己喜欢的函数名称。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
任何时候，当一个进程载入或卸载一个DLL 时，DllMain() 函数会被调用。线程也是一样。当一个进程开始执行时，它所用到的每一个 DLL 的DllMain() 都会被系统调用之，并获得 DLL_PROCESS_ATTACH 消息。如果是线程开始执行，进程所用到的每一个 DLL 的 DllMain() 也都会被系统调用之，并获得 DLL_THREAD_ATTACH 消息。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
DllMain() 分别被以
DLL_PROCESS_ATTACH 和 DLL_THREAD_ATTACH 各调用一次。这令我
惊讶，因为我明明有两个线程。噢，原来 Win32 定义的这个机制，使得每一
个程序的第一个线程调用 DllMain() 时，是以 DLL_PROCESS_ATTACH 调
用之。所有后续的线程才是以 DLL_THREAD_ATTACH 调用之。
第二个重点是，DllMain() 系在新线程的 context 中被调用。这一点非常
重要，因为你需要一个 context，才能够使用线程局部存储（TLS）
</q></blockquote><div style="padding-bottom:1em;"></div>抑制通告消息（Disabling Notifications）<div style="padding-bottom:1em;"></div><blockquote><q>
关于“DllMain() 在线程的 context 中被调用”这件事，有一些分歧。很
明显地，程序 MAIN1 从未直接调用 DllMain()。DllMain() 是自动被调用，
你可以视之为 CreateProcess()（那是 Windows 调用的）或 CreateThread()（那
是 MAIN1 调用的）的副作用。现在我们看看，如果有５个、10 个、甚至 20
个 DLLs 被附着到进程之中的情况。每当你启动一个新线程，每一个 DLLs 的
DllMain() 都会被调用。突然之间你发现多了好多预期之外的负担。
为了避免这个问题，Win32 提供了一个 DisableThreadLibraryCalls() 函
数。该函数只在 Windows NT 中才有，在 Windows 95 中没有效用。你可以
一一指定不需要通告消息的 DLLs。如果一个程序常常产生新的线程，这么一
点小小的最优化操作会节省不少的负担唷。
</q></blockquote><div style="padding-bottom:1em;"></div>初始化失败<div style="padding-bottom:1em;"></div><blockquote><q>
最后还有一个关于通告消息的特性是你必须知道的。如果 DllMain() 收到
DLL_PROCESS_ATTACH 时因不能够正确初始化而传回 FALSE，DllMain()
还是会收到 DLL_PROCESS_DETACH。因此，你必须非常小心地在 FALSE
被传回之前，将每一个有价值的变量初始化为一个已知状态，如此一来，
DLL_PROCESS_DETACH 的处理函数才不会因为乱指的指针或是不合理的
数组索引而当掉。
</q></blockquote><div style="padding-bottom:1em;"></div>通告消息（Notification）摘要<div style="padding-bottom:1em;"></div><blockquote><q>
由于上述讨论的那些题目，你必须因此非常小心地安排你的 DllMain() 函
数。理想中你最好是像我那样，写一些简单的驱动程序，确保 ATTACH 和
DETACH 通告消息都能够被正确地处理——甚至即使它们遗漏掉了或是乱了
次序。
i 如果进程调用 LoadLibrary 时，有一个以上的线程正在运行，那么
DLL_THREAD_ATTACH 不会针对每一个线程送出。（译注：只有调用
LoadLibrary 的那个线程才会发出）
i DllMain() 不接受第一个线程的 DLL_THREAD_ATTACH， 而以
DLL_PROCESS_ATTACH 取代之。
i DllMain() 不接收任何因 TerminateThread() 而结束之线程的
DLL_THREAD_DETACH 通告消息。如果程序调用 exit(1) 或 ExitProcess()
结束自己，这种情况就会发生。
</q></blockquote><div style="padding-bottom:1em;"></div>DLL 进入点的依序执行（Serialization）特性<div style="padding-bottom:1em;"></div><blockquote><q>
我们还没有完成对 DLL 进入点的讨论。Win32 设计之初，下面的问题必
须解决：
1. 线程１调用 LoadLibrary()，会送出 DLL_PROCESS_ATTACH。
2. 当 DLL 正在处理 DLL_PROCESS_ATTACH ， 线程２ 调用
LoadLibrary()，于是送出 DLL_THREAD_ATTACH。
3. DllMain()开始处理DLL_THREAD_ATTACH——在DLL_PROCESS
_ATTACH 未完成之前。

一个 race condition 于焉诞生，操作系统不能给你任何帮助。为了解决这
个问题，Win32 必须依序调用所有 DLLs 的 DllMain() 函数。在一个进程之
中，一次只有一个线程能够执行一个 DLL 的 DllMain()。事实上，每一个线
程依次调用每一个附着的 DLLs 的 DllMain() 函数。

偶尔你会进入一种副作用之中。如果你在 DllMain() 内产生一个线程，该
线程可能没有办法在其他数个 DllMain() 完成之前顺利初始化它自己。因此，
你不可能在 DllMain() 中启动一个线程，等待它初始化，然后才继续执行下去。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
若想要生产 DLLs 以便安全地在多线程环境中使用，下面是几个大方针：
i 不要使用全局变量。用来储存 TLS 槽（slot）者例外。
i 不要使用静态变量。
i 如有必要，尽量使用 TLS（Thread Local Storage）。
i 如有必要，尽量使用你的堆栈。
</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31093048/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 14:51
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31092676">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31092676/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31092676/" class="">第365页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31092676">
              <div class="short">
                
                  <span class="">
虽然我们已经讨论过，使用多重线程比使用多重进程的好处，但还是可
能因为某些理由使你决定使用多重进程。我们之所以认为线程有很多优点，
主要因为它“重量很轻”，对于系统资源的冲击最小，能够快速启动和结
束。多重线程可以共享同一个地址空间和核心对象，所以很容易在它们之间
搬移数据。

相反地，进程的设计，在彼此防护上就严谨多了。如果一个进程死亡，
系统中的其他进程还是可以继续执行。对于某些应用而言，这...</span>
                <p class="pl">
                  <span class="">2014-04-01 14:24</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
虽然我们已经讨论过，使用多重线程比使用多重进程的好处，但还是可
能因为某些理由使你决定使用多重进程。我们之所以认为线程有很多优点，
主要因为它“重量很轻”，对于系统资源的冲击最小，能够快速启动和结
束。多重线程可以共享同一个地址空间和核心对象，所以很容易在它们之间
搬移数据。

相反地，进程的设计，在彼此防护上就严谨多了。如果一个进程死亡，
系统中的其他进程还是可以继续执行。对于某些应用而言，这样的健壮性
（robustness）或许值得花费比较多的额外负担（overhead）。因为如果多个
线程在同一个进程中运行，那么一个误入歧途的线程就可能把整个进程给毁
了。
</q></blockquote><div style="padding-bottom:1em;"></div>卧槽，Linux设计哲学上就说是要尽量避免用多线程，提倡用多进程，以免引起多线程引起的复杂性问题。 宁愿代价开销更大。 话说，Unix编程艺术那本书说得好：编写软件就是尽量降低软件复杂度 。- -！话说，我在GitHub上看过很多别人自己的项目，都很少用到多线程。能尽量避免多线程就避免多线程。<div style="padding-bottom:1em;"></div><blockquote><q>
另一个使用多重进程的理由是，当一个程序从一个作业平台被移植到另一个作业平台上。以 Unix 来说吧，Unix 不支持线程，但其进程的产生与结束的代价并不昂贵。因此，Unix 应用程序往往使用多个进程。如果要把它们移植为多线程模式，可能需要大改。在这种情况下，将程序移植到 Win32，可能需要成本效益上的妥协。
</q></blockquote><div style="padding-bottom:1em;"></div>以消息队列权充数据转运中心<div style="padding-bottom:1em;"></div><blockquote><q>
在同一个进程的不同线程之间搬移数据，最简单的一种做法就是利用消息队列。

如果你尝试在进程Ａ的线程中把一个 LPARAM（内含一个指针）交给进
程Ｂ，进程Ｂ有可能在使用这一指针时当掉。问题出在这个指针所指的数据乃
位于进程Ａ的地址空间中。进程Ｂ不可能看到这个地址空间，所以这个指针会
被以进程Ｂ的地址空间解释之。那当然是牛头不对马嘴了。

为解决这个问题，Windows 定义了一个消息，名为 WM_COPYDATA，专门
用来在线程之间搬移数据——不管两个线程是否同属一个进程。和其他所有的消息一样，你必须指定一个窗口，也就是一个 HWND，当做消息的目的地。所以欲接
收此消息的线程必须有一个窗口（译注：也就是它必须是个 UI 线程）。


WM_COPYDATA 消息的使用方式如下：
SendMessage(hwndReceiver,
WM_COPYDATA,
(WPARAM)hwndSender,
(LPARAM)&amp;cds);
LPARAM 参数 cds 必须指向一个特定的 Windows 数据结构：
typedef struct tagCOPYDATASTRUCT { // cds
DWORD dwData;
DWORD cbData;
PVOID lpData;
} COPYDATASTRUCT, *PCOPYDATASTRUCT;
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
你必须使用 SendMessage() 传送 WM_COPYDATA ， 不能够使用PostMessage() 或任何其他变种函数如 PostThreadMessage() 之流。这是因为系统必须管理用以传递数据的缓冲区的生命期。如果你使用 PostMessage()，数据缓冲区会在接收端（线程）有机会处理该数据之前，被系统清除并摧毁。

缓冲区的生命期是一个重点。如果要把数据传送给一个以 CreateThread()
产生出来的线程，那块数据空间必须从 heap 中获得，因为线程将在
CreateThread() 返回之后开始执行（译注）。lpData 所指向的这块数据并不受
限于这种方式。因为你用的是 SendMessage() ， 你可以保证接收端在SendMessage() 返回之前一定已经完成其对数据的操作（译注：这是因为SendMessage 有同步特性），所以 lpData 所指的空间可以在 heap 之中，也可以在 stack 之中。

然而，接收端（线程）所获得的数据系属于系统。数据区块只是临时存在，
一旦消息被处理之后，立刻就会被清除。并且因为是系统拥有这块空间，它被
认为应该是只读（read only）属性。如果接收端（线程）需要改变数据内容，
或是需要储存一份比较久远的数据副本，接收端应该自行拷贝一份。
</q></blockquote><div style="padding-bottom:1em;"></div>使用共享内存（Shared Memory）<div style="padding-bottom:1em;"></div><blockquote><q>
对于在进程之间搬移数据，WM_COPYDATA 技术非常简单，但有时候
你需要更高效率的技术。你需要让进程真正地共享数据，就像同一进程中的线
程一样，于是某个进程对该数据的改变，立刻就能够反应在另一个进程中。要
达到这一点，你必须使用 Win32 进程通讯技术中的最低阶一层：共享内存
（shared memory）。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
设定一块共享内存区域（Shared Memory Area）
设定一块共享内存区域，需要两个步骤：
1. 产生一个所谓的 file-mapping 核心对象，并指定共享区域的大小。
2. 将共享区域映射到你的进程的地址空间中。
第一个步骤使用 CreateFileMapping() 函数。一般而言，这个函数允许你
存取一个文件，就好像它是内存中的数据一样，但是我们要使用的是另一个特
殊的模式，它会在页面文件（paging file）中产生一块空间，使任何一个进程
都可以根据其名称而存取到它。

为了从共享内存中获得一个指针，我们必须使用 MapViewOfFile()。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
你们之中有些已经熟悉 CreateFileMapping() 的人可能会惊讶，为什么我使
用页面文件（paging file）而不使用文件系统中的某个文件。两个理由，第一，
如果使用文件系统中的文件，每个人都得同意其文件名称及其位置。这是多么没
有必要的琐屑事情。第二，如果机器当掉了的话，一个文件可能变得陈旧而无用，
徒占磁盘空间。如果你以页面文件提供共享内存，上述问题都不会发生。
</q></blockquote><div style="padding-bottom:1em;"></div>较高层次的进程通讯（IPC）<div style="padding-bottom:1em;"></div><blockquote><q>
匿名管道，命名管道等
</q></blockquote><div style="padding-bottom:1em;"></div>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31092676/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 14:24
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31092185">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31092185/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31092185/" class="">第305页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31092185">
              <div class="short">
                
                  <span class="">
如果要在 MFC 程序中产生一个线程，而该线程将调用 MFC 函数或使用 MFC 的任何数据， 那么你必须以 AfxBeginThread() 或CWinThread::CreateThread() 来产生这些线程。



MFC使得对话框的产生极为简单。它也实现出消息派送系统（ message dispatching），处理 WPARAM 和 LPARAM 的易犯错误。MFC 甚至是引诱某些人进入 C++ 的原动力。


MFC框架及其丑陋，然后被引诱进MFC坑的人，估计是不好出来了，呵呵。写windows程序我...</span>
                <p class="pl">
                  <span class="">2014-04-01 13:58</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
如果要在 MFC 程序中产生一个线程，而该线程将调用 MFC 函数或使用 MFC 的任何数据， 那么你必须以 AfxBeginThread() 或CWinThread::CreateThread() 来产生这些线程。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
MFC使得对话框的产生极为简单。它也实现出消息派送系统（ message dispatching），处理 WPARAM 和 LPARAM 的易犯错误。MFC 甚至是引诱某些人进入 C++ 的原动力。
</q></blockquote><div style="padding-bottom:1em;"></div>MFC框架及其丑陋，然后被引诱进MFC坑的人，估计是不好出来了，呵呵。写windows程序我及其讨厌写UI，特别麻烦。<div style="padding-bottom:1em;"></div>在MFC 中启动一个 Worker 线程<div style="padding-bottom:1em;"></div><blockquote><q>
你已经看过了 worker 线程和 GUI 线程之间的一些理论上的差异。两者一般而言都是以 CreateThread() 或 _beginthreadex() 开始其生命。如果线程调用 GetMessage() 或 CreateWindow() 之类函数，消息队列便会产生（译注），而 worker 线程也就摇身一变成了 GUI 线程（或称为 UI 线程）。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
MFC 对这两种线程有重大的区别。虽然两种线程都是以AfxBeginThread() 启动，但是 MFC 利用 C++ 函数的 overloading 性质，对该函数提供了两种不同的声明。编译器会根据你所提供的参数，自动选择正确的一个来用。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
CWinThread 被极其小心地设计，解决了许多我们在 CreateThread() _beginthreadex() 中所遇到的困难。CWinThread 甚至正确地处理了原本期望_beginthread() 所做的清理（cleanup）工作。视你的需求，CWinThread 可以极有弹性。
</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31092185/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 13:58
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_page"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="25441890">
        <div class="ilst">
          <a href="https://www.douban.com/people/aquababy/"><img src="https://img1.doubanio.com/icon/u1786037-248.jpg" alt="Y22" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/25441890/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/25441890/" class="">第6页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/aquababy/" class=" " title="Y22">Y22</a>
              
            </p>
            <div class="reading-note" data-cid="25441890">
              <div class="short">
                
                  <span class="">Windows 3.x 的多任务
Windows 3.x 的确有支持抢先式多任务，但程序员却不可得之。由于DOS 程序毫无共享观念，抢先式多任务是让它们不得擅专整部机器的唯一方法。而所有Windows 程序则被“放在一起，视为单一的DOS 程序”。所以Windows 3.x 对DOS 程序的确是抢先式多任务，但对于Windows 程序则不是。

这段话不理解啊，Windows 3.x 不是可以运行多个Windows程序的吗，只不过相对于DOS，它只能单独运行，和这里说得不一样啊。
...</span>
                <p class="pl">
                  <span class="">2013-03-28 19:01</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>Windows 3.x 的多任务
Windows 3.x 的确有支持抢先式多任务，但程序员却不可得之。由于DOS 程序毫无共享观念，抢先式多任务是让它们不得擅专整部机器的唯一方法。而所有Windows 程序则被“放在一起，视为单一的DOS 程序”。所以Windows 3.x 对DOS 程序的确是抢先式多任务，但对于Windows 程序则不是。</q></blockquote><div style="padding-bottom:1em;"></div>这段话不理解啊，Windows 3.x 不是可以运行多个Windows程序的吗，只不过相对于DOS，它只能单独运行，和这里说得不一样啊。<div style="padding-bottom:1em;"></div>翻译很像台湾普通话呢。
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/25441890/#comments">回应</a>&nbsp;&nbsp;
                  2013-03-28 19:01
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="25449353">
        <div class="ilst">
          <a href="https://www.douban.com/people/aquababy/"><img src="https://img1.doubanio.com/icon/u1786037-248.jpg" alt="Y22" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/25449353/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/25449353/" class="">第8页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/aquababy/" class=" " title="Y22">Y22</a>
              
            </p>
            <div class="reading-note" data-cid="25449353">
              <div class="short">
                
                  <span class="">如果你曾经尝试使用Windows NT 3.x 的File Manager 连接一个忙碌的服务器，我想你会知道，File Manager 基本上会悬在那儿一动也不动，直到服务器完成所有操作。程序员绝对没办法改善这种局面，因为操作停滞在操作系统里面。如果它停滞在你的程序中，你可以放一个PeekMessage()循环。但是对于操作系统，你没有太多的控制能力。因此，如果文件操作需要一段长时间的话，控制权不可能立刻传回到用户手上。</span>
                <p class="pl">
                  <span class="">2013-03-29 00:06</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>如果你曾经尝试使用Windows NT 3.x 的File Manager 连接一个忙碌的服务器，我想你会知道，File Manager 基本上会悬在那儿一动也不动，直到服务器完成所有操作。程序员绝对没办法改善这种局面，因为操作停滞在操作系统里面。如果它停滞在你的程序中，你可以放一个PeekMessage()循环。但是对于操作系统，你没有太多的控制能力。因此，如果文件操作需要一段长时间的话，控制权不可能立刻传回到用户手上。</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/25449353/#comments">回应</a>&nbsp;&nbsp;
                  2013-03-29 00:06
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="25450014">
        <div class="ilst">
          <a href="https://www.douban.com/people/aquababy/"><img src="https://img1.doubanio.com/icon/u1786037-248.jpg" alt="Y22" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/25450014/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/25450014/" class="">第10页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/aquababy/" class=" " title="Y22">Y22</a>
              
            </p>
            <div class="reading-note" data-cid="25450014">
              <div class="short">
                
                  <span class="">进程（Processes）
从Win32 的角度来看，进程含有内存和资源。被进程拥有的内存，理论上可以高达2GB。资源则包括核心对象（如file handles 和线程）、USER 资源（如对话框和字符串）、GDI 资源（如Device Context 和brushes）。
进程就像一本活页笔记夹，你可以在其中的活页上写东西，也可以擦掉内容或甚至整页撕掉，活页笔记夹只是持有那些东西而已。同理，进程本身并不能够执行，它只是提供一个安置内存和线程的地方（译注）。...</span>
                <p class="pl">
                  <span class="">2013-03-29 01:26</span>
                  
                    &nbsp;&nbsp;<span class="">1人喜欢</span>
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>进程（Processes）
从Win32 的角度来看，进程含有内存和资源。被进程拥有的内存，理论上可以高达2GB。资源则包括核心对象（如file handles 和线程）、USER 资源（如对话框和字符串）、GDI 资源（如Device Context 和brushes）。
进程就像一本活页笔记夹，你可以在其中的活页上写东西，也可以擦掉内容或甚至整页撕掉，活页笔记夹只是持有那些东西而已。同理，进程本身并不能够执行，它只是提供一个安置内存和线程的地方（译注）。

译注 Matt Pietrek 在其Windows 95 System Programming SECRETS（Windows 95 系统程序设计大奥秘/侯俊杰译/旗标出版）一书中的解释是：“进程就是一大堆对象的拥有权的集合。也就是说，进程拥有对象。进程可以拥有内存（更精确地说是拥有memory context），可以拥有file handles，可以拥有线程，可以拥有一大串DLL 模块（被载入这一进程的地址空间中）。”请见原著#102 页，译本#103 页。</q></blockquote><div style="padding-bottom:1em;"></div>先记一下疑问：file handles是文件句柄吗，hInstance那个吗？
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/25450014/#comments">回应</a>&nbsp;&nbsp;
                  2013-03-29 01:26
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="25462022">
        <div class="ilst">
          <a href="https://www.douban.com/people/aquababy/"><img src="https://img1.doubanio.com/icon/u1786037-248.jpg" alt="Y22" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/25462022/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/25462022/" class="">第11页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/aquababy/" class=" " title="Y22">Y22</a>
              
            </p>
            <div class="reading-note" data-cid="25462022">
              <div class="short">
                
                  <span class="">内存

每一个进程都关系到内存。内存就像是前面所说的活页笔记夹中的活页纸，它代表的意义完全得看纸面上写些什么而定。内存可以大致分为三种类型：

i Code

i Data

i Stack

Code 

是程序的可执行部分，一定是只读（read only）性质。这是CPU 唯一允许执行的内存。可执行Windows NT 的两种芯片：Intel 芯片和RISC 芯片都有这项限制。

Data

是你的程序中的所有变量（不包括函数中的局部变量），可以区分为全..</span>
                <p class="pl">
                  <span class="">2013-03-29 17:08</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>内存

每一个进程都关系到内存。内存就像是前面所说的活页笔记夹中的活页纸，它代表的意义完全得看纸面上写些什么而定。内存可以大致分为三种类型：

i Code

i Data

i Stack

Code 

是程序的可执行部分，一定是只读（read only）性质。这是CPU 唯一允许执行的内存。可执行Windows NT 的两种芯片：Intel 芯片和RISC 芯片都有这项限制。

Data

是你的程序中的所有变量（不包括函数中的局部变量），可以区分为全局变量和静态变量两种。当然线程也可以使用malloc()或new 动态配置内存。

Stack

是你调用函数时所用的堆栈空间，其中有局部变量。每个线程产生时配有一个堆栈。如果不需要，操作系统会将它动态扩充。


所有这些内存对进程中的所有线程都是可用的。这在多线程程序中虽然带来很大的方便，却也带来很大的灾难。</q></blockquote><div style="padding-bottom:1em;"></div>“如果不需要，操作系统会将它动态扩充”？多了个“不”吧
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/25462022/#comments">回应</a>&nbsp;&nbsp;
                  2013-03-29 17:08
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

      
  <ul class="comments by_time"  style="display: none">
      
      <li class="ctsh clearfix" data-cid="31093048">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31093048/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31093048/" class="">第400页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31093048">
              <div class="short">
                
                  <span class="">
DLL 的运作方式和 Unix 中的 shared library 有很大的不同。虽然最后的
结果类似，但其机制并不相似。DLL 是一个链接实体，有它自己的实际
生存事实。DLL 有自己的数据，独立于进程之外；有它自己的模块识别
代码（ID），可以被静态链接，也可以被动态链接（译注）。

DLL 可以被静态链接也可以被动态链接”，意思是指DLL 的 explicitly linking 和 implicitly linking 两种方式。前者是在程序中很明显地以 LoadLibrary() ..</span>
                <p class="pl">
                  <span class="">2014-04-01 14:51</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
DLL 的运作方式和 Unix 中的 shared library 有很大的不同。虽然最后的
结果类似，但其机制并不相似。DLL 是一个链接实体，有它自己的实际
生存事实。DLL 有自己的数据，独立于进程之外；有它自己的模块识别
代码（ID），可以被静态链接，也可以被动态链接（译注）。

DLL 可以被静态链接也可以被动态链接”，意思是指DLL 的 explicitly linking 和 implicitly linking 两种方式。前者是在程序中很明显地以 LoadLibrary() 将 DLL 载入，后者是在链接时期静态链接 DLL 的一个“替身”，也就是其 import library（输入函数库，或者说是导入库）。
</q></blockquote><div style="padding-bottom:1em;"></div>DLL 的通告消息（Notifications）<div style="padding-bottom:1em;"></div><blockquote><q>
如果你使用 C runtime library（在DLL的源码中），那么你应该使用 DllMain() 名称。但如果你没有使用 C runtime library（这是很希罕的情况），你可以利用链接器选项 /ENTRY 定义你自己喜欢的函数名称。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
任何时候，当一个进程载入或卸载一个DLL 时，DllMain() 函数会被调用。线程也是一样。当一个进程开始执行时，它所用到的每一个 DLL 的DllMain() 都会被系统调用之，并获得 DLL_PROCESS_ATTACH 消息。如果是线程开始执行，进程所用到的每一个 DLL 的 DllMain() 也都会被系统调用之，并获得 DLL_THREAD_ATTACH 消息。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
DllMain() 分别被以
DLL_PROCESS_ATTACH 和 DLL_THREAD_ATTACH 各调用一次。这令我
惊讶，因为我明明有两个线程。噢，原来 Win32 定义的这个机制，使得每一
个程序的第一个线程调用 DllMain() 时，是以 DLL_PROCESS_ATTACH 调
用之。所有后续的线程才是以 DLL_THREAD_ATTACH 调用之。
第二个重点是，DllMain() 系在新线程的 context 中被调用。这一点非常
重要，因为你需要一个 context，才能够使用线程局部存储（TLS）
</q></blockquote><div style="padding-bottom:1em;"></div>抑制通告消息（Disabling Notifications）<div style="padding-bottom:1em;"></div><blockquote><q>
关于“DllMain() 在线程的 context 中被调用”这件事，有一些分歧。很
明显地，程序 MAIN1 从未直接调用 DllMain()。DllMain() 是自动被调用，
你可以视之为 CreateProcess()（那是 Windows 调用的）或 CreateThread()（那
是 MAIN1 调用的）的副作用。现在我们看看，如果有５个、10 个、甚至 20
个 DLLs 被附着到进程之中的情况。每当你启动一个新线程，每一个 DLLs 的
DllMain() 都会被调用。突然之间你发现多了好多预期之外的负担。
为了避免这个问题，Win32 提供了一个 DisableThreadLibraryCalls() 函
数。该函数只在 Windows NT 中才有，在 Windows 95 中没有效用。你可以
一一指定不需要通告消息的 DLLs。如果一个程序常常产生新的线程，这么一
点小小的最优化操作会节省不少的负担唷。
</q></blockquote><div style="padding-bottom:1em;"></div>初始化失败<div style="padding-bottom:1em;"></div><blockquote><q>
最后还有一个关于通告消息的特性是你必须知道的。如果 DllMain() 收到
DLL_PROCESS_ATTACH 时因不能够正确初始化而传回 FALSE，DllMain()
还是会收到 DLL_PROCESS_DETACH。因此，你必须非常小心地在 FALSE
被传回之前，将每一个有价值的变量初始化为一个已知状态，如此一来，
DLL_PROCESS_DETACH 的处理函数才不会因为乱指的指针或是不合理的
数组索引而当掉。
</q></blockquote><div style="padding-bottom:1em;"></div>通告消息（Notification）摘要<div style="padding-bottom:1em;"></div><blockquote><q>
由于上述讨论的那些题目，你必须因此非常小心地安排你的 DllMain() 函
数。理想中你最好是像我那样，写一些简单的驱动程序，确保 ATTACH 和
DETACH 通告消息都能够被正确地处理——甚至即使它们遗漏掉了或是乱了
次序。
i 如果进程调用 LoadLibrary 时，有一个以上的线程正在运行，那么
DLL_THREAD_ATTACH 不会针对每一个线程送出。（译注：只有调用
LoadLibrary 的那个线程才会发出）
i DllMain() 不接受第一个线程的 DLL_THREAD_ATTACH， 而以
DLL_PROCESS_ATTACH 取代之。
i DllMain() 不接收任何因 TerminateThread() 而结束之线程的
DLL_THREAD_DETACH 通告消息。如果程序调用 exit(1) 或 ExitProcess()
结束自己，这种情况就会发生。
</q></blockquote><div style="padding-bottom:1em;"></div>DLL 进入点的依序执行（Serialization）特性<div style="padding-bottom:1em;"></div><blockquote><q>
我们还没有完成对 DLL 进入点的讨论。Win32 设计之初，下面的问题必
须解决：
1. 线程１调用 LoadLibrary()，会送出 DLL_PROCESS_ATTACH。
2. 当 DLL 正在处理 DLL_PROCESS_ATTACH ， 线程２ 调用
LoadLibrary()，于是送出 DLL_THREAD_ATTACH。
3. DllMain()开始处理DLL_THREAD_ATTACH——在DLL_PROCESS
_ATTACH 未完成之前。

一个 race condition 于焉诞生，操作系统不能给你任何帮助。为了解决这
个问题，Win32 必须依序调用所有 DLLs 的 DllMain() 函数。在一个进程之
中，一次只有一个线程能够执行一个 DLL 的 DllMain()。事实上，每一个线
程依次调用每一个附着的 DLLs 的 DllMain() 函数。

偶尔你会进入一种副作用之中。如果你在 DllMain() 内产生一个线程，该
线程可能没有办法在其他数个 DllMain() 完成之前顺利初始化它自己。因此，
你不可能在 DllMain() 中启动一个线程，等待它初始化，然后才继续执行下去。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
若想要生产 DLLs 以便安全地在多线程环境中使用，下面是几个大方针：
i 不要使用全局变量。用来储存 TLS 槽（slot）者例外。
i 不要使用静态变量。
i 如有必要，尽量使用 TLS（Thread Local Storage）。
i 如有必要，尽量使用你的堆栈。
</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31093048/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 14:51
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31092676">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31092676/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31092676/" class="">第365页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31092676">
              <div class="short">
                
                  <span class="">
虽然我们已经讨论过，使用多重线程比使用多重进程的好处，但还是可
能因为某些理由使你决定使用多重进程。我们之所以认为线程有很多优点，
主要因为它“重量很轻”，对于系统资源的冲击最小，能够快速启动和结
束。多重线程可以共享同一个地址空间和核心对象，所以很容易在它们之间
搬移数据。

相反地，进程的设计，在彼此防护上就严谨多了。如果一个进程死亡，
系统中的其他进程还是可以继续执行。对于某些应用而言，这...</span>
                <p class="pl">
                  <span class="">2014-04-01 14:24</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
虽然我们已经讨论过，使用多重线程比使用多重进程的好处，但还是可
能因为某些理由使你决定使用多重进程。我们之所以认为线程有很多优点，
主要因为它“重量很轻”，对于系统资源的冲击最小，能够快速启动和结
束。多重线程可以共享同一个地址空间和核心对象，所以很容易在它们之间
搬移数据。

相反地，进程的设计，在彼此防护上就严谨多了。如果一个进程死亡，
系统中的其他进程还是可以继续执行。对于某些应用而言，这样的健壮性
（robustness）或许值得花费比较多的额外负担（overhead）。因为如果多个
线程在同一个进程中运行，那么一个误入歧途的线程就可能把整个进程给毁
了。
</q></blockquote><div style="padding-bottom:1em;"></div>卧槽，Linux设计哲学上就说是要尽量避免用多线程，提倡用多进程，以免引起多线程引起的复杂性问题。 宁愿代价开销更大。 话说，Unix编程艺术那本书说得好：编写软件就是尽量降低软件复杂度 。- -！话说，我在GitHub上看过很多别人自己的项目，都很少用到多线程。能尽量避免多线程就避免多线程。<div style="padding-bottom:1em;"></div><blockquote><q>
另一个使用多重进程的理由是，当一个程序从一个作业平台被移植到另一个作业平台上。以 Unix 来说吧，Unix 不支持线程，但其进程的产生与结束的代价并不昂贵。因此，Unix 应用程序往往使用多个进程。如果要把它们移植为多线程模式，可能需要大改。在这种情况下，将程序移植到 Win32，可能需要成本效益上的妥协。
</q></blockquote><div style="padding-bottom:1em;"></div>以消息队列权充数据转运中心<div style="padding-bottom:1em;"></div><blockquote><q>
在同一个进程的不同线程之间搬移数据，最简单的一种做法就是利用消息队列。

如果你尝试在进程Ａ的线程中把一个 LPARAM（内含一个指针）交给进
程Ｂ，进程Ｂ有可能在使用这一指针时当掉。问题出在这个指针所指的数据乃
位于进程Ａ的地址空间中。进程Ｂ不可能看到这个地址空间，所以这个指针会
被以进程Ｂ的地址空间解释之。那当然是牛头不对马嘴了。

为解决这个问题，Windows 定义了一个消息，名为 WM_COPYDATA，专门
用来在线程之间搬移数据——不管两个线程是否同属一个进程。和其他所有的消息一样，你必须指定一个窗口，也就是一个 HWND，当做消息的目的地。所以欲接
收此消息的线程必须有一个窗口（译注：也就是它必须是个 UI 线程）。


WM_COPYDATA 消息的使用方式如下：
SendMessage(hwndReceiver,
WM_COPYDATA,
(WPARAM)hwndSender,
(LPARAM)&amp;cds);
LPARAM 参数 cds 必须指向一个特定的 Windows 数据结构：
typedef struct tagCOPYDATASTRUCT { // cds
DWORD dwData;
DWORD cbData;
PVOID lpData;
} COPYDATASTRUCT, *PCOPYDATASTRUCT;
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
你必须使用 SendMessage() 传送 WM_COPYDATA ， 不能够使用PostMessage() 或任何其他变种函数如 PostThreadMessage() 之流。这是因为系统必须管理用以传递数据的缓冲区的生命期。如果你使用 PostMessage()，数据缓冲区会在接收端（线程）有机会处理该数据之前，被系统清除并摧毁。

缓冲区的生命期是一个重点。如果要把数据传送给一个以 CreateThread()
产生出来的线程，那块数据空间必须从 heap 中获得，因为线程将在
CreateThread() 返回之后开始执行（译注）。lpData 所指向的这块数据并不受
限于这种方式。因为你用的是 SendMessage() ， 你可以保证接收端在SendMessage() 返回之前一定已经完成其对数据的操作（译注：这是因为SendMessage 有同步特性），所以 lpData 所指的空间可以在 heap 之中，也可以在 stack 之中。

然而，接收端（线程）所获得的数据系属于系统。数据区块只是临时存在，
一旦消息被处理之后，立刻就会被清除。并且因为是系统拥有这块空间，它被
认为应该是只读（read only）属性。如果接收端（线程）需要改变数据内容，
或是需要储存一份比较久远的数据副本，接收端应该自行拷贝一份。
</q></blockquote><div style="padding-bottom:1em;"></div>使用共享内存（Shared Memory）<div style="padding-bottom:1em;"></div><blockquote><q>
对于在进程之间搬移数据，WM_COPYDATA 技术非常简单，但有时候
你需要更高效率的技术。你需要让进程真正地共享数据，就像同一进程中的线
程一样，于是某个进程对该数据的改变，立刻就能够反应在另一个进程中。要
达到这一点，你必须使用 Win32 进程通讯技术中的最低阶一层：共享内存
（shared memory）。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
设定一块共享内存区域（Shared Memory Area）
设定一块共享内存区域，需要两个步骤：
1. 产生一个所谓的 file-mapping 核心对象，并指定共享区域的大小。
2. 将共享区域映射到你的进程的地址空间中。
第一个步骤使用 CreateFileMapping() 函数。一般而言，这个函数允许你
存取一个文件，就好像它是内存中的数据一样，但是我们要使用的是另一个特
殊的模式，它会在页面文件（paging file）中产生一块空间，使任何一个进程
都可以根据其名称而存取到它。

为了从共享内存中获得一个指针，我们必须使用 MapViewOfFile()。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
你们之中有些已经熟悉 CreateFileMapping() 的人可能会惊讶，为什么我使
用页面文件（paging file）而不使用文件系统中的某个文件。两个理由，第一，
如果使用文件系统中的文件，每个人都得同意其文件名称及其位置。这是多么没
有必要的琐屑事情。第二，如果机器当掉了的话，一个文件可能变得陈旧而无用，
徒占磁盘空间。如果你以页面文件提供共享内存，上述问题都不会发生。
</q></blockquote><div style="padding-bottom:1em;"></div>较高层次的进程通讯（IPC）<div style="padding-bottom:1em;"></div><blockquote><q>
匿名管道，命名管道等
</q></blockquote><div style="padding-bottom:1em;"></div>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31092676/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 14:24
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31092185">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31092185/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31092185/" class="">第305页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31092185">
              <div class="short">
                
                  <span class="">
如果要在 MFC 程序中产生一个线程，而该线程将调用 MFC 函数或使用 MFC 的任何数据， 那么你必须以 AfxBeginThread() 或CWinThread::CreateThread() 来产生这些线程。



MFC使得对话框的产生极为简单。它也实现出消息派送系统（ message dispatching），处理 WPARAM 和 LPARAM 的易犯错误。MFC 甚至是引诱某些人进入 C++ 的原动力。


MFC框架及其丑陋，然后被引诱进MFC坑的人，估计是不好出来了，呵呵。写windows程序我...</span>
                <p class="pl">
                  <span class="">2014-04-01 13:58</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                <blockquote><q>
如果要在 MFC 程序中产生一个线程，而该线程将调用 MFC 函数或使用 MFC 的任何数据， 那么你必须以 AfxBeginThread() 或CWinThread::CreateThread() 来产生这些线程。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
MFC使得对话框的产生极为简单。它也实现出消息派送系统（ message dispatching），处理 WPARAM 和 LPARAM 的易犯错误。MFC 甚至是引诱某些人进入 C++ 的原动力。
</q></blockquote><div style="padding-bottom:1em;"></div>MFC框架及其丑陋，然后被引诱进MFC坑的人，估计是不好出来了，呵呵。写windows程序我及其讨厌写UI，特别麻烦。<div style="padding-bottom:1em;"></div>在MFC 中启动一个 Worker 线程<div style="padding-bottom:1em;"></div><blockquote><q>
你已经看过了 worker 线程和 GUI 线程之间的一些理论上的差异。两者一般而言都是以 CreateThread() 或 _beginthreadex() 开始其生命。如果线程调用 GetMessage() 或 CreateWindow() 之类函数，消息队列便会产生（译注），而 worker 线程也就摇身一变成了 GUI 线程（或称为 UI 线程）。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
MFC 对这两种线程有重大的区别。虽然两种线程都是以AfxBeginThread() 启动，但是 MFC 利用 C++ 函数的 overloading 性质，对该函数提供了两种不同的声明。编译器会根据你所提供的参数，自动选择正确的一个来用。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
CWinThread 被极其小心地设计，解决了许多我们在 CreateThread() _beginthreadex() 中所遇到的困难。CWinThread 甚至正确地处理了原本期望_beginthread() 所做的清理（cleanup）工作。视你的需求，CWinThread 可以极有弹性。
</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31092185/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 13:58
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
      
      <li class="ctsh clearfix" data-cid="31089543">
        <div class="ilst">
          <a href="https://www.douban.com/people/foo_hack/"><img src="https://img3.doubanio.com/icon/u48156543-16.jpg" alt="MathxH" class="" /></a>
        </div>
        <div class="con">
          <div class="nlst">
            <h3>
              <div class="note-toggle rr">
                <a href="https://book.douban.com/annotation/31089543/" class="note-unfolder">展开</a>
                <a href="javascript:void(0);" class="note-folder">收起</a>
              </div>
              <a href="https://book.douban.com/annotation/31089543/" class="">第322页</a></h3>
          </div>
          <div class="clst">
            <p class="user"><a href="https://www.douban.com/people/foo_hack/" class=" " title="MathxH">MathxH</a>
              
                <span class="allstar40" title="推荐"></span>
            </p>
            <div class="reading-note" data-cid="31089543">
              <div class="short">
                
                  <div class="ll">
                    <a href="https://book.douban.com/annotation/31089543/"><img src="https://img3.doubanio.com/view/page_note/small/public/p31089543-1.jpg"></a>
                  </div>
                  <span class="">线程的消息队列


让我们先花一些时间来比较 Win16 和 Win32 两者的消息队列。在
Win16 中，所有窗口共享同一个消息队列。如果某个程序停止处理消息队列中
的数据（也就是消息），那么所有的窗口就都会停止回应。这在 Windows 3.x
中是一个严重的问题，也是系统之所以会被锁死而不再做出反应的最大原因。
在 Win32 中，每一个线程有它自己专属的消息队列。这并不意味着每一
个窗口有它自己的消息队列，因为一个线程可以产..</span>
                <p class="pl">
                  <span class="">2014-04-01 10:42</span>
                  
                </p>
              </div>
              <div class="all hidden" style="display:none" >
                线程的消息队列<div style="padding-bottom:1em;"></div><blockquote><q>
让我们先花一些时间来比较 Win16 和 Win32 两者的消息队列。在
Win16 中，所有窗口共享同一个消息队列。如果某个程序停止处理消息队列中
的数据（也就是消息），那么所有的窗口就都会停止回应。这在 Windows 3.x
中是一个严重的问题，也是系统之所以会被锁死而不再做出反应的最大原因。
在 Win32 中，每一个线程有它自己专属的消息队列。这并不意味着每一
个窗口有它自己的消息队列，因为一个线程可以产生许多窗口。如果一个线程
停止回应，或是它忙于一段耗时的计算工作，那么由它所产生的窗口统统都会
停止回应，但系统中的其他窗口还是继续正常运作。
</q></blockquote><div style="padding-bottom:1em;"></div>以下是一个非常基本的规则，用来管理 Win32 中的线程、消息、窗口的<div style="padding-bottom:1em;"></div>互动：<div style="padding-bottom:1em;"></div><blockquote><q>
所有传送给某一窗口之消息，将由产生该窗口之线程负责处理。

你对窗口所做的任何一件事情基本上都会被该窗口的窗口函数（那个CALLBACK函数，窗口回调）处理，并因此被产生该窗口的线程处理。
</q></blockquote><div style="padding-bottom:1em;"></div>消息如何周游列国<div style="padding-bottom:1em;"></div><blockquote><q>
当你进入一个窗口函数时，如果观察 Windows NT 中的调用堆栈（call
stack），通常总是可以追踪回到 WinMain()，那是你的程序的起始点（Windows
95 则因为 16-bit thunking（译注）的缘故，故事不是这样发展）。你会在调用
堆栈（call stack）中看到某些函数位于 USER32.DLL 或 KERNEL32.DLL 之
中。这些函数用来将消息派送（dispatch）到适当的窗口函数去，并调用该窗
口函数。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
所谓 thunking，可以说是一种转换，把 16 位函数调用（包括其中的参数以
及参数所代表或隐含的地址等等）转换为 32 位函数调用。或是反向转换。
16 位转为 32 位称为 thunk up，32 位转为 16 位称为 thunk down，而其间
的转换机制称为 thunking layer。
</q></blockquote><div style="padding-bottom:1em;"></div>Windows 会自动计算出哪一个线程应该收到消息，以及线程应该如何被<div style="padding-bottom:1em;"></div>告知说有这么一个消息进来。一共有四种可能，列于下表。<div style="padding-bottom:1em;"></div><div class="middle"><img src="https://img3.doubanio.com/view/page_note/large/public/p31089543-1.jpg" alt=""><br><span class="pic-title"></span></div><div style="padding-bottom:1em;"></div><blockquote><q>
请注意，当你“send”一个消息给另一线程所掌握的窗口时，会发生什么
事情？系统必须做一次 context switch，切换到另一线程去，调用该窗口函数，
然后再做一次 context switch 切换回来。与一般的函数调用比起来，其间的额
外负担毋宁说是太大了些。

这个巨大的额外负担正是为什么“每个 MDI 窗口不应该有一个线程”
的头号原因。其间的牵连倒不是立刻就能浮现出来，毕竟一个 MDI 程序背后
的观念是要让每一个窗口能够独立工作，所以似乎不会喜欢让各个窗口间常有
沟通。问题出在主窗口！

时髦的 Windows 程序往往挂上一大堆琳琅满目的“勋章”：工具栏（toolbars）啦、状态栏（status bars）啦、调色板（palettes）啦。它们统统必须被处理、被更新状态、被致能（enabled）或除能（disabled）。这些动作通常由目前作用中的子窗口负责，因为这些“勋章”的状态系由作用中的
子窗口决定。在 MFC 中，这个行为已经被 OnUpdate() 完全承担下来。如果这些“勋章”存活于不同的线程中，那么更新其状态可能需要数百次 context switches。这样的结果将对效率带来严重的冲击。
</q></blockquote><div style="padding-bottom:1em;"></div>睡眠之中还能工作的线程<div style="padding-bottom:1em;"></div><blockquote><q>
有一件事情很重要，必须了解：当你“send”一个消息出去时，你的线程
将暂时处于睡眠状态。这使得 SendMessage() 就像一个典型的函数调用操作。
虽然你的线程正在等待 SendMessage() 的返回，但它还是可以处理外界对
其拥有之窗口的任何 SendMessage() 调用操作，甚至即使线程不处于主消息循
环（其中有 GetMessage() 和 DispatchMessage() 操作）之中。如果 Windows 不
这样设计，那么该线程所拥有的其他任何窗口就会停止反应，并且无法回答来
自外界的任何 SendMessage() 操作。
</q></blockquote><div style="padding-bottom:1em;"></div><div class="middle"><img src="https://img3.doubanio.com/view/page_note/large/public/p31089543-2.jpg" alt=""><br><span class="pic-title"></span></div><div style="padding-bottom:1em;"></div><blockquote><q>
虽然 waiting thread 可以处理来自 SendMessage() 的消息，但它不处理其
他种类（像是位于消息队列中）的消息。如果 destination thread 开启一个对话
框（译注：会将其父窗口除能的那种，也就是“modal dialog”），或是进入
一个消息循环中，以至于没有返回至 waiting thread 的 SendMessage() 调用
处，那么就可能引起一些问题。为了解决这问题，当 destination thread 调用以
下任何函数，waiting thread 必须自动醒来：
DialogBox()
DialogBoxIndirect()
DialogBoxIndirectParam()
DialogBoxParam()
GetMessage()
MessageBox()
PeekMessage()


我们可以测试一个线程（译注：也就是前述的 waiting thread）是否正陷于
“SendMessage() 未返回”的进退维谷情况中，而且可以明白地让调用端（译
注：也就是前述的 waiting thread）醒来。这可能是有用的——如果你需要开始
一个长时间的计算工作，而发动计算的那个人（线程）不需要知道其结果的话。
如果某个线程（译注：也就是前述的 destination thread）正在处理由其他
线程“sent”过来的消息，所以你在该线程中调用 IsSendMessage()，会获得
TRUE。IsSendMessage() 不需要指定参数。

为了让调用端线程（译注：也就是前述的 waiting thread）能够继续工作，
我们可以调用 ReplyMessage()。
</q></blockquote><div style="padding-bottom:1em;"></div>消息在线程间流动的陷阱<div style="padding-bottom:1em;"></div><blockquote><q>
当 Windows 必须在线程之间“send”消息时，不论是否这些线程位于相
同进程之中，总是有这种可能：destination thread 被锁死，以至于 waiting thread
永远醒不过来。

这个问题在你跨越进程“send”消息时特别突出，因为你没有办法保证传
送对象（目标线程）的行为。Win32 提供了两个函数协助解决这个问题。

第一个函数是 SendMessageTimeout()。它允许你指定一个时间，时间终了
后不管对方怎么样，SendMessageTimeout() 一定会返回。如果对方“挂”了，
它也会自动返回。

第二个函数是 SendMessageCallback()。这个函数会立刻返回，但其参数
之一，一个函数地址，应该被以 SendMessage() 的方式调用起来。
</q></blockquote><div style="padding-bottom:1em;"></div>以Worker 线程完成多线程版MDI 程序<div style="padding-bottom:1em;"></div><blockquote><q>
欲在一个 MDI 程序中有效率地使用多个线程，我的建议是，以一个线程处理所有的用户输入，以及所有用户界面的管理，然后使用一个以上的线程来负责诸如重绘、打印等工作。或许你还需要一些线程，用来处理你的磁盘I/O或网络 I/O。不管你如何切割你的工作，很重要的一点是，你的主线程（负责主框架窗口）总是应该能够有所回应，不会陷入长时间计算的泥淖中。
</q></blockquote><div style="padding-bottom:1em;"></div>线程之间的通讯<div style="padding-bottom:1em;"></div><blockquote><q>
线程常常需要将数据传递给另一个线程。Worker 线程可能需要告诉别人说它的工作完成了，GUI 线程则可能需要交给 worker 线程一件新工作。

PostThreadMessage() 的操作就像 PostMessage() 一样，但是它的参数之一不是窗口 handle，而是线程 ID。当然，收受端线程必须有消息队列，不过至少这个队列是由操作系统管理，你不必操心。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
PostThreadMessage() 把消息“post”给一个线程，而非一个窗口。如果收受端线程尝试获取目标窗口的 handle，它会得到 NULL。所以，收受端线程的消息循环应该有特殊的处理方式，以处理窗口函数之外的消息。以消息当做通讯方式，比起标准技术如使用全局变量等，有很大的好处。
如果目标线程很忙碌，则负责“post”的那个线程不会因此停滞下来。
</q></blockquote><div style="padding-bottom:1em;"></div><blockquote><q>
如果对象是同一进程中的线程，你可以自定义消息，如WM_APP + 0x100等等，并配置一块结构，放置你想传递的数据，然后把结构指针当做lParam。收受端应该在处理完消息后负责释放内存。

如果你使用 PostThreadMessage() 在不同进程的线程之间传递消息，你必须使用 WM_COPYDATA 消息，这样一来数据才能够从一个地址空间中被映射到另一个地址空间。
</q></blockquote>
                  <div class="col-rec-con clearfix">
                    







<div class="rec-sec">

    <span class="rec">

<a href="https://www.douban.com/accounts/register?reason=collect" class="j a_show_login lnk-sharing lnk-douban-sharing">推荐</a>
</span>
</div>

                  </div>
                <div class="pl col-time">
                  <a href="https://book.douban.com/annotation/31089543/#comments">回应</a>&nbsp;&nbsp;
                  2014-04-01 10:42
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
  </ul>
  

    </div>
      <div class="ft">
        <p class="trr">&gt; <a href="https://book.douban.com/subject/1231702/annotation">更多读书笔记（共13篇）</a></p>
      </div>

</div>



<script type="text/javascript">
  $(document).ready(function(){
    var TEMPL_ADD_COL = '<a href="" id="n-{NOTE_ID}" class="colbutt ll add-col"><span>收藏</span></a>',
      TEMPL_DEL_COL = '<span class="pl">已收藏 &gt;<a href="" id="n-{NOTE_ID}" class="del-col">取消收藏</a></span>';

    $('body').delegate('.add-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_add = $(this);
      $.post_withck("/j/book/annotation_collect",{nid:nnid},function(){
        var a = $(TEMPL_DEL_COL.replace('{NOTE_ID}', nnid));
        bn_add.before(a);
        bn_add.remove();
      })
    });

    $('body').delegate('.del-col', 'click', function(e){
      e.preventDefault();
      var nnid = $(this).attr('id').split('-')[1],
        bn_del = $(this).parent();
      $.post_withck("/j/book/annotation_uncollect", {nid: nnid}, function() {
        var a = $(TEMPL_ADD_COL.replace('{NOTE_ID}', nnid));
        bn_del.before(a);
        bn_del.remove();
      })
    });

    $("pre.source").each(function(){
      var cn = $(this).attr('class').split(' ');
      l = cn[1];
      s = 'rand01';
      n = cn[2];
      $(this).snippet(n,{style: s, showNum: l});
    });

    var annotationMod = $('.reading-notes .bd')
      , annotationTabs = annotationMod.find('.inline-tabs li')
      , annotationTabLinks = annotationTabs.find('a')
      , annotationTabContents = annotationMod.find('ul.comments');

    annotationTabLinks.click(function(e){
      e.preventDefault();
      var el = $(this)
        , kind = el.attr('id');

      annotationTabs.removeClass('on');
      el.parent().addClass('on');
      annotationTabContents.hide();
      annotationTabContents.filter('.' + kind).show();
    });
  });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
	jax: ["input/TeX", "output/HTML-CSS"],
    extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js","TeX/noUndefined.js"],
    tex2jax: {
		inlineMath: [ ["($", "$)"], ['\\(','\\)'] ],
		displayMath: [ ["($$","$$)"], ['\\[','\\]']],
		skipTags: ["script","noscript","style","textarea"],
		processEscapes: true,
		processEnvironments: true,
		preview: "TeX"
	},
	showProcessingMessages: false
  });
</script>


  






<div id="db-discussion-section" class="indent ugc-mod">




        
  

  <h2>
    <span class="">论坛</span>
      ······

  </h2>



        
<table class="olt"><tr><td><td><td><td></tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/1231702/discussion/47825587/" title="读书笔记" class="">读书笔记</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/2581051/">Name5566</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2012-08-02</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/1231702/discussion/12829258/" title="比起《Windows核心编程》这本非常简单易懂，侯捷的翻译太赞了" class="">比起《Windows核心编程》这本非常简单易懂，侯捷的...</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/xbr9/">chilema</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2009-03-05</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/1231702/discussion/1102375/" title="windows设计必读之物" class="">windows设计必读之物</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/bzero/">一天哥哥</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2007-10-29</span></td>
        </tr>
        
        <tr class="">
            <td class="pl"><a href="https://book.douban.com/subject/1231702/discussion/1094132/" title="好书" class="">好书</a></td>
            <td class="pl"><span class="">来自</span><a class="" href="https://www.douban.com/people/1803496/">人非圣贤</a></td>
            <td class="pl"><span class=""></span></td>
            <td class="pl"><span class="">2007-09-26</span></td>
        </tr>
</table>




</div>




</div>
<script type="text/javascript">
$(function(){if($.browser.msie && $.browser.version == 6.0){
    var maxWidth = parseInt($('#info').css('max-width'));
    if($('#info').width() > maxWidth)
        $('#info').width(maxWidth)
}});
</script>
</div>
      <div class="aside">
        
  
  






  <div id="dale_book_subject_top_right"></div>

  






<style type="text/css" media="screen">
  .add2cartContainer{overflow:hidden;vertical-align:bottom;line-height:1}.add2cartContainer .add2cart{margin-right:0;display:inline-block}#buyinfo .bs{margin:0}#buyinfo li{padding:10px 0;position:relative;line-height:1;border-bottom:1px solid #eaeaea}#buyinfo li a:hover{background-image:none !important}#buyinfo li a:hover .buylink-price{background:#37a}#buyinfo li .publish,#buyinfo li .other-activity{margin-top:5px}#buyinfo li .publish a,#buyinfo li .other-activity a{color:#999}#buyinfo li .publish a:hover,#buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#buyinfo .more-info{color:#aaa;margin:6px 0 -2px 0}#buyinfo .more-ebooks{padding:10px 0;color:#37a;cursor:pointer}#buyinfo .price-page{border-bottom:0;padding:15px 0 0}#buyinfo .saved-price{display:none;margin-left:5px}#buyinfo .cart-tip{float:right;padding-right:5px}#buyinfo #buyinfo-ebook{margin-bottom:15px}#buyinfo #buyinfo-ebook .buylink-price{display:inline}#buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed{margin-bottom:15px}#buyinfo-printed.no-border{border-bottom:0}#buyinfo-printed .more-ebooks{line-height:1;padding:10px 0;color:#37a;cursor:pointer;padding:10px 0 0}#buyinfo-report{display:none}#buyinfo-report .lnk-close-report{float:right;margin-top:-30px;line-height:14px}#buyinfo-report .item{margin-bottom:10px}#buyinfo-report .item input{vertical-align:text-bottom;*vertical-align:middle}#buyinfo-report .item label{margin:0 5px 0 2px}#buyinfo-report .item-submit .bn-flat{margin-right:10px}#buyinfo-report .item-price input{width:220px;border:1px solid #ccc;padding:4px}#buyinfo-report form{margin:5px 0 10px}#bi-report-btn{float:right;margin:2px 0;line-height:14px;display:none}.bi-vendor-report{color:#aaa}.bi-vendor-report-form{display:none;color:#111;margin:0 5px;line-height:25px}.gray_ad{padding:30px 20px 25px 20px;background:#f6f6f1}.gray_ad h2{margin-bottom:6px;font-size:15px}.gray_ad .ebook-tag{margin-top:5px;color:#999;font-size:12px}.bs.more-after{margin-bottom:0px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){#buyinfo li a:hover{background-image:url(https://img3.doubanio.com/f/book/fc4ff7f0a3a7f452f06d586540284b9738f2fe87/pics/book/cart/icon-brown@2x.png);background-size:16px 12px}}#intervenor-buyinfo .bs{margin:0}#intervenor-buyinfo li{position:relative;border-bottom:1px solid #eaeaea;padding:10px 0;line-height:1}#intervenor-buyinfo li .basic-info{color:#494949;font-size:14px;line-height:18px}#intervenor-buyinfo li a:hover .comment{color:#f67;opacity:0.75;filter:alpha(opacity=75)}#intervenor-buyinfo li a:hover .buy-btn{background:#fff;border:1px solid #e97e7e;border-radius:2px;color:#e97e7e}#intervenor-buyinfo li a:hover .buylink-price{background:#37a}#intervenor-buyinfo li .buylink-price{position:absolute;right:90px;text-align:right}#intervenor-buyinfo li .publish,#intervenor-buyinfo li .other-activity{margin-top:5px}#intervenor-buyinfo li .publish a,#intervenor-buyinfo li .other-activity a{color:#999}#intervenor-buyinfo li .publish a:hover,#intervenor-buyinfo li .other-activity a:hover{color:#37a;background:none;opacity:0.5;filter:alpha(opacity=50)}#intervenor-buyinfo .jd-buy-icon{float:left;margin-right:3px}#intervenor-buyinfo .buy-btn{float:right;position:absolute;right:10px;bottom:3px;color:#9c9c9c;padding:0 12px;border:1px solid transparent}#intervenor-buyinfo .comment{color:#FF8C9C;margin:6px 0 -2px 0}#intervenor-buyinfo .price-page a{display:inline-block;line-height:16px !important}#intervenor-buyinfo .price-page{border-bottom:0;padding:15px 0 0}#intervenor-buyinfo .saved-price{display:none;margin-left:5px}#intervenor-buyinfo .cart-tip{float:right;padding-right:5px}#intervenor-buyinfo #buyinfo-ebook{margin-bottom:15px}#intervenor-buyinfo #buyinfo-ebook .buylink-price{display:inline}#intervenor-buyinfo #buyinfo-ebook li.no-border{border:0}#buyinfo-printed .presale-indicator{margin:0;color:#999;text-indent:0;background:none}

</style>

      <div class="gray_ad" id="buyinfo">
      
  <div class="add2cartContainer ft no-border">
    
  <span class="add2cartWidget ll">
      <a class="j  add2cart a_show_login" href="https://www.douban.com/register?reason=addbook2cart" rel="nofollow">
        <span>+ 加入购书单</span></a>
  </span>
  

  </div>

  </div>
  <script type="text/javascript">
  $('.more-ebooks').on('click', function() {
    var $this = $(this),
      $li = $this.siblings('ul').find('li');
    if ($this.hasClass('isShow')) {
      $(this).text('展开更多').removeClass('isShow');
      $li.not(':first').addClass('hide');
    }else{
      $(this).text('收起').addClass('isShow');
      $li.removeClass('hide');
    }
    
  })
  </script>

<style class="text/css">
  .presale-indicator {
  display: inline-block;
  *display: inline;
  *zoom: 1;
  height: 15px;
  line-height: 15px;
  background: url(https://img3.doubanio.com/f/book/1679c65572eac1371f9872807199dea6e55a7f06/pics/book/cart/presale_text.gif) no-repeat;
  text-indent: -9999px;
  vertical-align: middle;
  *vertical-align: 0px;
  _vertical-align: 2px;
  margin-left: 0.5em;
}

</style>



  





<div class="gray_ad" id="borrowinfo">
  
  

  <h2>
    <span class="">在哪儿借这本书</span>
      ······

  </h2>


  <ul class="bs more-after">
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fwww.bplisn.net.cn%2FBookSearch.aspx%3FISBN%3D7-5609-2638-X&amp;subject=756092638X&amp;type=borrow&amp;library=10007&amp;link2key=7a86ca90fb" target="_blank">北京市公共图书馆(1)</a>
      </li>
      
      <li style="border: none">
        <a href="https://www.douban.com/link2/?url=http%3A%2F%2Fipac.library.sh.cn%2Fipac20%2Fipac.jsp%3Faspect%3Dbasic_search%26profile%3Dsl%26index%3DISBN%26term%3D756092638X&amp;subject=756092638X&amp;type=borrow&amp;library=10012&amp;link2key=7a86ca90fb" target="_blank">上海市中心图书馆(2)</a>
      </li>
  </ul>
  <div class="clearfix"></div>
  <!--<div class="ft pl">-->
    <!--<a class="rr"  href="https://book.douban.com/library_invitation">&gt; 图书馆合作</a>-->
    <!--找不到你需要的图书馆？-->
  <!--</div>-->
</div>

  <div id="dale_book_subject_top_middle"></div>
  





  

  
  

  <h2>
    <span class="">这本书的其他版本 </span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/works/1062098">全部2</a>
        ) </span>

  </h2>


  <div class="indent">
    <ul>
        <li class="mb8 pl">
          <a href="https://book.douban.com/subject/3154639/">Addison-Wesley Professional版</a>
          1996-12-29 / 4人读过
        </li>
    </ul>
  </div>


  



      
  

  <h2>
    <span class="">以下豆列推荐</span>
      ······
      <span class="pl">&nbsp;(
          <a href="https://book.douban.com/subject/1231702/doulists">全部</a>
        ) </span>

  </h2>


    <div id="db-doulist-section" class="indent">
      <ul class="bs">
          <li class=""><a class="" href="https://www.douban.com/doulist/172288/" target="_blank">计算机理论</a>
                <span class="pl">(mashan_snail)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/85054/" target="_blank">【win32程序员必读】</a>
                <span class="pl">(小李飞刀)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/207715/" target="_blank">程序员必读</a>
                <span class="pl">(sagasw)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/152313/" target="_blank">并行與分布式計算相關</a>
                <span class="pl">(dionysus)</span>
            </li>
          <li class=""><a class="" href="https://www.douban.com/doulist/24184/" target="_blank">C语言及其他</a>
                <span class="pl">(4K)</span>
            </li>
      </ul>
    </div>

  <div id="dale_book_subject_middle_mini"></div>
  






  <h2>谁读这本书?</h2>
  <div class="indent" id="collector">

    

<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/141498267/"><img src="https://img3.doubanio.com/icon/u141498267-2.jpg" class="pil" alt="seraph" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/141498267/">seraph</a><br/>
      <div class="pl ll">          1月4日          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/62508945/"><img src="https://img1.doubanio.com/icon/u62508945-7.jpg" class="pil" alt="王呜呜" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/62508945/">王呜呜</a><br/>
      <div class="pl ll">          2017年12月18日          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>
<div class="">
    
    <div class="ll"><a href="https://www.douban.com/people/102456163/"><img src="https://img3.doubanio.com/icon/u102456163-4.jpg" class="pil" alt="Wr的精神角落" /></a></div>
    <div style="padding-left:60px"><a class="" href="https://www.douban.com/people/102456163/">Wr的精神角落</a><br/>
      <div class="pl ll">          2017年11月29日          想读      </div>

      <br/>


    </div>
    <div class="clear"></div><br/>
    <div class="ul" style="margin-bottom:12px;"></div>
</div>


        <p class="pl">&gt; <a href="https://book.douban.com/subject/1231702/doings">47人在读</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/1231702/collections">278人读过</a></p>
        <p class="pl">&gt; <a href="https://book.douban.com/subject/1231702/wishes">356人想读</a></p>

  </div>





  
<!-- douban ad begin -->
<div id="dale_book_subject_middle_right"></div>
<script type="text/javascript">
    (function (global) {
        if(!document.getElementsByClassName) {
            document.getElementsByClassName = function(className) {
                return this.querySelectorAll("." + className);
            };
            Element.prototype.getElementsByClassName = document.getElementsByClassName;

        }
        var articles = global.document.getElementsByClassName('article'),
            asides = global.document.getElementsByClassName('aside');

        if (articles.length > 0 && asides.length > 0 && articles[0].offsetHeight >= asides[0].offsetHeight) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_middle_right');
        }
    })(this);
</script>
<!-- douban ad end -->

  





  

  <h2>二手市场</h2>
  <div class="indent">
    <ul class="bs">
    <li class="">
        <a class=" " href="https://book.douban.com/subject/1231702/offers">5本二手书欲转让</a>
          <span class="">
            (25.00
                至 153.00元)
          </span>
      </li>
      <li>
          <a class="rr j a_show_login" href="https://www.douban.com/register?reason=secondhand-offer&amp;cat=book"><span>&gt; 点这儿转让</span></a>

        有356人想读,手里有一本闲着?
      </li>
    </ul>
  </div>

  
<p class="pl">订阅关于Win32多线程程序设计的评论: <br/><span class="feed">
    <a href="https://book.douban.com/feed/subject/1231702/reviews"> feed: rss 2.0</a></span></p>


      </div>
      <div class="extra">
        
  
<!-- douban ad begin -->
<div id="dale_book_subject_bottom_super_banner"></div>
<script type="text/javascript">
    (function (global) {
        var body = global.document.body,
            html = global.document.documentElement;

        var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
        if (height >= 2000) {
            (global.DoubanAdSlots = global.DoubanAdSlots || []).push('dale_book_subject_bottom_super_banner');
        }
    })(this);
</script>
<!-- douban ad end -->


      </div>
    </div>
  </div>

        
<div id="footer">

<span id="icp" class="fleft gray-link">
    &copy; 2005－2018 douban.com, all rights reserved 北京豆网科技有限公司
</span>

<a href="https://www.douban.com/hnypt/variformcyst.py" style="display: none;"></a>

<span class="fright">
    <a href="https://www.douban.com/about">关于豆瓣</a>
    · <a href="https://www.douban.com/jobs">在豆瓣工作</a>
    · <a href="https://www.douban.com/about?topic=contactus">联系我们</a>
    · <a href="https://www.douban.com/about?policy=disclaimer">免责声明</a>
    
    · <a href="https://help.douban.com/?app=book" target="_blank">帮助中心</a>
    · <a href="https://book.douban.com/library_invitation">图书馆合作</a>
    · <a href="https://www.douban.com/doubanapp/">移动应用</a>
    · <a href="https://www.douban.com/partner/">豆瓣广告</a>
</span>

</div>

    </div>
      
  

    <script type="text/javascript" src="https://img3.doubanio.com/misc/mixed_static/b93d8ec8cf50308.js"></script>
    <!-- mako -->
    
  








    
<script type="text/javascript">
    (function (global) {
        var newNode = global.document.createElement('script'),
            existingNode = global.document.getElementsByTagName('script')[0],
            adSource = '//erebor.douban.com/',
            userId = '',
            browserId = 'iEJAXCEdxkU',
            criteria = '7:多线程|7:Windows|7:Windows编程|7:编程|7:Win32|7:计算机|7:侯捷|7:C++|7:programming|7:软件开发|3:/subject/1231702/',
            preview = '',
            debug = false,
            adSlots = ['dale_book_subject_top_icon', 'dale_book_subject_top_right', 'dale_book_subject_top_middle', 'dale_book_subject_middle_mini'];

        global.DoubanAdRequest = {src: adSource, uid: userId, bid: browserId, crtr: criteria, prv: preview, debug: debug};
        global.DoubanAdSlots = (global.DoubanAdSlots || []).concat(adSlots);

        newNode.setAttribute('type', 'text/javascript');
        newNode.setAttribute('src', 'https://img3.doubanio.com/f/adjs/d59867ddbe8a25645584b467a58a41cbd672c9be/ad.release.js');
        newNode.setAttribute('async', true);
        existingNode.parentNode.insertBefore(newNode, existingNode);
    })(this);
</script>












    
  

<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var p=(('https:' == document.location.protocol) ? 'https' : 'http'), u=p+'://fundin.douban.com/';
    _paq.push(['setTrackerUrl', u+'piwik']);
    _paq.push(['setSiteId', '100001']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; 
    g.type='text/javascript';
    g.defer=true; 
    g.async=true; 
    g.src=p+'://s.doubanio.com/dae/fundin/piwik.js';
    s.parentNode.insertBefore(g,s);
  })();
</script>

<script type="text/javascript">
var setMethodWithNs = function(namespace) {
  var ns = namespace ? namespace + '.' : ''
    , fn = function(string) {
        if(!ns) {return string}
        return ns + string
      }
  return fn
}

var gaWithNamespace = function(fn, namespace) {
  var method = setMethodWithNs(namespace)
  fn.call(this, method)
}

var _gaq = _gaq || []
  , accounts = [
      { id: 'UA-7019765-1', namespace: 'douban' }
    , { id: 'UA-7019765-16', namespace: '' }
    ]
  , gaInit = function(account) {
      gaWithNamespace(function(method) {
        gaInitFn.call(this, method, account)
      }, account.namespace)
    }
  , gaInitFn = function(method, account) {
      _gaq.push([method('_setAccount'), account.id])

      
  _gaq.push([method('_addOrganic'), 'google', 'q'])
  _gaq.push([method('_addOrganic'), 'baidu', 'wd'])
  _gaq.push([method('_addOrganic'), 'soso', 'w'])
  _gaq.push([method('_addOrganic'), 'youdao', 'q'])
  _gaq.push([method('_addOrganic'), 'so.360.cn', 'q'])
  _gaq.push([method('_addOrganic'), 'sogou', 'query'])
  if (account.namespace) {
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣'])
    _gaq.push([method('_addIgnoredOrganic'), 'douban'])
    _gaq.push([method('_addIgnoredOrganic'), '豆瓣网'])
    _gaq.push([method('_addIgnoredOrganic'), 'www.douban.com'])
  }

      if (account.namespace === 'douban') {
        _gaq.push([method('_setDomainName'), '.douban.com'])
      }

        _gaq.push([method('_setCustomVar'), 1, 'responsive_view_mode', 'desktop', 3])

        _gaq.push([method('_setCustomVar'), 2, 'login_status', '0', 2]);

      _gaq.push([method('_trackPageview')])
    }

for(var i = 0, l = accounts.length; i < l; i++) {
  var account = accounts[i]
  gaInit(account)
}


;(function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
})()
</script>








    <!-- sindar14d-docker-->

</body>
</html>




































